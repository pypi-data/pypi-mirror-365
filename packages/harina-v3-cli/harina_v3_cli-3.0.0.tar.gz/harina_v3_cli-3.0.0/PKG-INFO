Metadata-Version: 2.4
Name: harina-v3-cli
Version: 3.0.0
Summary: CLI tool to recognize receipt images using Gemini API and output in XML format
Author-email: Developer <developer@example.com>
License: MIT
Project-URL: Homepage, https://github.com/example/harina-v3-cli
Project-URL: Repository, https://github.com/example/harina-v3-cli
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: litellm>=1.0.0
Requires-Dist: click>=8.0.0
Requires-Dist: pillow>=9.0.0
Requires-Dist: requests>=2.28.0
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: google-cloud-aiplatform>=1.0.0
Requires-Dist: google-auth>=2.0.0
Requires-Dist: loguru>=0.7.0
Dynamic: license-file

<div align="center">
  <img src="header.png" alt="Harina v3 CLI" />
  <h1>Harina v3 CLI</h1>
  
  <p>
    <img src="https://img.shields.io/badge/python-3.8+-blue.svg" alt="Python 3.8+">
    <img src="https://img.shields.io/badge/AI-Gemini%20%7C%20GPT%20%7C%20Claude-green.svg" alt="AI Models">
    <img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="MIT License">
    <img src="https://img.shields.io/badge/CLI-Receipt%20OCR-orange.svg" alt="CLI Tool">
  </p>
</div>

ãƒ¬ã‚·ãƒ¼ãƒˆç”»åƒã‚’èªè­˜ã—ã¦XMLå½¢å¼ã§å‡ºåŠ›ã™ã‚‹CLIãƒ„ãƒ¼ãƒ«ã§ã™ã€‚LiteLLMçµŒç”±ã§è¤‡æ•°ã®AIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆGoogle Geminiã€OpenAIã€Anthropic Claudeç­‰ï¼‰ã‚’ä½¿ç”¨ã—ã¦ãƒ¬ã‚·ãƒ¼ãƒˆã®å†…å®¹ã‚’è§£æã—ã¾ã™ã€‚

## âœ¨ æ©Ÿèƒ½

- ãƒ¬ã‚·ãƒ¼ãƒˆç”»åƒã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±ã‚’æŠ½å‡º
- åº—èˆ—æƒ…å ±ã€å•†å“æƒ…å ±ã€é‡‘é¡æƒ…å ±ã‚’æ§‹é€ åŒ–ã•ã‚ŒãŸXMLå½¢å¼ã§å‡ºåŠ›
- Google Gemini APIã‚’ä½¿ç”¨ã—ãŸé«˜ç²¾åº¦ãªç”»åƒèªè­˜
- ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

```bash
# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
uv sync

# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
uv pip install -e .

# ä½¿ç”¨æ–¹æ³•
harina path/to/receipt.jpg
```

## ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

uvã‚’ä½¿ç”¨ã—ã¦ç’°å¢ƒæ§‹ç¯‰ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è¡Œã„ã¾ã™ï¼š

```bash
# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
uv sync

# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
uv pip install -e .
```

## ğŸ’¡ ä½¿ç”¨æ–¹æ³•

### ğŸ”‘ ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

Gemini API ã‚­ãƒ¼ã‚’è¨­å®šã™ã‚‹æ–¹æ³•ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

#### æ–¹æ³•1: .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š

```bash
# .envãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹ã‚’ã‚³ãƒ”ãƒ¼
cp .env.example .env
```

`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦APIã‚­ãƒ¼ã‚’è¨­å®šï¼š

```
# Google Geminiã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
GEMINI_API_KEY=your_actual_gemini_api_key_here

# OpenAI GPTã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
OPENAI_API_KEY=your_actual_openai_api_key_here

# Anthropic Claudeã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
ANTHROPIC_API_KEY=your_actual_anthropic_api_key_here
```

**é‡è¦**: å®Ÿéš›ã®APIã‚­ãƒ¼ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¯å®Ÿéš›ã®å€¤ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

#### æ–¹æ³•2: ç’°å¢ƒå¤‰æ•°ã‚’ç›´æ¥è¨­å®š

Windows (PowerShell):
```powershell
# Google Geminiã®å ´åˆ
$env:GEMINI_API_KEY="your_actual_gemini_api_key_here"

# OpenAI GPTã®å ´åˆ
$env:OPENAI_API_KEY="your_actual_openai_api_key_here"

# Anthropic Claudeã®å ´åˆ
$env:ANTHROPIC_API_KEY="your_actual_anthropic_api_key_here"
```

Windows (CMD):
```cmd
rem Google Geminiã®å ´åˆ
set GEMINI_API_KEY=your_actual_gemini_api_key_here

rem OpenAI GPTã®å ´åˆ
set OPENAI_API_KEY=your_actual_openai_api_key_here

rem Anthropic Claudeã®å ´åˆ
set ANTHROPIC_API_KEY=your_actual_anthropic_api_key_here
```

Linux/macOS:
```bash
# Google Geminiã®å ´åˆ
export GEMINI_API_KEY="your_actual_gemini_api_key_here"

# OpenAI GPTã®å ´åˆ
export OPENAI_API_KEY="your_actual_openai_api_key_here"

# Anthropic Claudeã®å ´åˆ
export ANTHROPIC_API_KEY="your_actual_anthropic_api_key_here"
```

### ğŸ› ï¸ åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

```bash
# æ¨™æº–å‡ºåŠ›ã«XMLã‚’å‡ºåŠ›ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: Gemini 1.5 Flashï¼‰
harina path/to/receipt_image.jpg

# ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›
harina path/to/receipt_image.jpg -o output.xml

# ç•°ãªã‚‹Geminiãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨
harina path/to/receipt_image.jpg --model gemini/gemini-1.5-pro

# OpenAIã®GPT-4oã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼ˆOPENAI_API_KEYãŒå¿…è¦ï¼‰
harina path/to/receipt_image.jpg --model gpt-4o

# Claude 3 Sonnetã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼ˆANTHROPIC_API_KEYãŒå¿…è¦ï¼‰
harina path/to/receipt_image.jpg --model claude-3-sonnet-20240229

# ç’°å¢ƒå¤‰æ•°ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¢ãƒ‡ãƒ«ã‚’è¨­å®š
export HARINA_MODEL=gpt-4o
harina path/to/receipt_image.jpg
```

### ğŸ“„ å‡ºåŠ›å½¢å¼

XMLã®å‡ºåŠ›å½¢å¼ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š

```xml
<?xml version="1.0" ?>
<receipt>
  <store_info>
    <name>åº—èˆ—å</name>
    <address>ä½æ‰€</address>
    <phone>é›»è©±ç•ªå·</phone>
  </store_info>
  <transaction_info>
    <date>2024-01-15</date>
    <time>14:30</time>
    <receipt_number>12345</receipt_number>
  </transaction_info>
  <items>
    <item>
      <name>å•†å“å1</name>
      <quantity>1</quantity>
      <unit_price>100</unit_price>
      <total_price>100</total_price>
    </item>
    <item>
      <name>å•†å“å2</name>
      <quantity>2</quantity>
      <unit_price>200</unit_price>
      <total_price>400</total_price>
    </item>
  </items>
  <totals>
    <subtotal>500</subtotal>
    <tax>50</tax>
    <total>550</total>
  </totals>
  <payment_info>
    <method>ç¾é‡‘</method>
    <amount_paid>1000</amount_paid>
    <change>450</change>
  </payment_info>
</receipt>
```

## ğŸ–¼ï¸ å¯¾å¿œç”»åƒå½¢å¼

- JPEG (.jpg, .jpeg)
- PNG (.png)
- GIF (.gif)
- BMP (.bmp)
- ãã®ä»–PILï¼ˆPillowï¼‰ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹å½¢å¼

## ğŸ“‹ å¿…è¦ãªä¾å­˜é–¢ä¿‚

- Python 3.8ä»¥ä¸Š
- litellm
- click
- pillow
- requests

## ğŸ” API ã‚­ãƒ¼ã®å–å¾—

ä½¿ç”¨ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã«å¿œã˜ã¦ã€ä»¥ä¸‹ã‹ã‚‰APIã‚­ãƒ¼ã‚’å–å¾—ã—ã¦ãã ã•ã„ï¼š

| ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ | å–å¾—å…ˆ | ç’°å¢ƒå¤‰æ•° |
|-------------|--------|----------|
| **Google Gemini** | [Google AI Studio](https://makersuite.google.com/app/apikey) | `GEMINI_API_KEY` |
| **OpenAI GPT** | [OpenAI Platform](https://platform.openai.com/api-keys) | `OPENAI_API_KEY` |
| **Anthropic Claude** | [Anthropic Console](https://console.anthropic.com/) | `ANTHROPIC_API_KEY` |

### ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«é–¢ã™ã‚‹é‡è¦ãªæ³¨æ„äº‹é …

- **APIã‚­ãƒ¼ã‚’ç›´æ¥ã‚³ãƒ¼ãƒ‰ã«æ›¸ãè¾¼ã¾ãªã„ã§ãã ã•ã„**
- **APIã‚­ãƒ¼ã‚’Gitãƒªãƒã‚¸ãƒˆãƒªã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„ã§ãã ã•ã„**
- `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã¯`.gitignore`ã«å«ã¾ã‚Œã¦ã„ã‚‹ãŸã‚ã€Gitã§è¿½è·¡ã•ã‚Œã¾ã›ã‚“
- æœ¬ç•ªç’°å¢ƒã§ã¯ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ã—ã¦APIã‚­ãƒ¼ã‚’è¨­å®šã—ã¦ãã ã•ã„
- APIã‚­ãƒ¼ãŒæ¼æ´©ã—ãŸå ´åˆã¯ã€ã™ãã«Google AI Studioã§ç„¡åŠ¹åŒ–ã—ã€æ–°ã—ã„ã‚­ãƒ¼ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„

## ğŸ“š è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ğŸ’¡ ä½¿ç”¨ä¾‹ã¨ã‚µãƒ³ãƒ—ãƒ«](example/README.md)
- [ğŸ”§ é–‹ç™ºè€…å‘ã‘ã‚¬ã‚¤ãƒ‰](docs/DEVELOPMENT.md)

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License
