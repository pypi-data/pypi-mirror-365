"use strict";(globalThis["webpackChunkunmanic_frontend"]=globalThis["webpackChunkunmanic_frontend"]||[]).push([[280],{280:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a=n(2444),i=n(4044);const r={class:"iframe-container"},s=["src"],l={key:1},o={class:"full-width row flex-center text-negative q-gutter-sm"},u={class:"full-width row flex-center text-negative absolute-center"};function c(e,t,n,c,d,m){const g=(0,a.E1)("q-icon"),h=(0,a.E1)("q-item-label"),p=(0,a.E1)("q-page");return(0,a.Wz)(),(0,a.Az)(p,null,{default:(0,a.Ql)((()=>[(0,a.QD)("div",r,[null!==d.iframeSrc?((0,a.Wz)(),(0,a.An)("iframe",{key:0,id:"data-panel-iframe",src:d.iframeSrc}," Your browser is not supported. Sorry. ",8,s)):((0,a.Wz)(),(0,a.An)("div",l,[(0,a.QD)("div",o,[(0,a.K2)(g,{size:"2em",name:"sentiment_dissatisfied"}),(0,a.K2)(h,null,{default:(0,a.Ql)((()=>[(0,a.mY)((0,i.WA)(e.$t("components.dataPanels.noDataPanelsEnabled")),1)])),_:1}),(0,a.K2)(g,{size:"2em",name:"priority_high"})]),(0,a.QD)("div",u,[(0,a.K2)(g,{size:"512px",name:"warning_amber"})])]))])])),_:1})}var d=n(5836),m=n(6728),g=n(7928),h=n(1432);const p={data(){const e=(0,d.IL)(null);return{page:"",iframeSrc:e,iframeHeight:"0px"}},created(){console.debug("Component has been created!"),"undefined"!==typeof this.$route.query&&"undefined"!==typeof this.$route.query.pluginId?(console.debug("Initial update using query in uri - "+this.$route.query.pluginId),this.setPageFromParams(this.$route.query.pluginId)):(console.debug("Fetching enabled panel plugins list and setting the first result as current window"),this.setPageAsFirstEnabledPanel())},methods:{setPageFromParams(e){if("undefined"!==typeof e){let t=h.c.getItem("theme");console.debug('setting iframe url to "/unmanic/panel/'+e+"/?theme="+t+'"'),this.iframeSrc="/unmanic/panel/"+e+"/?theme="+t}},setPageAsFirstEnabledPanel(){(0,m.c)({method:"get",url:(0,g.S)("v2","plugins/panels/enabled")}).then((e=>{if(e.data.results.length>0){let t=e.data.results[0];this.setPageFromParams(t.plugin_id)}})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToFetchEnabledDataPanelPlugins"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))}},watch:{$route(e,t){"undefined"!==typeof e.query&&(console.debug("Detected change in route with query in uri - "+e.query.pluginId),this.setPageFromParams(e.query.pluginId))}}};var f=n(8716),b=n(7059),y=n(8120),P=n(2992),q=n(5252),w=n.n(q);const v=(0,f.c)(p,[["render",c]]),I=v;w()(p,"components",{QPage:b.c,QIcon:y.c,QItemLabel:P.c})}}]);