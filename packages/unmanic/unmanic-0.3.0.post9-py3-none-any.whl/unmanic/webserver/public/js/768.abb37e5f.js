"use strict";(globalThis["webpackChunkunmanic_frontend"]=globalThis["webpackChunkunmanic_frontend"]||[]).push([[768],{6768:(t,e,l)=>{l.r(e),l.d(e,{default:()=>st});var n=l(2444),a=l(4044),o=l(9216),s=l.n(o);const i={class:"q-pa-none"},c={class:"row"},r={class:"col q-ma-sm"},d={class:"row"},u={class:"col-sm-6 col-xs-12"},p={class:"q-mb-none q-mt-sm"},m={class:"q-gutter-sm"},g={class:"q-pa-md",style:{"max-width":"350px"}},f={class:"col-sm-6 col-xs-12"},h={class:"q-mb-none q-mt-sm"},Q={class:"q-gutter-sm"},_={class:"q-pa-md",style:{"max-width":"350px"}},K={class:"q-mb-none q-mt-sm"},y={class:"q-gutter-sm"},b={class:"q-pa-md",style:{"max-width":"350px"}},v={class:"q-pa-md",style:{"max-width":"400px"}},q={class:"q-mb-none q-mt-sm"},w={class:"q-gutter-sm"},W={class:"row"},A={class:"col"},$={class:"row items-center"},k={class:"col-sm-6 col-xs-12"},L={class:"text-h6"},S={class:"text-subtitle2"},D={class:"col-auto"},z=["innerHTML"];function E(t,e,l,o,E,x){const R=(0,n.E1)("q-skeleton"),T=(0,n.E1)("q-img"),Y=(0,n.E1)("q-item-section"),C=(0,n.E1)("q-item-label"),I=(0,n.E1)("q-item"),P=(0,n.E1)("q-separator"),U=(0,n.E1)("q-icon"),V=(0,n.E1)("q-list"),N=(0,n.E1)("q-toggle"),O=(0,n.E1)("q-btn"),B=(0,n.E1)("q-card-section"),F=(0,n.E1)("q-card"),J=(0,n.E1)("q-page"),j=(0,n.iS)("ripple");return(0,n.Wz)(),(0,n.Az)(J,{padding:""},{default:(0,n.Ql)((()=>[(0,n.QD)("div",i,[(0,n.QD)("div",c,[(0,n.QD)("div",r,[(0,n.QD)("div",d,[(0,n.QD)("div",u,[(0,n.QD)("h5",p,(0,a.WA)(t.$t("components.settings.support.configuration")),1),(0,n.QD)("div",m,[null===E.debugging?((0,n.Wz)(),(0,n.Az)(R,{key:0,type:"QToggle"})):(0,n.g1)("",!0),(0,n.QD)("div",g,[(0,n.K2)(V,{padding:"",class:"rounded-borders"},{default:(0,n.Ql)((()=>[(0,n.K2)(I,null,{default:(0,n.Ql)((()=>[(0,n.K2)(Y,{avatar:""},{default:(0,n.Ql)((()=>[(0,n.K2)(T,{src:s()})])),_:1}),(0,n.K2)(Y,null,{default:(0,n.Ql)((()=>[(0,n.K2)(C,null,{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(t.$t("components.settings.support.appVersion"))+":",1)])),_:1}),(0,n.K2)(C,{caption:""},{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(o.appVersion),1)])),_:1})])),_:1})])),_:1}),(0,n.K2)(P,{spaced:"",inset:"item"}),(0,n.K2)(I,null,{default:(0,n.Ql)((()=>[(0,n.K2)(Y,{avatar:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{color:"primary",name:"fab fa-python"})])),_:1}),(0,n.K2)(Y,null,{default:(0,n.Ql)((()=>[(0,n.K2)(C,null,{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(t.$t("components.settings.support.pythonVersion"))+":",1)])),_:1}),(0,n.K2)(C,{caption:""},{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(o.pythonVersion),1)])),_:1})])),_:1})])),_:1}),(0,n.K2)(P,{spaced:"",inset:"item"}),(0,n.K2)(I,null,{default:(0,n.Ql)((()=>[(0,n.K2)(Y,{avatar:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{color:"primary",name:"computer"})])),_:1}),(0,n.K2)(Y,null,{default:(0,n.Ql)((()=>[(0,n.K2)(C,null,{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(t.$t("components.settings.support.platform"))+":",1)])),_:1}),(0,n.K2)(C,{caption:""},{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(o.platform),1)])),_:1})])),_:1})])),_:1}),(0,n.K2)(P,{spaced:"",inset:"item"}),(0,n.K2)(I,null,{default:(0,n.Ql)((()=>[(0,n.K2)(Y,{avatar:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{color:"primary",name:"fas fa-folder"})])),_:1}),(0,n.K2)(Y,null,{default:(0,n.Ql)((()=>[(0,n.K2)(C,null,{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(t.$t("components.settings.support.configPath"))+":",1)])),_:1}),(0,n.K2)(C,{caption:""},{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(o.configPath),1)])),_:1})])),_:1})])),_:1}),(0,n.K2)(I,null,{default:(0,n.Ql)((()=>[(0,n.K2)(Y,{avatar:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{color:"primary",name:"fas fa-folder"})])),_:1}),(0,n.K2)(Y,null,{default:(0,n.Ql)((()=>[(0,n.K2)(C,null,{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(t.$t("components.settings.support.logsPath"))+":",1)])),_:1}),(0,n.K2)(C,{caption:""},{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(o.logsPath),1)])),_:1})])),_:1})])),_:1}),(0,n.K2)(I,null,{default:(0,n.Ql)((()=>[(0,n.K2)(Y,{avatar:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{color:"primary",name:"fas fa-folder"})])),_:1}),(0,n.K2)(Y,null,{default:(0,n.Ql)((()=>[(0,n.K2)(C,null,{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(t.$t("components.settings.support.userdataPath"))+":",1)])),_:1}),(0,n.K2)(C,{caption:""},{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(o.userdataPath),1)])),_:1})])),_:1})])),_:1})])),_:1})])])]),(0,n.QD)("div",f,[(0,n.QD)("h5",h,(0,a.WA)(t.$t("components.settings.support.docs")),1),(0,n.QD)("div",Q,[null===E.debugging?((0,n.Wz)(),(0,n.Az)(R,{key:0,type:"QToggle"})):(0,n.g1)("",!0),(0,n.QD)("div",_,[(0,n.K2)(V,{dense:"",padding:"",class:"rounded-borders"},{default:(0,n.Ql)((()=>[(0,n.wt)(((0,n.Wz)(),(0,n.Az)(I,{onClick:e[0]||(e[0]=t=>x.openExternalURL("/unmanic/swagger")),clickable:""},{default:(0,n.Ql)((()=>[(0,n.K2)(Y,{avatar:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{color:"primary",name:"article"})])),_:1}),(0,n.K2)(Y,null,{default:(0,n.Ql)((()=>[(0,n.K2)(C,null,{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(t.$t("components.settings.support.apiSpec")),1)])),_:1}),(0,n.K2)(C,{caption:""})])),_:1}),(0,n.K2)(Y,{side:"",top:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{name:"open_in_new",color:"primary"})])),_:1})])),_:1})),[[j]]),(0,n.wt)(((0,n.Wz)(),(0,n.Az)(I,{onClick:e[1]||(e[1]=t=>x.openExternalURL("https://docs.unmanic.app/docs/")),clickable:""},{default:(0,n.Ql)((()=>[(0,n.K2)(Y,{avatar:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{color:"primary",name:"article"})])),_:1}),(0,n.K2)(Y,null,{default:(0,n.Ql)((()=>[(0,n.K2)(C,null,{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(t.$t("components.settings.support.applicationDocumentation")),1)])),_:1}),(0,n.K2)(C,{caption:""})])),_:1}),(0,n.K2)(Y,{side:"",top:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{name:"open_in_new",color:"primary"})])),_:1})])),_:1})),[[j]])])),_:1})])]),(0,n.QD)("h5",K,(0,a.WA)(t.$t("components.settings.support.support")),1),(0,n.QD)("div",y,[null===E.debugging?((0,n.Wz)(),(0,n.Az)(R,{key:0,type:"QToggle"})):(0,n.g1)("",!0),(0,n.QD)("div",b,[(0,n.K2)(V,{dense:"",padding:"",class:"rounded-borders"},{default:(0,n.Ql)((()=>[(0,n.wt)(((0,n.Wz)(),(0,n.Az)(I,{onClick:e[2]||(e[2]=t=>x.openExternalURL("https://github.com/Unmanic/unmanic/issues")),clickable:""},{default:(0,n.Ql)((()=>[(0,n.K2)(Y,{avatar:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{color:"primary",name:"fab fa-github"})])),_:1}),(0,n.K2)(Y,null,{default:(0,n.Ql)((()=>[(0,n.K2)(C,null,{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(t.$t("components.settings.support.unmanicAppSourceRequests")),1)])),_:1}),(0,n.K2)(C,{caption:""})])),_:1}),(0,n.K2)(Y,{side:"",top:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{name:"open_in_new",color:"primary"})])),_:1})])),_:1})),[[j]]),(0,n.wt)(((0,n.Wz)(),(0,n.Az)(I,{onClick:e[3]||(e[3]=t=>x.openExternalURL("https://github.com/Unmanic/unmanic-frontend/issues")),clickable:""},{default:(0,n.Ql)((()=>[(0,n.K2)(Y,{avatar:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{color:"primary",name:"fab fa-github"})])),_:1}),(0,n.K2)(Y,null,{default:(0,n.Ql)((()=>[(0,n.K2)(C,null,{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(t.$t("components.settings.support.unmanicFrontendSourceRequests")),1)])),_:1}),(0,n.K2)(C,{caption:""})])),_:1}),(0,n.K2)(Y,{side:"",top:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{name:"open_in_new",color:"primary"})])),_:1})])),_:1})),[[j]]),(0,n.wt)(((0,n.Wz)(),(0,n.Az)(I,{onClick:e[4]||(e[4]=t=>x.openExternalURL("https://github.com/Unmanic/unmanic-plugins/issues")),clickable:""},{default:(0,n.Ql)((()=>[(0,n.K2)(Y,{avatar:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{color:"primary",name:"fab fa-github"})])),_:1}),(0,n.K2)(Y,null,{default:(0,n.Ql)((()=>[(0,n.K2)(C,null,{default:(0,n.Ql)((()=>[(0,n.mY)((0,a.WA)(t.$t("components.settings.support.unmanicOfficialPluginRequests")),1)])),_:1}),(0,n.K2)(C,{caption:""})])),_:1}),(0,n.K2)(Y,{side:"",top:""},{default:(0,n.Ql)((()=>[(0,n.K2)(U,{name:"open_in_new",color:"primary"})])),_:1})])),_:1})),[[j]])])),_:1})])])])]),(0,n.K2)(P),(0,n.QD)("div",v,[(0,n.QD)("h5",q,(0,a.WA)(t.$t("components.settings.support.logs")),1),(0,n.QD)("div",w,[null===E.debugging?((0,n.Wz)(),(0,n.Az)(R,{key:0,type:"QToggle"})):((0,n.Wz)(),(0,n.Az)(N,{key:1,modelValue:E.debugging,"onUpdate:modelValue":[e[5]||(e[5]=t=>E.debugging=t),e[6]||(e[6]=t=>x.toggleDebugging(E.debugging))],label:t.$t("components.settings.support.enableDebugging")},null,8,["modelValue","label"]))])])])]),(0,n.QD)("div",W,[(0,n.QD)("div",A,[(0,n.K2)(F,{flat:"",bordered:"",style:{width:"2000px","max-width":"100%"}},{default:(0,n.Ql)((()=>[(0,n.K2)(B,null,{default:(0,n.Ql)((()=>[(0,n.QD)("div",$,[(0,n.QD)("div",k,[(0,n.QD)("div",L,(0,a.WA)(t.$t("components.settings.support.currentSystemLogs"))+":",1),(0,n.QD)("div",S,(0,a.WA)(o.logsPath),1)]),(0,n.QD)("div",D,[(0,n.K2)(O,{onClick:x.downloadLogs,color:"secondary","icon-right":"file_download",label:t.$t("components.settings.support.downloadSystemLogs")},null,8,["onClick","label"])])])])),_:1}),(0,n.K2)(P),(0,n.K2)(B,null,{default:(0,n.Ql)((()=>[0===o.currentLog.length?((0,n.Wz)(),(0,n.Az)(R,{key:0,style:{width:"100%"},type:"text"})):((0,n.Wz)(),(0,n.An)("div",{key:1,class:(0,a.WN)([t.$q.platform.is.mobile?"":"q-px-lg","system-log-content"])},[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(o.currentLog,((t,e)=>((0,n.Wz)(),(0,n.An)("p",{key:e,innerHTML:t},null,8,z)))),128))],2))])),_:1})])),_:1})])])])])),_:1})}l(5336),l(1495),l(9344);var x=l(8564),R=l(5836),T=l(1416),Y=l(3160),C=l(6728),I=l(7928),P=l(4088);const U={name:"SettingsLibrary",setup(){(0,T.c)();const{t}=(0,Y.gd)(),e=(0,R.IL)([]),l=(0,R.IL)(""),a=(0,R.IL)(null),o=(0,R.IL)(null),s=(0,R.IL)(null),i=(0,R.IL)(null),c=(0,R.IL)(null);let r=null,d=null,u=(0,x.k)(t);function p(t){e.value=t.system_logs;let n=[];for(let e=0;e<t.system_logs.length;e++){let l=t.system_logs[e];l=l.replace(/\/[\/|.|\s|\w|-]+/,"<span style='color:var(--q-secondary);'>$&</span>"),l=l.replace(/[\d(\-|T|\:)]+\:DEBUG:[\w(\.|\-)]+/,"<span style='color:var(--q-primary);'>$&</span>"),l=l.replace(/[\d(\-|T|\:)]+\:WARNING:[\w(\.|\-)]+/,"<span style='color:var(--q-warning);'>$&</span>"),l=l.replace(/[\d(\-|T|\:)]+\:ERROR:[\w(\.|\-)]+/,"<span style='color:var(--q-negative);'>$&</span>"),n[e]=l}e.value=n,l.value=t.logs_path}function m(){r=u.init(),d=u.serverId,u.addEventListener("open","start_system_logs",(function(t){r.send(JSON.stringify({command:"start_system_logs",params:{}}))})),u.addEventListener("message","handle_system_logs",(function(t){if("string"===typeof t.data){let e=JSON.parse(t.data);if(e.success)switch(e.type){case"system_logs":p(e.data);break}else console.error("WebSocket Error: Received contained errors - "+t.data)}else console.error("WebSocket Error: Received data was not JSON - "+t.data)}))}function g(){u.close()}return(0,n.u2)((()=>{m()})),(0,n.wx)((()=>{g()})),{currentLog:e,logsPath:l,appVersion:a,pythonVersion:o,platform:s,configPath:i,userdataPath:c}},data(){return{debugging:(0,R.IL)(null)}},methods:{openExternalURL:function(t){(0,P.c)(t)},fetchSettings:function(){(0,C.c)({method:"get",url:(0,I.S)("v2","settings/read")}).then((t=>{this.debugging=t.data.settings.debugging,this.configPath=t.data.settings.config_path,this.logsPath=t.data.settings.log_path,this.userdataPath=t.data.settings.userdata_path})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToFetchSettings"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))},fetchSystemConfig:function(){I.cp.getUnmanicVersion().then((t=>{this.appVersion=t})),(0,C.c)({method:"get",url:(0,I.S)("v2","settings/configuration")}).then((t=>{let e=t.data.configuration;if(this.pythonVersion=e.python,"undefined"!==typeof e.platform&&e.platform.length>0){let t=e.platform.join(" ");console.log(t),this.platform=t}})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToFetchSystemConfig"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))},toggleDebugging(t){let e={settings:{debugging:t}};(0,C.c)({method:"post",url:(0,I.S)("v2","settings/write"),data:e}).then((t=>{this.fetchSettings(),this.$q.notify({color:"positive",position:"top",icon:"cloud_done",message:this.$t("notifications.saved"),timeout:200})})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToSaveSettings"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))},downloadLogs(){(0,C.c)({method:"get",url:(0,I.S)("v2","docs/logs/zip"),responseType:"blob"}).then((t=>{const e=window.URL.createObjectURL(new Blob([t.data])),l=document.createElement("a");l.href=e,l.setAttribute("download","UnmanicLogs.zip"),document.body.appendChild(l),l.click(),document.body.removeChild(l)})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToSaveSettings"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))}},created(){this.fetchSettings(),this.fetchSystemConfig()}};var V=l(8716),N=l(7059),O=l(9692),B=l(9588),F=l(4884),J=l(1032),j=l(6616),G=l(2992),H=l(880),M=l(8120),X=l(4640),Z=l(608),tt=l(1008),et=l(9140),lt=l(4165),nt=l(5252),at=l.n(nt);const ot=(0,V.c)(U,[["render",E]]),st=ot;at()(U,"components",{QPage:N.c,QSkeleton:O.cp,QList:B.c,QItem:F.c,QItemSection:J.c,QImg:j.c,QItemLabel:G.c,QSeparator:H.c,QIcon:M.c,QToggle:X.c,QCard:Z.c,QCardSection:tt.c,QBtn:et.c}),at()(U,"directives",{Ripple:lt.c})}}]);