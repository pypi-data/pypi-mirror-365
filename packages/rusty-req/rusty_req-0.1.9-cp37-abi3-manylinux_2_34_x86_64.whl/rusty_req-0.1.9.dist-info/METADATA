Metadata-Version: 2.4
Name: rusty-req
Version: 0.1.9
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Rust
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Summary: High-performance async HTTP client built with Rust for Python.
Author-email: KAY53N <kaysen820@gmail.com>
License-Expression: MIT
Requires-Python: >=3.7
Description-Content-Type: text/markdown; charset=UTF-8; variant=GFM
Project-URL: Homepage, https://github.com/KAY53N/rusty-req
Project-URL: Repository, https://github.com/KAY53N/rusty-req
Project-URL: Bug Tracker, https://github.com/KAY53N/rusty-req/issues
Project-URL: Documentation, https://github.com/KAY53N/rusty-req#readme

# rusty-req


åŸºäº Rust + Python çš„é«˜æ€§èƒ½å¼‚æ­¥è¯·æ±‚åº“ï¼Œé€‚ç”¨äºéœ€è¦æ‰¹é‡å‘é€ HTTP è¯·æ±‚çš„åœºæ™¯ã€‚é€šè¿‡ Rust å®ç°å¹¶å‘è¯·æ±‚é€»è¾‘ï¼Œå¹¶é€šè¿‡ [maturin](https://github.com/PyO3/maturin) å°è£…ä¸º Python æ¨¡å—ï¼Œå…¼å…·æ€§èƒ½ä¸æ˜“ç”¨æ€§ã€‚

## ğŸ”§ å®‰è£…

```bash
pip install rusty-req
```

æˆ–ä»æºç æ„å»ºï¼š

```bash
maturin build --release
pip install target/wheels/rusty_req-*.whl
```

## ğŸš€ åŠŸèƒ½ç‰¹ç‚¹

- æ‰¹é‡å¼‚æ­¥å‘é€ HTTP è¯·æ±‚ï¼ˆæ”¯æŒ GET / POSTï¼‰
- æ”¯æŒè‡ªå®šä¹‰ headers / params / timeout / tag
- æ”¯æŒå…¨å±€è¶…æ—¶æ—¶é—´æ§åˆ¶ï¼ˆ`total_timeout`ï¼‰
- è¿”å›å“åº”å†…å®¹ã€é”™è¯¯ä¿¡æ¯ã€Meta æ•°æ®
- ä½¿ç”¨ Rust + Tokio æå‡ååèƒ½åŠ›

## ğŸ“¦ ä½¿ç”¨ç¤ºä¾‹

```python
import asyncio
import time
import rusty_req

async def main():
    requests = [
        rusty_req.RequestItem(
            url="https://httpbin.org/headers",
            method="GET",
            params=None,
            timeout=3.0,
            tag=f"test-get-{i}",
            headers={
                "Accept-Encoding": "gzip, deflate, br",
                "Connection": "keep-alive",
                "X-Test-Header": "ChatGPT"
            }
        )
        for i in range(100)
    ]

    start = time.perf_counter()
    
    rusty_req.set_debug(False)
    responses = await rusty_req.fetch_requests(requests, total_timeout=5.0)
    duration = time.perf_counter() - start

    success = sum(1 for r in responses if not r["error"])
    failure = len(responses) - success

    print(f"âœ… æˆåŠŸè¯·æ±‚æ•°: {success}")
    print(f"âŒ å¤±è´¥è¯·æ±‚æ•°: {failure}")
    print(f"â±ï¸ æ€»è€—æ—¶: {duration:.2f} ç§’")

if __name__ == "__main__":
    asyncio.run(main())
```

## ğŸ§± æ•°æ®ç»“æ„è¯´æ˜

### `RequestItem` å‚æ•°

| å­—æ®µå     | ç±»å‹             | å¿…é¡» | è¯´æ˜                                   |
|------------|------------------|------|----------------------------------------|
| `url`      | `str`            | âœ…   | è¯·æ±‚åœ°å€                               |
| `method`   | `str`            | âœ…   | è¯·æ±‚æ–¹æ³•ï¼ˆ`"GET"` æˆ– `"POST"`ï¼‰        |
| `params`   | `dict` / `None`  | å¦   | æŸ¥è¯¢å‚æ•°ï¼ˆGETï¼‰æˆ–è¡¨å•æ•°æ®ï¼ˆPOSTï¼‰      |
| `headers`  | `dict` / `None`  | å¦   | è‡ªå®šä¹‰è¯·æ±‚å¤´                           |
| `timeout`  | `float`          | âœ…   | å•ä¸ªè¯·æ±‚è¶…æ—¶ï¼ˆç§’ï¼‰                     |
| `tag`      | `str`            | å¦   | æ ‡è®°è¯·æ±‚çš„æ¥æºã€ç¼–å·ç­‰è¾…åŠ©ä¿¡æ¯         |

### è¿”å›æ ¼å¼

```python
[
    {
        "response": str | None,  # æˆåŠŸæ—¶è¿”å›å†…å®¹
        "error": str | None,     # å¤±è´¥æ—¶é”™è¯¯ä¿¡æ¯
        "meta": {
            "tag": str,
            "elapsed_ms": float  # è¯·æ±‚è€—æ—¶ï¼ˆæ¯«ç§’ï¼‰
        }
    },
    ...
]
```

## ğŸ“‘ Headers ç¤ºä¾‹

```python
RequestItem(
    url="https://httpbin.org/headers",
    method="GET",
    headers={
        "Accept-Encoding": "gzip, deflate, br",
        "Connection": "keep-alive",
        "X-Test-Header": "ChatGPT"
    },
    timeout=5.0
)
```

## ğŸ“„ License

MIT License

