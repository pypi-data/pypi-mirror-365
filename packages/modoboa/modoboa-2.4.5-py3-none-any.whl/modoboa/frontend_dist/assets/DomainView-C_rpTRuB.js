import{_ as ve}from"./DomainAdminList-C3iwNb43.js";import{c as O}from"./colors-DoZdCu1D.js";import{b as R,l as x,o as r,e as n,a as t,k as i,t as l,H as ie,w as e,F as L,E as ee,f as o,g as k,J,h as G,d as _e,K as te,r as re,c,p as I,m as pe,L as ge}from"./index-BA5nENc7.js";import{f as U,V as C,d as ye}from"./VAvatar-BLlAVJo2.js";import{V as ke}from"./VTable-Dtu3KidF.js";import{d as j}from"./domains-BKPjvqA_.js";import{V as se,a as ue}from"./VToolbar-J3yNZ_TP.js";import{V as le}from"./VSpacer-DL_DqXyB.js";import{V as F,b as z,c as W,a as de}from"./VCard-CgG7Sw1Z.js";import{V as b,a as m}from"./VRow-CnohEaAX.js";import{V as be}from"./VSheet-CajYOL8i.js";import{V as he,a as xe,b as we}from"./VExpansionPanels--ynjpeWA.js";import{V as S}from"./VAlert-DMLG8wNi.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Ve}from"./ConfirmDialog-C_e6hlR9.js";import{V as D}from"./VChip-DtLoN5pb.js";import{V as De}from"./VDataTableVirtual-BR3-3ZhB.js";import{V as oe}from"./VDialog-BZ4gm6K7.js";import{L as $e}from"./LoadingData-AOVv_iWB.js";import{_ as Ce}from"./ResourcesForm-BsBHUrsM.js";import{T as ne}from"./TimeSerieChart-BdFmjRbO.js";import{V as Me,a as Ne,b as Q,c as Z}from"./VTabs-CDeotHqK.js";import"./VAutocomplete-QADGK4Mr.js";import"./VSelect-BiP6crf0.js";import"./VTextField-4NZ7IznA.js";import"./tag-BQLfwzbO.js";import"./VProgressCircular--49P1TOW.js";import"./forwardRefs-DulMu961.js";import"./ssrBoot-CTcujE2n.js";import"./VMenu-ds-uYle9.js";import"./VCheckboxBtn-Bxy-LfII.js";import"./VSelectionControl-CCdZN5dG.js";import"./filter-C-VZW-D6.js";/* empty css              */import"./VDataTable-C75c5ugx.js";import"./VContainer-CWsXUJRX.js";import"./VForm-B967suxO.js";import"./VPicker-CNDT8tbx.js";import"./VWindowItem-D0hjETv2.js";const Ie={class:"text-h6"},Te={width:"40%"},Se={class:"text-white"},Ke={class:"text-white"},Ae={class:"text-white"},Pe={class:"text-white"},q={__name:"DmarcSourceTable",props:{title:{type:String,default:""},color:{type:String,default:""},total:{type:Number,default:null},sources:{type:Object,default:null}},setup(s){const{$gettext:a}=R();return(y,d)=>(r(),x("div",null,[n("div",Ie,[i(l(s.title)+" ",1),n("span",{class:ie(`text-${s.color}-lighten-2`)},l(s.total),3)]),t(ke,null,{default:e(()=>[n("tbody",null,[(r(!0),x(L,null,ee(s.sources,(u,f)=>(r(),x(L,{key:f},[n("tr",null,[n("th",Te,l(f),1),n("th",null,l(o(a)("Total")),1),d[0]||(d[0]=n("th",null,"SPF",-1)),d[1]||(d[1]=n("th",null,"DKIM",-1))]),(r(!0),x(L,null,ee(u,(v,w)=>(r(),x("tr",{key:w},[n("td",null,l(w),1),n("td",null,l(v.total),1),n("td",null,[t(U,{color:"green lighten-2",size:"24"},{default:e(()=>[n("span",Se,l(v.spf.success),1)]),_:2},1024),t(U,{color:"red lighten-2 ml-1",size:"24"},{default:e(()=>[n("span",Ke,l(v.spf.failure),1)]),_:2},1024)]),n("td",null,[t(U,{color:"green lighten-2",size:"24"},{default:e(()=>[n("span",Ae,l(v.dkim.success),1)]),_:2},1024),t(U,{color:"red lighten-2 ml-1",size:"24"},{default:e(()=>[n("span",Pe,l(v.dkim.failure),1)]),_:2},1024)])]))),128))],64))),128))])]),_:1})]))}},Fe={key:0},ze={class:"mx-2"},Re={class:"text-subtitle-1"},Ee={key:1},Le={__name:"DmarcAligmentChart",props:{domain:{type:Object,default:()=>null}},setup(s){const{$gettext:a}=R(),y=["aligned","trusted","forwarded","failed"],d=s,u=k({colors:[O.green.lighten2,O.orange.lighten2,O.blue.lighten2,O.red.lighten2],labels:[a("Fully aligned"),a("Partially aligned"),a("Forwarded"),a("Failed")],legend:{position:"bottom"}}),f=k(null),v=k([{key:"total",label:a("Total"),color:"primary lighten-2"},{key:"aligned",label:a("Fully aligned"),color:"green lighten-2"},{key:"trusted",label:a("Partially aligned"),color:"orange lighten-2"},{key:"forwarded",label:a("Forwarded"),color:"blue lighten-2"},{key:"failed",label:a("Failed"),color:"red lighten-2"}]),w=J.now(),_=k(w.year),p=k(w.weekNumber),K=k(!1),E=k(!1),B=k(null),A=k([]),M=k({}),X=G(()=>J.fromObject({weekYear:_.value,weekNumber:p.value}).startOf("week")),N=G(()=>J.fromObject({weekYear:_.value,weekNumber:p.value}).endOf("week"));function g(P){let h="";for(const T of P.split(" "))h!==""&&(h+=" "),h+="text-"+T;return h}function Y(){p.value===52?(_.value+=1,p.value=1):p.value+=1}function $(){p.value===1?(_.value-=1,p.value=52):p.value-=1}function H(){if(E.value)return;const P=`${_.value}-${p.value}`;E.value=!0,j.getDomainDmarcAlignment(d.domain.pk,P).then(h=>{if(E.value=!1,h.status===204){K.value=!0;return}M.value={total:0},f.value=h.data,A.value=[];for(const T of y){let V=0;for(const ae in h.data[T])for(const fe in h.data[T][ae])V+=h.data[T][ae][fe].total;M.value.total+=V,M.value[T]=V,A.value.push(V)}})}return _e(()=>H()),te(p,()=>{H()}),te(_,()=>{H()}),(P,h)=>{const T=re("apexchart");return f.value?(r(),x("div",Fe,[t(z,null,{default:e(()=>[t(se,{dense:"",elevation:"0",class:"mr-2"},{default:e(()=>[t(ue,null,{default:e(()=>[i(l(o(a)("Alignment")),1)]),_:1}),t(le),t(C,{icon:"mdi-arrow-left",size:"x-small",onClick:$}),n("span",ze,l(X.value.toLocaleString())+" - "+l(N.value.toLocaleString()),1),t(C,{icon:"mdi-arrow-right",size:"x-small",onClick:Y})]),_:1}),t(F,null,{default:e(()=>[t(b,null,{default:e(()=>[t(m,{cols:"5"},{default:e(()=>[A.value?(r(),c(T,{key:0,type:"pie",height:"350",options:u.value,series:A.value},null,8,["options","series"])):I("",!0)]),_:1}),t(m,{cols:"7"},{default:e(()=>[t(b,null,{default:e(()=>[(r(!0),x(L,null,ee(v.value,V=>(r(),c(m,{key:V.key,cols:"6"},{default:e(()=>[t(be,{outlined:"",color:V.color,rounded:""},{default:e(()=>[t(z,{outlined:"",class:"pa-10 text-center"},{default:e(()=>[n("span",{class:ie("text-h4 "+g(V.color))},l(M.value[V.key]),3),h[1]||(h[1]=n("br",null,null,-1)),n("span",Re,l(V.label),1)]),_:2,__:[1]},1024)]),_:2},1032,["color"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(we,{modelValue:B.value,"onUpdate:modelValue":h[0]||(h[0]=V=>B.value=V),class:"mt-2"},{default:e(()=>[t(he,{title:o(a)("Detail")},{default:e(()=>[t(xe,null,{default:e(()=>[t(q,{title:o(a)("Trusted sources"),color:"green",total:M.value.aligned,sources:f.value.aligned},null,8,["title","total","sources"]),t(q,{title:o(a)("Partially trusted sources / Forwarders"),color:"orange",total:M.value.trusted,sources:f.value.trusted,class:"mt-4"},null,8,["title","total","sources"]),t(q,{title:o(a)("Forwarders with ARC"),color:"blue",total:M.value.forwarded,sources:f.value.forwarded,class:"mt-4"},null,8,["title","total","sources"]),t(q,{title:o(a)("Unknown sources / Threats"),color:"red",total:M.value.failed,sources:f.value.failed,class:"mt-4"},null,8,["title","total","sources"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])])):(r(),x("div",Ee,[K.value?(r(),c(S,{key:0,type:"info",variant:"outlined",prominent:"",border:"start",class:"mt-6"},{default:e(()=>[n("div",null,l(o(a)("DMARC support does not seem to be enabled for this domain.")),1),n("div",null,l(o(a)("If you configured it recently, please wait for the first report to be received and processed.")),1)]),_:1})):I("",!0)]))}}},je={id:"dkimdns",class:"dkim"},ce={__name:"DKIMKeyViewer",props:{domain:{type:Object,default:null}},setup(s){const a=s,y=G(()=>{let u=`v=DKIM1;k=rsa;p=${a.domain.dkim_public_key}`;const f=[];for(;u.length>0;)if(u.length>74)f.push(`  "${u.substring(0,74)}"`),u=u.substring(74);else{f.push(`  "${u}"`);break}return f.join(`
`)});function d(){navigator.clipboard.writeText(document.getElementById("dkimdns").textContent)}return(u,f)=>(r(),x("button",{class:"dkimbutton",onClick:f[0]||(f[0]=v=>d())},[n("pre",je,l(s.domain.dkim_key_selector)+"._domainkey."+l(s.domain.name)+". IN TXT ("+l(y.value)+`)
      }})`,1)]))}},Be={class:"headline"},Oe={id:"dkimpub",class:"dkim"},Ue={__name:"DomainDKIMKey",props:{domain:{type:Object,default:null}},emits:["close"],setup(s,{emit:a}){const{$gettext:y}=R(),d=a;function u(){navigator.clipboard.writeText(document.getElementById("dkimpub").textContent)}return(f,v)=>(r(),c(z,null,{default:e(()=>[t(W,null,{default:e(()=>[n("span",Be,l(o(y)("DKIM public key for"))+" "+l(s.domain.name),1)]),_:1}),t(F,null,{default:e(()=>[n("p",null,l(o(y)("Raw format. Click to copy")),1),t(S,{border:"start","colored-border":"","border-color":"primary lighten-3",elevation:"2",dense:""},{default:e(()=>[n("button",{class:"dkimbutton",onClick:v[0]||(v[0]=w=>u())},[n("pre",Oe,l(s.domain.dkim_public_key),1)])]),_:1})]),_:1}),t(F,null,{default:e(()=>[n("p",null,l(o(y)("Bind/named format. Click to copy")),1),t(S,{border:"start","colored-border":"","border-color":"primary lighten-3",elevation:"2",dense:""},{default:e(()=>[t(ce,{domain:s.domain},null,8,["domain"])]),_:1})]),_:1}),t(de,null,{default:e(()=>[t(le),t(C,{onClick:v[1]||(v[1]=w=>d("close"))},{default:e(()=>[i(l(o(y)("Close")),1)]),_:1})]),_:1})]),_:1}))}},qe={class:"text-subtitle-1 text-grey-darken-2 mb-4"},Ge={class:"text-h6"},We={__name:"DomainDNSConfig",props:{domain:{type:Object,default:null}},emits:["close"],setup(s,{emit:a}){const y=a;return(d,u)=>(r(),c(z,null,{default:e(()=>[t(W,{class:"text-h5"},{default:e(()=>[n("span",null,l(d.$gettext("DNS configuration for "))+" "+l(s.domain.name),1)]),_:1}),t(F,null,{default:e(()=>[n("p",qe,l(d.$gettext("Here is an example of DNS configuration (bind format). Replace values between [ ] by the appropriate ones.")),1),t(S,{class:"mb-4",border:"start","border-color":"primary lighten-3",elevation:"2",color:"white"},{default:e(()=>[u[1]||(u[1]=n("div",{class:"text-h6"},"MX",-1)),n("pre",null,[i("mail."+l(s.domain.name)+". IN A ",1),n("strong",null,"["+l(d.$gettext("IP address of your Modoboa server"))+"]",1),i(`
@ IN MX 10 mail.`+l(s.domain.name)+".",1)])]),_:1,__:[1]}),t(S,{class:"mb-4",border:"start","border-color":"primary lighten-3",elevation:"2",dense:"",color:"white"},{default:e(()=>u[2]||(u[2]=[n("div",{class:"text-h6"},"SPF",-1),n("pre",null,'@ IN TXT "v=spf1 mx ~all"',-1)])),_:1,__:[2]}),s.domain.enable_dkim&&s.domain.dkim_public_key?(r(),c(S,{key:0,class:"mb-4",border:"start","border-color":"primary lighten-3",elevation:"2",dense:"",color:"white"},{default:e(()=>[u[3]||(u[3]=n("div",{class:"text-h6"},"DKIM",-1)),t(ce,{domain:s.domain},null,8,["domain"])]),_:1,__:[3]})):I("",!0),t(S,{class:"mb-4",border:"start","border-color":"primary lighten-3",elevation:"2",dense:"",color:"white"},{default:e(()=>[u[4]||(u[4]=n("div",{class:"text-h6"},"DMARC",-1)),n("pre",null,"_dmarc."+l(s.domain.name)+'. IN TXT "v=DMARC1; p=quarantine; pct=100;"',1)]),_:1,__:[4]}),t(S,{class:"mb-4",border:"start","border-color":"primary lighten-3",elevation:"2",dense:"",color:"white"},{default:e(()=>[n("div",Ge,l(d.$gettext("Auto configuration")),1),n("pre",null,[i("autoconfig."+l(s.domain.name)+". IN CNAME ",1),n("strong",null,"["+l(d.$gettext("hostname of your automx server"))+"]",1),i(`
autodiscover.`+l(s.domain.name)+". IN CNAME ",1),n("strong",null,"["+l(d.$gettext("hostname of your automx server"))+"]",1)])]),_:1})]),_:1}),t(de,null,{default:e(()=>[t(le),t(C,{onClick:u[0]||(u[0]=f=>y("close"))},{default:e(()=>[i(l(d.$gettext("Close")),1)]),_:1})]),_:1})]),_:1}))}},Xe=me(We,[["__scopeId","data-v-506783e1"]]),Ye={class:"overline"},He={class:"overline"},Je={key:4,class:"d-flex align-center flex-nowrap mt-4"},Qe={class:"text-subtitle-2"},Ze={class:"ml-6"},et={key:0},tt={key:1},lt={__name:"DNSDetail",props:{modelValue:{type:Object,default:null}},setup(s){const{$gettext:a}=R(),y=pe(),d=s,u=G(()=>d.modelValue),f=k(),v=k({}),w=k([{title:a("Name"),value:"name"},{title:a("Address"),value:"address"},{title:a("Updated"),value:"updated"}]),_=k(!1),p=k(!1),K=k(!1);function E(){navigator.clipboard.writeText(u.value.dkim_public_key),y.displayNotification({msg:a("DKIM key copied to clipboard"),type:"success"})}function B(){const N={dkim_private_key_path:""};j.patchDomain(u.value.pk,N).then(()=>{y.displayNotification({msg:a("A new key will be generated soon. Refresh the page in a moment to see it."),type:"success"}),u.value.dkim_private_key_path="",_.value=!1}).catch(()=>{_.value=!1})}function A(){_.value=!1}async function M(){_.value=!0,j.getDomainDNSDetail(u.value.pk).then(async N=>{v.value=N.data,await f.value.open(a("warning"),a("DKIM key does not seem to be generated yet or has failed. Do you want to requeue the job?"),{color:"warning",cancelLabel:a("No"),agreeLabel:a("Yes")})?B():A()})}function X(){f.value.open(a("Warning"),a("DKIM keys already exist for this domain. Do you want to overwrite them?"),{color:"error",cancelLabel:a("No"),agreeLabel:a("Yes")})}return te(u,N=>{N&&j.getDomainDNSDetail(N.pk).then(g=>{v.value=g.data})},{immediate:!0}),(N,g)=>{const Y=re("translate");return u.value?(r(),c(z,{key:0},{default:e(()=>[t(W,null,{default:e(()=>[g[6]||(g[6]=n("span",null," DNS ",-1)),t(C,{class:"ml-2",icon:"mdi-information-outline",title:o(a)("DNS configuration help"),variant:"text",density:"compact",onClick:g[0]||(g[0]=$=>p.value=!0)},null,8,["title"])]),_:1,__:[6]}),t(F,null,{default:e(()=>[t(Y,{class:"overline"},{default:e(()=>g[7]||(g[7]=[i("MX records")])),_:1,__:[7]}),u.value.dns_global_status=="pending"?(r(),c(b,{key:0},{default:e(()=>[t(m,null,{default:e(()=>[t(D,{color:"info",size:"small"},{default:e(()=>[i(l(o(a)("Pending")),1)]),_:1})]),_:1})]),_:1})):(r(),c(De,{key:1,headers:w.value,items:v.value.mx_records},{"item.updated":e(({item:$})=>[i(l(N.$date($.updated)),1)]),_:2},1032,["headers","items"])),n("div",Ye,l(o(a)("Auto configuration")),1),u.value.dns_global_status=="pending"?(r(),c(b,{key:2},{default:e(()=>[t(m,null,{default:e(()=>[t(D,{color:"info",size:"small"},{default:e(()=>[i(l(o(a)("Pending")),1)]),_:1})]),_:1})]),_:1})):(r(),x(L,{key:3},[t(b,null,{default:e(()=>[t(m,null,{default:e(()=>[v.value.autoconfig_record?(r(),c(D,{key:0,color:"success"},{default:e(()=>[i(l(o(a)("autoconfig record (Mozilla): %{ value }",{value:v.value.autoconfig_record.value})),1)]),_:1})):(r(),c(D,{key:1,color:"warning"},{default:e(()=>[i(l(o(a)("autoconfig record (Mozilla) not found")),1)]),_:1}))]),_:1}),t(m,null,{default:e(()=>[v.value.autodiscover_record?(r(),c(D,{key:0,color:"success"},{default:e(()=>[i(l(o(a)("autodiscover record (Microsoft): %{ value }",{value:v.value.autodiscover_record.value})),1)]),_:1})):(r(),c(D,{key:1,color:"warning"},{default:e(()=>[i(l(o(a)("autodiscover record (Microsoft) not found")),1)]),_:1}))]),_:1})]),_:1}),n("div",He,l(o(a)("Authentication")),1),t(b,null,{default:e(()=>[t(m,null,{default:e(()=>[v.value.spf_record?(r(),c(D,{key:0,color:"success"},{default:e(()=>[i(l(o(a)("SPF record found")),1)]),_:1})):(r(),c(D,{key:1,color:"error"},{default:e(()=>[i(l(o(a)("SPF record not found")),1)]),_:1}))]),_:1}),t(m,null,{default:e(()=>[v.value.dkim_record?(r(),c(D,{key:0,color:"success"},{default:e(()=>[i(l(o(a)("DKIM record found")),1)]),_:1})):(r(),c(D,{key:1,color:"error"},{default:e(()=>[i(l(o(a)("DKIM record not found")),1)]),_:1}))]),_:1}),t(m,null,{default:e(()=>[v.value.dmarc_record?(r(),c(D,{key:0,color:"success"},{default:e(()=>[i(l(o(a)("DMARC record found")),1)]),_:1})):(r(),c(D,{key:1,color:"error"},{default:e(()=>[i(l(o(a)("DMARC record not found")),1)]),_:1}))]),_:1})]),_:1})],64)),u.value.enable_dkim?(r(),x("div",Je,[n("div",Qe,l(o(a)("DKIM key")),1),n("div",Ze,[u.value.dkim_private_key_path&&u.value.dkim_public_key?(r(),x("div",et,[t(C,{color:"primary",size:"small",onClick:g[1]||(g[1]=$=>K.value=!0)},{default:e(()=>[i(l(o(a)("Show key")),1)]),_:1}),t(C,{icon:"mdi-content-copy",variant:"text",class:"ml-2",title:o(a)("Copy key to clipboard"),onClick:E},null,8,["title"]),t(C,{icon:"mdi-refresh",title:o(a)("Generate a new DKIM key"),variant:"text",loading:_.value,onClick:X},null,8,["title","loading"])])):(r(),x("div",tt,[i(l(o(a)("Not generated"))+" ",1),t(C,{icon:"mdi-reload",color:"primary",variant:"text",loading:_.value,onClick:M},null,8,["loading"])]))])])):I("",!0)]),_:1}),t(oe,{modelValue:p.value,"onUpdate:modelValue":g[3]||(g[3]=$=>p.value=$),"max-width":"800px",persistent:""},{default:e(()=>[t(Xe,{domain:u.value,onClose:g[2]||(g[2]=$=>p.value=!1)},null,8,["domain"])]),_:1},8,["modelValue"]),t(oe,{modelValue:K.value,"onUpdate:modelValue":g[5]||(g[5]=$=>K.value=$),"max-width":"800px",persistent:""},{default:e(()=>[t(Ue,{domain:u.value,onClose:g[4]||(g[4]=$=>K.value=!1)},null,8,["domain"])]),_:1},8,["modelValue"]),t(Ve,{ref_key:"dialog",ref:f},null,512)]),_:1})):I("",!0)}}},at={class:"headline"},ot={__name:"DomainSummary",props:{domain:{type:Object,default:null}},setup(s){const{$gettext:a}=R();return(y,d)=>s.domain?(r(),c(z,{key:0},{default:e(()=>[t(W,null,{default:e(()=>[n("div",at,l(o(a)("General information")),1)]),_:1}),t(F,null,{default:e(()=>[t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Creation date")),1)]),_:1}),t(m,{cols:"6"},{default:e(()=>[i(l(y.$date(s.domain.creation)),1)]),_:1})]),_:1}),t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Last modification date")),1)]),_:1}),t(m,{cols:"6"},{default:e(()=>[i(l(y.$date(s.domain.last_modification)),1)]),_:1})]),_:1}),t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Quota")),1)]),_:1}),s.domain.quota==="0"?(r(),c(m,{key:0,cols:"6"},{default:e(()=>[i(l(o(a)("Unlimited")),1)]),_:1})):(r(),c(m,{key:1,cols:"6"},{default:e(()=>[i(l(s.domain.quota)+" "+l(o(a)("MB")),1)]),_:1}))]),_:1}),t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Default mailbox quota")),1)]),_:1}),s.domain.default_mailbox_quota==="0"?(r(),c(m,{key:0,cols:"6"},{default:e(()=>[i(l(o(a)("Unlimited")),1)]),_:1})):(r(),c(m,{key:1,cols:"6"},{default:e(()=>[i(l(s.domain.default_mailbox_quota)+" MB",1)]),_:1}))]),_:1}),s.domain.message_limit!==void 0?(r(),c(b,{key:0},{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Daily sending limit")),1)]),_:1}),t(m,{cols:"6"},{default:e(()=>[i(l(s.domain.message_limit)+" "+l(o(a)("messages")),1)]),_:1})]),_:1})):I("",!0),t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Mailboxes")),1)]),_:1}),t(m,{cols:"6"},{default:e(()=>[i(l(s.domain.mailbox_count),1)]),_:1})]),_:1}),t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Aliases")),1)]),_:1}),t(m,{cols:"6"},{default:e(()=>[i(l(s.domain.mbalias_count),1)]),_:1})]),_:1}),t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Enabled")),1)]),_:1}),t(m,{cols:"6"},{default:e(()=>[t(ye,{color:s.domain.enabled?"success":"error",icon:s.domain.enabled?"mdi-check-circle":"mdi-close-circle",variant:"flat"},null,8,["color","icon"])]),_:1})]),_:1})]),_:1})]),_:1})):I("",!0)}},nt={key:1},it={__name:"DomainView",setup(s){const{$gettext:a}=R(),y=ge(),d=k(null),u=k({}),f=k(null);function v(){j.getDomain(y.params.id).then(w=>{d.value=w.data})}return v(),(w,_)=>d.value?(r(),x("div",nt,[t(se,{flat:""},{default:e(()=>[t(ue,null,{default:e(()=>[i(l(o(a)("Domain"))+" "+l(d.value.name)+" ",1),t(C,{color:"primary",icon:"mdi-circle-edit-outline",to:{name:"DomainEdit",params:{id:d.value.pk}}},null,8,["to"]),t(C,{color:"primary",icon:"mdi-reload",onClick:_[0]||(_[0]=p=>v())})]),_:1})]),_:1}),t(Me,{modelValue:f.value,"onUpdate:modelValue":_[1]||(_[1]=p=>f.value=p),class:"mb-4",color:"primary"},{default:e(()=>[t(Q,null,{default:e(()=>[i(l(o(a)("General")),1)]),_:1}),t(Q,null,{default:e(()=>[i(l(o(a)("Statistics")),1)]),_:1}),t(Q,null,{default:e(()=>[i(l(o(a)("DMARC")),1)]),_:1})]),_:1},8,["modelValue"]),t(Ne,{modelValue:f.value,"onUpdate:modelValue":_[3]||(_[3]=p=>f.value=p)},{default:e(()=>[t(Z,null,{default:e(()=>[t(b,null,{default:e(()=>[t(m,{cols:"12",md:"6"},{default:e(()=>[t(ot,{domain:d.value},null,8,["domain"]),_[4]||(_[4]=n("div",{class:"mt-4"},null,-1)),t(ve,{domain:d.value},null,8,["domain"])]),_:1,__:[4]}),t(m,{cols:"12",md:"6"},{default:e(()=>[t(lt,{modelValue:d.value,"onUpdate:modelValue":_[2]||(_[2]=p=>d.value=p)},null,8,["modelValue"]),_[5]||(_[5]=n("div",{class:"mt-4"},null,-1)),u.value.params&&u.value.params.enable_domain_limits&&d.value.resources&&d.value.resources.length?(r(),c(Ce,{key:0,resources:d.value.resources},null,8,["resources"])):I("",!0)]),_:1,__:[5]})]),_:1})]),_:1}),t(Z,null,{default:e(()=>[t(b,null,{default:e(()=>[t(m,{cols:"12"},{default:e(()=>[d.value.name?(r(),c(ne,{key:0,domain:d.value,"graphic-set":"mailtraffic","graphic-name":"averagetraffic"},null,8,["domain"])):I("",!0)]),_:1}),t(m,{cols:"12"},{default:e(()=>[d.value.name?(r(),c(ne,{key:0,domain:d.value,"graphic-set":"mailtraffic","graphic-name":"averagetrafficsize"},null,8,["domain"])):I("",!0)]),_:1})]),_:1})]),_:1}),t(Z,null,{default:e(()=>[t(Le,{domain:d.value},null,8,["domain"])]),_:1})]),_:1},8,["modelValue"])])):(r(),c($e,{key:0}))}},Gt=me(it,[["__scopeId","data-v-e7f32894"]]);export{Gt as default};
