import{j as ae,r as Ne,c as T,o as x,w,a as s,a$ as fe,b0 as De,ab as $,h as V,a7 as Re,d as q,L as O,az as he,b1 as He,b2 as G,af as ge,b3 as ye,aE as Ye,v as pe,x as we,ah as Oe,aq as _e,V as Ue,T as ke,g as D,ac as Q,a5 as be,b4 as We,Y as ze,e as P,B as X,F as I,C as xe,$ as Xe,u as Ve,s as Fe,i as Ge,f as Z,p as je,m as A,G as K,q as ee,l as j,t as U,a0 as qe,b as Se,b5 as Ze,aj as Ke,_ as Je,S as Qe,b6 as et,U as tt,n as at,z as nt,H as ot}from"./index-CTxlYqj4.js";import{V as lt}from"./VContainer-CC8lqRXa.js";import{V as rt,a as it}from"./VApp-tsfSFSQl.js";import{u as st}from"./global.store-C4iiNxy1.js";import{u as ut}from"./layout.store-3tdRwdnE.js";import{C as ct,r as vt,u as Ce,D as dt,E as mt,b as Te,s as ft,A as ht,p as Pe,h as Be,V as J,d as te,f as gt,F as yt,G as pt,k as wt,e as _t,z as kt,H as bt,c as xt}from"./VAvatar-x_79C0tA.js";import{V as Ee,g as Vt,a as Y,h as St,c as Ct,b as Tt,f as Pt}from"./forwardRefs-BSESyuUp.js";import{u as se}from"./VProgressCircular-ubzZW5PC.js";import{u as Me,m as Bt,a as Et}from"./tag-Dx3OexMp.js";import{u as Le,b as Mt,m as Lt,V as ue,a as ce,c as It}from"./VMenu-DTm7W1Hp.js";import{u as At,a as $t,V as Nt,b as Dt}from"./layout-BFr6o7er.js";import{u as Rt}from"./ssrBoot-DGgZQEVC.js";import{b as ve}from"./VCard-DRptUN8Y.js";import{V as Ht,a as Yt}from"./VRow-B-csPNw7.js";import{V as Ot}from"./VSheet-BV83IblO.js";const Ut={__name:"ConnectedView",setup(e){return(r,n)=>{const i=Ne("router-view");return x(),T(rt,null,{default:w(()=>[s(lt,{fluid:"",style:{height:"100%"}},{default:w(()=>[s(i,null,{default:w(({Component:t})=>[s(fe,{name:"fade"},{default:w(()=>[(x(),T(De(t)))]),_:2},1024)]),_:1})]),_:1})]),_:1})}}},Wt=ae(Ut,[["__scopeId","data-v-b2ffa9e6"]]),zt="/assets/Modoboa_RVB-BLANC-SANS-BBGoASES.png";function Xt(e){let{rootEl:r,isSticky:n,layoutItemStyles:i}=e;const t=$(!1),u=$(0),l=V(()=>{const a=typeof t.value=="boolean"?"top":t.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[a]:Re(u.value)}:{top:i.value.top}]});q(()=>{O(n,a=>{a?window.addEventListener("scroll",k,{passive:!0}):window.removeEventListener("scroll",k)},{immediate:!0})}),he(()=>{window.removeEventListener("scroll",k)});let m=0;function k(){const a=m>window.scrollY?"up":"down",c=r.value.getBoundingClientRect(),h=parseFloat(i.value.top??0),g=window.scrollY-Math.max(0,u.value-h),p=c.height+Math.max(u.value,h)-window.scrollY-window.innerHeight,o=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-h?(t.value="top",u.value=h):a==="up"&&t.value==="bottom"||a==="down"&&t.value==="top"?(u.value=window.scrollY+c.top-o,t.value=!0):a==="down"&&p<=0?(u.value=0,t.value="bottom"):a==="up"&&g<=0&&(o?t.value!=="top"&&(u.value=-g+o+h,t.value="top"):(u.value=c.top+g,t.value="top")),m=window.scrollY}return{isStuck:t,stickyStyles:l}}const Ft=100,Gt=20;function de(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function me(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let r=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const i=de(r),t=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);r+=(t-i)*Math.abs(t),n===e.length-1&&(r*=.5)}return de(r)*1e3}function jt(){const e={};function r(t){Array.from(t.changedTouches).forEach(u=>{(e[u.identifier]??(e[u.identifier]=new He(Gt))).push([t.timeStamp,u])})}function n(t){Array.from(t.changedTouches).forEach(u=>{delete e[u.identifier]})}function i(t){var a;const u=(a=e[t])==null?void 0:a.values().reverse();if(!u)throw new Error(`No samples for touch id ${t}`);const l=u[0],m=[],k=[];for(const c of u){if(l[0]-c[0]>Ft)break;m.push({t:c[0],d:c[1].clientX}),k.push({t:c[0],d:c[1].clientY})}return{x:me(m),y:me(k),get direction(){const{x:c,y:h}=this,[g,p]=[Math.abs(c),Math.abs(h)];return g>p&&c>=0?"right":g>p&&c<=0?"left":p>g&&h>=0?"down":p>g&&h<=0?"up":qt()}}}return{addMovement:r,endTouch:n,getVelocity:i}}function qt(){throw new Error}function Zt(e){let{el:r,isActive:n,isTemporary:i,width:t,touchless:u,position:l}=e;q(()=>{window.addEventListener("touchstart",M,{passive:!0}),window.addEventListener("touchmove",B,{passive:!1}),window.addEventListener("touchend",W,{passive:!0})}),he(()=>{window.removeEventListener("touchstart",M),window.removeEventListener("touchmove",B),window.removeEventListener("touchend",W)});const m=V(()=>["left","right"].includes(l.value)),{addMovement:k,endTouch:a,getVelocity:c}=jt();let h=!1;const g=$(!1),p=$(0),o=$(0);let f;function N(v,y){return(l.value==="left"?v:l.value==="right"?document.documentElement.clientWidth-v:l.value==="top"?v:l.value==="bottom"?document.documentElement.clientHeight-v:z())-(y?t.value:0)}function R(v){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const _=l.value==="left"?(v-o.value)/t.value:l.value==="right"?(document.documentElement.clientWidth-v-o.value)/t.value:l.value==="top"?(v-o.value)/t.value:l.value==="bottom"?(document.documentElement.clientHeight-v-o.value)/t.value:z();return y?Ye(_):_}function M(v){if(u.value)return;const y=v.changedTouches[0].clientX,_=v.changedTouches[0].clientY,b=25,S=l.value==="left"?y<b:l.value==="right"?y>document.documentElement.clientWidth-b:l.value==="top"?_<b:l.value==="bottom"?_>document.documentElement.clientHeight-b:z(),d=n.value&&(l.value==="left"?y<t.value:l.value==="right"?y>document.documentElement.clientWidth-t.value:l.value==="top"?_<t.value:l.value==="bottom"?_>document.documentElement.clientHeight-t.value:z());(S||d||n.value&&i.value)&&(f=[y,_],o.value=N(m.value?y:_,n.value),p.value=R(m.value?y:_),h=o.value>-20&&o.value<80,a(v),k(v))}function B(v){const y=v.changedTouches[0].clientX,_=v.changedTouches[0].clientY;if(h){if(!v.cancelable){h=!1;return}const S=Math.abs(y-f[0]),d=Math.abs(_-f[1]);(m.value?S>d&&S>3:d>S&&d>3)?(g.value=!0,h=!1):(m.value?d:S)>3&&(h=!1)}if(!g.value)return;v.preventDefault(),k(v);const b=R(m.value?y:_,!1);p.value=Math.max(0,Math.min(1,b)),b>1?o.value=N(m.value?y:_,!0):b<0&&(o.value=N(m.value?y:_,!1))}function W(v){if(h=!1,!g.value)return;k(v),g.value=!1;const y=c(v.changedTouches[0].identifier),_=Math.abs(y.x),b=Math.abs(y.y);(m.value?_>b&&_>400:b>_&&b>3)?n.value=y.direction===({left:"right",right:"left",top:"down",bottom:"up"}[l.value]||z()):n.value=p.value>.5}const H=V(()=>g.value?{transform:l.value==="left"?`translateX(calc(-100% + ${p.value*t.value}px))`:l.value==="right"?`translateX(calc(100% - ${p.value*t.value}px))`:l.value==="top"?`translateY(calc(-100% + ${p.value*t.value}px))`:l.value==="bottom"?`translateY(calc(100% - ${p.value*t.value}px))`:z(),transition:"none"}:void 0);return G(g,()=>{var _,b;const v=((_=r.value)==null?void 0:_.style.transform)??null,y=((b=r.value)==null?void 0:b.style.transition)??null;ge(()=>{var S,d,E,L;(d=r.value)==null||d.style.setProperty("transform",((S=H.value)==null?void 0:S.transform)||"none"),(L=r.value)==null||L.style.setProperty("transition",((E=H.value)==null?void 0:E.transition)||null)}),ye(()=>{var S,d;(S=r.value)==null||S.style.setProperty("transform",v),(d=r.value)==null||d.style.setProperty("transition",y)})}),{isDragging:g,dragProgress:p,dragStyles:H}}function z(){throw new Error}const Kt=["start","end","left","right","top","bottom"],Jt=we({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Kt.includes(e)},sticky:Boolean,...ht(),...Et(),...Lt(),...Xe({mobile:null}),...ft(),...$t(),...Te(),...Bt({tag:"nav"}),...xe()},"VNavigationDrawer"),Qt=pe()({name:"VNavigationDrawer",props:Jt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,r){let{attrs:n,emit:i,slots:t}=r;const{isRtl:u}=Oe(),{themeClasses:l}=_e(e),{borderClasses:m}=ct(e),{backgroundColorClasses:k,backgroundColorStyles:a}=se(()=>e.color),{elevationClasses:c}=vt(e),{displayClasses:h,mobile:g}=Ue(e),{roundedClasses:p}=Ce(e),o=dt(),f=ke(e,"modelValue",null,C=>!!C),{ssrBootStyles:N}=Rt(),{scopeId:R}=Le(),M=D(),B=$(!1),{runOpenDelay:W,runCloseDelay:H}=Mt(e,C=>{B.value=C}),v=V(()=>e.rail&&e.expandOnHover&&B.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),y=V(()=>mt(e.location,u.value)),_=Q(()=>e.persistent),b=V(()=>!e.permanent&&(g.value||e.temporary)),S=V(()=>e.sticky&&!b.value&&y.value!=="bottom");G(()=>e.expandOnHover&&e.rail!=null,()=>{O(B,C=>i("update:rail",!C))}),G(()=>!e.disableResizeWatcher,()=>{O(b,C=>!e.permanent&&be(()=>f.value=!C))}),G(()=>!e.disableRouteWatcher&&!!o,()=>{O(o.currentRoute,()=>b.value&&(f.value=!1))}),O(()=>e.permanent,C=>{C&&(f.value=!0)}),e.modelValue==null&&!b.value&&(f.value=e.permanent||!g.value);const{isDragging:d,dragProgress:E}=Zt({el:M,isActive:f,isTemporary:b,width:v,touchless:Q(()=>e.touchless),position:y}),L=V(()=>{const C=b.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):v.value;return d.value?C*E.value:C}),{layoutItemStyles:F,layoutItemScrimStyles:Ie}=At({id:e.name,order:V(()=>parseInt(e.order,10)),position:y,layoutSize:L,elementSize:v,active:We(f),disableTransitions:Q(()=>d.value),absolute:V(()=>e.absolute||S.value&&typeof ne.value!="string")}),{isStuck:ne,stickyStyles:Ae}=Xt({rootEl:M,isSticky:S,layoutItemStyles:F}),oe=se(()=>typeof e.scrim=="string"?e.scrim:null),$e=V(()=>({...d.value?{opacity:E.value*.2,transition:"none"}:void 0,...Ie.value}));return ze({VList:{bgColor:"transparent"}}),Me(()=>{const C=t.image||e.image;return P(I,null,[s(e.tag,X({ref:M,onMouseenter:W,onMouseleave:H,class:["v-navigation-drawer",`v-navigation-drawer--${y.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":B.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":b.value,"v-navigation-drawer--persistent":_.value,"v-navigation-drawer--active":f.value,"v-navigation-drawer--sticky":S.value},l.value,k.value,m.value,h.value,c.value,p.value,e.class],style:[a.value,F.value,N.value,Ae.value,e.style]},R,n),{default:()=>{var le,re,ie;return[C&&P("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?s(Be,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):s(Pe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&P("div",{class:"v-navigation-drawer__prepend"},[(le=t.prepend)==null?void 0:le.call(t)]),P("div",{class:"v-navigation-drawer__content"},[(re=t.default)==null?void 0:re.call(t)]),t.append&&P("div",{class:"v-navigation-drawer__append"},[(ie=t.append)==null?void 0:ie.call(t)])]}}),s(fe,{name:"fade-transition"},{default:()=>[b.value&&(d.value||f.value)&&!!e.scrim&&P("div",X({class:["v-navigation-drawer__scrim",oe.backgroundColorClasses.value],style:[$e.value,oe.backgroundColorStyles.value],onClick:()=>{_.value||(f.value=!1)}},R),null)]})])}),{isStuck:ne}}}),ea={class:"d-flex align-center"},ta={__name:"NavBar",props:{color:{type:String,default:"primary"},menuItems:{type:Array,required:!1,default:null},logoRoute:{type:Object,default:null}},setup(e){const r=e,n=st(),i=Ve(),t=ut(),u=Fe(),l=D(!1),m=D(!0),k=V(()=>i.authUser),a=V(()=>i.isAuthenticated),c=V(()=>n.notifications.length!==void 0&&n.notifications.length!==0);function h(g){return a.value?(g.roles===void 0||g.roles.indexOf(k.value.role)!==-1)&&(g.condition===void 0||g.condition())&&g.activated!==!1:!1}return q(()=>{k.value.role===Ge.SUPER_ADMIN&&n.fetchNotifications()}),(g,p)=>(x(),T(Qt,{modelValue:m.value,"onUpdate:modelValue":p[2]||(p[2]=o=>m.value=o),rail:l.value,permanent:"",color:e.color,app:""},{default:w(()=>[P("div",ea,[s(Pe,{src:zt,"max-width":"190",class:"logo",onClick:p[0]||(p[0]=o=>Z(u).push(r.logoRoute))}),s(J,{icon:l.value?"mdi-chevron-right":"mdi-chevron-left",variant:"text",onClick:p[1]||(p[1]=je(o=>l.value=!l.value,["stop"]))},null,8,["icon"])]),s(Ee,{density:Z(t).compactLeftMenu?"compact":"default",lines:!Z(t).compactLeftMenu,nav:""},{default:w(()=>[(x(!0),A(I,null,K(e.menuItems,o=>(x(),A(I,{key:o.text},[h(o)?(x(),A(I,{key:0},[o.subheader?(x(),T(Vt,{key:0,class:"text-white"},{default:w(()=>[j(U(o.text.toUpperCase()),1)]),_:2},1024)):o.action?(x(),T(Y,{key:1,value:o,exact:o.exact,title:o.text,"prepend-icon":o.icon,onClick:o.action},null,8,["value","exact","title","prepend-icon","onClick"])):o.children?(x(),T(St,{key:3,value:o.text},{activator:w(({props:f})=>[(x(),T(Y,X({ref_for:!0},f,{key:o.text,title:o.text,color:"white","prepend-icon":o.icon}),null,16,["title","prepend-icon"]))]),default:w(()=>[(x(!0),A(I,null,K(o.children,f=>(x(),A(I,{key:f.text},[h(f)?(x(),A(I,{key:0},[f.action?(x(),T(Y,{key:0,title:f.text,value:f,"prepend-icon":f.icon,onClick:f.action},null,8,["title","value","prepend-icon","onClick"])):(x(),T(Y,{key:1,to:f.to,link:"",title:f.text,value:f,"prepend-icon":f.icon},null,8,["to","title","value","prepend-icon"]))],64)):ee("",!0)],64))),128))]),_:2},1032,["value"])):(x(),T(Y,{key:2,value:o,to:o.to,link:"",exact:o.exact,title:o.text,"prepend-icon":o.icon},qe({_:2},[o.withBell&&c.value?{name:"append",fn:w(()=>[s(te,{color:"red",icon:"mdi-bell-alert-outline"})]),key:"0"}:void 0]),1032,["value","to","exact","title","prepend-icon"]))],64)):ee("",!0)],64))),128))]),_:1},8,["density","lines"])]),_:1},8,["modelValue","rail","color"]))}},aa=ae(ta,[["__scopeId","data-v-798c5d45"]]),na={key:0,class:"top-menu"},oa={class:"mt-2"},la={class:"text-center"},ra={class:"text-h5"},ia={__name:"TopMenu",props:{user:{type:Object,default:null},remote:{type:Boolean,default:!1}},setup(e){const r=e,{$gettext:n}=Se(),i=D([]),t=V(()=>r.user.first_name&&r.user.last_name?`${r.user.first_name[0].toUpperCase()}${r.user.last_name[0].toUpperCase()}`:r.user.username?r.user.username.slice(0,2).toUpperCase():""),u=V(()=>[{text:n("Account"),icon:"mdi-account-circle-outline",to:r.remote?null:{name:"AccountSettings"},href:r.remote?"https://localhost:3000/account":"",click:()=>null},{text:n("Logout"),icon:"mdi-logout",click:l}]);async function l(){Ze()._s.forEach(async m=>await m.$reset())}return q(()=>{Ke.getAvailableApplications().then(m=>{i.value=m.data})}),(m,k)=>e.user?(x(),A("div",na,[s(ue,{activator:"parent",location:"bottom"},{activator:w(({props:a})=>[s(J,X({icon:"mdi-apps",flat:"",class:"mr-4"},a),null,16)]),default:w(()=>[s(ve,{"min-width":"350","max-width":"400",class:"pa-4"},{default:w(()=>[s(Ht,{class:"justify-center"},{default:w(()=>[(x(!0),A(I,null,K(i.value,a=>(x(),T(Yt,{key:a.name,cols:"6"},{default:w(()=>[s(Ot,{rounded:"",class:"application text-center pa-4 text-body-2",onClick:c=>m.$router.push(a.url)},{default:w(()=>[s(te,{color:"primary",icon:a.icon,size:"x-large"},null,8,["icon"]),P("div",oa,U(a.label),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),s(J,{icon:"",flat:"",color:"primary"},{default:w(()=>[j(U(t.value)+" ",1),s(ue,{activator:"parent",location:"bottom"},{default:w(()=>[s(ve,{"min-width":"300","max-width":"350"},{default:w(()=>[s(Ee,null,{default:w(()=>[P("div",la,[s(gt,{color:"primary"},{default:w(()=>[P("span",ra,U(t.value),1)]),_:1}),s(Y,{title:e.user.username},null,8,["title"])]),s(Ct),(x(!0),A(I,null,K(u.value,a=>(x(),T(Y,{key:a.text,to:a.to,href:a.href,link:"",onClick:a.click},{prepend:w(()=>[s(te,{icon:a.icon},null,8,["icon"])]),default:w(()=>[s(Tt,null,{default:w(()=>[j(U(a.text),1)]),_:2},1024)]),_:2},1032,["to","href","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})])):ee("",!0)}},sa=ae(ia,[["__scopeId","data-v-adb37b5d"]]),ua={getTheme(){return Je.get("/theme/")}};function ca(e){const r=$(e());let n=-1;function i(){clearInterval(n)}function t(){i(),be(()=>r.value=e())}function u(l){const m=l?getComputedStyle(l):{transitionDuration:.2},k=parseFloat(m.transitionDuration)*1e3||200;if(i(),r.value<=0)return;const a=performance.now();n=window.setInterval(()=>{const c=performance.now()-a+k;r.value=Math.max(e()-c,0),r.value<=0&&i()},k)}return ye(i),{clear:i,time:r,start:u,reset:t}}const va=we({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...xt({location:"bottom"}),...bt(),...Te(),...kt(),...xe(),...tt(It({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),da=pe()({name:"VSnackbar",props:va(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:n}=r;const i=ke(e,"modelValue"),{positionClasses:t}=yt(e),{scopeId:u}=Le(),{themeClasses:l}=_e(e),{colorClasses:m,colorStyles:k,variantClasses:a}=pt(e),{roundedClasses:c}=Ce(e),h=ca(()=>Number(e.timeout)),g=D(),p=D(),o=$(!1),f=$(0),N=D(),R=Qe(Nt,void 0);G(()=>!!R,()=>{const d=Dt();ge(()=>{N.value=d.mainStyles.value})}),O(i,B),O(()=>e.timeout,B),q(()=>{i.value&&B()});let M=-1;function B(){h.reset(),window.clearTimeout(M);const d=Number(e.timeout);if(!i.value||d===-1)return;const E=et(p.value);h.start(E),M=window.setTimeout(()=>{i.value=!1},d)}function W(){h.reset(),window.clearTimeout(M)}function H(){o.value=!0,W()}function v(){o.value=!1,B()}function y(d){f.value=d.touches[0].clientY}function _(d){Math.abs(f.value-d.changedTouches[0].clientY)>50&&(i.value=!1)}function b(){o.value&&v()}const S=V(()=>e.location.split(" ").reduce((d,E)=>(d[`v-snackbar--${E}`]=!0,d),{}));return Me(()=>{const d=ce.filterProps(e),E=!!(n.default||n.text||e.text);return s(ce,X({ref:g,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},S.value,t.value,e.class],style:[N.value,e.style]},d,{modelValue:i.value,"onUpdate:modelValue":L=>i.value=L,contentProps:X({class:["v-snackbar__wrapper",l.value,m.value,c.value,a.value],style:[k.value],onPointerenter:H,onPointerleave:v},d.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:y,onTouchend:_,onAfterLeave:b},u),{default:()=>{var L,F;return[wt(!1,"v-snackbar"),e.timer&&!o.value&&P("div",{key:"timer",class:"v-snackbar__timer"},[s(_t,{ref:p,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":h.time.value},null)]),E&&P("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((L=n.text)==null?void 0:L.call(n))??e.text,(F=n.default)==null?void 0:F.call(n)]),n.actions&&s(Be,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[P("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),Pt({},g)}}),ma=2e3,Ba={__name:"ConnectedLayout",props:{color:{type:String,default:"primary"},menuItems:{type:Array,default:null}},setup(e){const r=Ve(),n=at(),{$gettext:i}=Se(),t=nt(),u=V(()=>r.authUser),l=V(()=>n.notificationColor),m=V(()=>n.notification),k=D(!1);return n.$onAction(({name:a,after:c})=>{a==="displayNotification"&&c(()=>{k.value=!0})},!0),ua.getTheme().then(a=>{a.data.theme_primary_color!==t.themes.value.light.colors.primary&&(t.themes.value.light.colors.primary=a.data.theme_primary_color),a.data.theme_primary_color_light!==t.themes.value.light.colors["primary-lighten-1"]&&(t.themes.value.light.colors["primary-lighten-1"]=a.data.theme_primary_color_light),a.data.theme_primary_color_dark!==t.themes.value.light.colors["primary-darken-1"]&&(t.themes.value.light.colors["primary-darken-1"]=a.data.theme_primary_color_dark),a.data.theme_secondary_color!==t.themes.value.light.colors.secondary&&(t.themes.value.light.colors.secondary=a.data.theme_secondary_color),a.data.theme_label_color!==t.themes.value.light.colors.label&&(t.themes.value.light.colors.label=a.data.theme_label_color)}),(a,c)=>(x(),T(it,null,{default:w(()=>[ot(a.$slots,"navbar",{},()=>[s(aa,{color:e.color,"menu-items":e.menuItems},null,8,["color","menu-items"])]),s(sa,{user:u.value},null,8,["user"]),s(Wt),s(da,{modelValue:k.value,"onUpdate:modelValue":c[1]||(c[1]=h=>k.value=h),color:l.value,timeout:ma,location:"top"},{actions:w(()=>[s(J,{color:"white",text:"",onClick:c[0]||(c[0]=h=>k.value=!1)},{default:w(()=>[j(U(Z(i)("Close")),1)]),_:1})]),default:w(()=>[j(U(m.value)+" ",1)]),_:1},8,["modelValue","color"])]),_:3}))}};export{Qt as V,Ba as _,zt as a};
