import{_ as F,B as h,D as S,C as f,q as o,b,a as C,F as k,z as g,A as p,s as V,v as a,g as _,p as $,r as B,u as R,n as D,d as P,J as q}from"./main-Bmi4BPiO.js";import{h as z}from"./VDialog-Oz6-kM3S.js";import{r as E,s as A}from"./VSelectionControl-D3h7FjSM.js";import{f as N}from"./forwardRefs-FxOC1qa_.js";const T={name:"SubmitFooter",components:{ConfirmFooter:z},props:{verb:{type:String,required:!0},table:{type:String,required:!0},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["cancel","submit"],computed:{...S(f,{errors:e=>e.form.errors,success:e=>e.form.success}),confirmText(){const e=this.label||this.table;return`${this.verb} ${e}`}},beforeMount(){this.clearErrors()},methods:{...h(f,["clearErrors"])}},w={key:0,class:"errors"},I={key:1,class:"success"},J={key:2};function L(e,s,c,d,n,l){const u=V("ConfirmFooter");return a(),o("footer",null,[b("div",null,[e.errors&&e.errors.length>0?(a(),o("small",w,[(a(!0),o(k,null,g(e.errors,(m,i)=>(a(),o("div",{key:i},p(m),1))),128))])):e.success?(a(),o("small",I,p(e.success),1)):(a(),o("small",J,"Â "))]),C(u,{"confirm-text":l.confirmText,disabled:c.disabled,onConfirm:s[0]||(s[0]=m=>e.$emit("submit")),onCancel:s[1]||(s[1]=m=>e.$emit("cancel"))},null,8,["confirm-text","disabled"])])}const K=F(T,[["render",L],["__scopeId","data-v-d960409d"]]),M=$({...q(),...A()},"VForm"),O=_()({name:"VForm",props:M(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,s){let{slots:c,emit:d}=s;const n=E(e),l=B();function u(i){i.preventDefault(),n.reset()}function m(i){const r=i,t=n.validate();r.then=t.then.bind(t),r.catch=t.catch.bind(t),r.finally=t.finally.bind(t),d("submit",r),r.defaultPrevented||t.then(v=>{let{valid:y}=v;y&&l.value?.submit()}),r.preventDefault()}return R(()=>b("form",{ref:l,class:P(["v-form",e.class]),style:D(e.style),novalidate:!0,onReset:u,onSubmit:m},[c.default?.(n)])),N(n,l)}});export{K as S,O as V};
