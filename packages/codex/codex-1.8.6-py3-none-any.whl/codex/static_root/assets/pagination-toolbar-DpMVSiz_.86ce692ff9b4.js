import{g as pe,p as me,f as rt,t as D,u as ve,b as m,n as de,d as I,J as Te,aX as Ie,_ as C,x as f,V as Ce,z as le,w as T,m as Q,v as l,a5 as Me,a as u,D as B,aY as ot,M as L,q as p,G as h,A as w,av as lt,ad as Se,aZ as ut,a_ as dt,ay as ct,s as y,B as ue,a$ as mt,b0 as ht,T as ft,$ as Be,y as $,b1 as pt,b2 as Le,l as vt,b3 as gt,F as ce,af as bt,ab as kt,ac as yt,a8 as Ae,E as _t,b4 as St,aa as wt,X as Tt,c as g,b5 as xe,aC as Ve,aT as Pe,r as fe,b6 as Ct,b7 as we,aW as Mt,aV as Bt,i as Ge,b8 as Vt,h as ie,S as $e,aQ as Rt,e as Nt}from"./main-Bmi4BPiO.js";import{B as It,V as ge,k as ne,n as Lt,v as xt,j as Pt,R as Fe,t as $t,u as Ft,i as Dt,c as De,f as Et}from"./forwardRefs-FxOC1qa_.js";import{c as zt,d as Ot}from"./VSelect-4ozzBEef.js";import{a as At,c as Gt,d as jt,V as Ut}from"./VDialog-Oz6-kM3S.js";import{C as qt}from"./change-password-dialog-DpqXgZ53.js";import{d as Ht,f as Kt,u as Wt,g as Ee,m as Yt,h as Zt,i as Xt}from"./VSelectionControl-D3h7FjSM.js";import{V as je}from"./VTable-Dj5EC5Aq.js";import{C as Ue}from"./confirm-dialog-uoXMmYq3.js";import{P as Qt,V as Jt}from"./unauthorized-DXoWE_v2.js";const ea=me({...Te(),...It({variant:"text"})},"VToolbarItems"),fi=pe()({name:"VToolbarItems",props:ea(),setup(e,t){let{slots:a}=t;return rt({VBtn:{color:D(()=>e.color),height:"inherit",variant:D(()=>e.variant)}}),ve(()=>m("div",{class:I(["v-toolbar-items",e.class]),style:de(e.style)},[a.default?.()])),{}}}),_e=new Set(["",Ie,Ie.toString(),void 0]),ta=function(e){let t;if(_e.has(e))t=e;else if(e instanceof Object)if("ids"in e){const a=new Set(e.ids);_e.intersection(a).size>0?t=void 0:t={value:e.ids.join(","),title:e.name}}else _e.has(e.pk)?t=void 0:t={value:e.pk,title:e.name};else t={value:e,title:e.toString()};return e?.url&&(t.url=e.url),t},aa=function(e,t){return e.title.localeCompare(t.title)},sa=function(e,t){return Number.parseFloat(e.title)-Number.parseFloat(t.title)},ze=function({items:e,filter:t,numeric:a=!1,sort:r=!0}){const n=e||[],s=t&&t.toLowerCase();let i=[];for(const o of n){const d=ta(o);d!=null&&(!s||d?.title?.toLowerCase().includes(s))&&i.push(d)}if(r){const o=a?sa:aa;i=i.sort(o)}return i},ia={name:"ToolbarSelect",props:{selectLabel:{type:String,default:""},maxSelectLen:{type:Number,default:0}},computed:{style(){if(this.maxSelectLen){const e=this.$vuetify.display.xs?"max-width":"width",t=this.maxSelectLen*.7+"em";return`${e}: ${t}`}return""}}};function na(e,t,a,r,n,s){return l(),f(zt,Q(e.$attrs,{label:a.selectLabel,"aria-label":a.selectLabel,class:"toolbarSelect",density:"compact","full-width":"","menu-props":{maxHeight:void 0},"hide-details":"auto",style:s.style,variant:"plain"}),Ce({item:T(({item:i,props:o})=>[u(At,Q(o,{density:"compact",variant:"plain",title:i.title,value:i.value}),null,16,["title","value"])]),_:2},[le(e.$slots,(i,o)=>({name:o,fn:T(d=>[Me(e.$slots,o,Q({props:i},d),void 0,!0)])}))]),1040,["label","aria-label","style"])}const pi=C(ia,[["render",na],["__scopeId","data-v-cda2da63"]]),vi=Gt("v-spacer","div","VSpacer"),ra={name:"BookCover",props:{group:{type:String,required:!0},pks:{type:Array,required:!0},childCount:{type:Number,default:1},finished:{type:Boolean},mtime:{type:Number,default:Date.now()}},data(){return{showPlaceholder:!1}},computed:{...B(L,["coverSettings"]),coverSrc(){return ot({group:this.group,pks:this.pks},this.coverSettings,this.mtime)},multiPkClasses(){const e=this.pks.length,t={};return e>=4?t.stack4=!0:e>1&&(t[`stack${e}`]=!0),t}},mounted:function(){this.delayPlaceholder()},methods:{delayPlaceholder:function(){setTimeout(()=>{this.showPlaceholder=!0},2e3)}}},oa={class:"bookCover"},la={key:1,class:"childCount"};function ua(e,t,a,r,n,s){return l(),p("div",oa,[u(jt,{src:s.coverSrc,class:I(["coverImg",s.multiPkClasses])},null,8,["src","class"]),a.finished!==!0?(l(),p("div",{key:0,class:I({unreadFlag:!0,mixedreadFlag:a.finished===null})},null,2)):h("",!0),a.group!=="c"?(l(),p("span",la,w(a.childCount),1)):h("",!0)])}const da=C(ra,[["render",ua],["__scopeId","data-v-8e8f21d5"]]),ca=10,ma={name:"DownloadButton",components:{ConfirmDialog:Ue},props:{button:{type:Boolean,default:!1},item:{type:Object,required:!0}},data(){return{mdiDownload:ct}},computed:{...B(L,["filterOnlySettings","groupNames"]),show(){return this.item?.ids?.length>0&&!this.item.ids.includes(0)},isOneComic(){return this.item?.group==="c"&&this.item?.ids?.length===1},downloadFn(){return this.isOneComic?this.item.name:`${this.groupNames[this.item?.group]} - ${this.item.name} Comics.zip`},downloadURL(){let e="";if(this.isOneComic){const t=this.item.ids[0];e=ut({pk:t},this.downloadFn,this.item?.mtime)}else{const t=this.item?.group,a=this.item?.ids,r=this.filterOnlySettings;e=dt({group:t,pks:a},this.downloadFn,r,this.item?.mtime)}return e},formattedChildren(){return Se.format(this.item?.childCount)},title(){let e="Download";return e+=this.isOneComic?" Book":` ${this.formattedChildren} Books`,e},confirm(){return this.item?.childCount>ca},confirmText(){return this.confirm?`Download ${this.formattedChildren} books`:""}},methods:{download(){const e=this.downloadURL,t=this.downloadFn;if(this.isOneComic)lt(e,t);else{const a=document.createElement("a");a.download=this.downloadFn,a.href=this.downloadURL,a.click(),a.remove()}}}};function ha(e,t,a,r,n,s){const i=y("ConfirmDialog");return s.show?(l(),f(i,{key:0,button:a.button,"button-text":s.title,confirm:s.confirm,"confirm-text":"Download","prepend-icon":n.mdiDownload,"title-text":s.title,text:"May take a while",onConfirm:s.download},null,8,["button","button-text","confirm","prepend-icon","title-text","onConfirm"])):h("",!0)}const fa=C(ma,[["render",ha],["__scopeId","data-v-4c14087b"]]),pa=1,va={name:"MarkReadButton",components:{ConfirmDialog:Ue},props:{button:{type:Boolean,default:!1},item:{type:Object,required:!0}},computed:{...B(L,["groupNames"]),verb(){return this.item.finished?"Unread":"Read"},confirm(){return this.item.children>pa},show(){return this.item?.ids?.length>0&&!this.item.ids.includes(0)},icon(){return this.item.finished?mt:ht},confirmText(){return this.confirm?`Mark ${this.verb}`:""},markReadText(){const e=["Mark"];this.item.group!="c"&&e.push("Entire");const t=this.groupNames[this.item.group];return e.push(t,this.verb),e.join(" ")},itemName(){return this.item.name||"(Empty)"}},methods:{...ue(L,["setBookmarkFinished"]),toggleRead:function(){this.setBookmarkFinished(this.item,!this.item.finished)}}};function ga(e,t,a,r,n,s){const i=y("ConfirmDialog");return s.show?(l(),f(i,{key:0,button:a.button,"button-text":s.markReadText,confirm:s.confirm,"confirm-text":s.confirmText,"prepend-icon":s.icon,"title-text":s.markReadText,text:s.itemName,onConfirm:s.toggleRead},null,8,["button","button-text","confirm","confirm-text","prepend-icon","title-text","text","onConfirm"])):h("",!0)}const ba=C(va,[["render",ga],["__scopeId","data-v-7b148c61"]]),ka=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],ya=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],_a=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Sa=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Oe=(e,t,a)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,a):(t===!0||a!==void 0)&&(r=e.toLocaleString(void 0,a)),r},qe=e=>{if(typeof e=="number")return Math.log10(e);const t=e.toString(10);return t.length+Math.log10("0."+t.slice(0,15))},wa=e=>typeof e=="number"?Math.log(e):qe(e)*Math.log(10),Ta=(e,t)=>{if(typeof e=="number")return e/t;const a=e/BigInt(t),r=e%BigInt(t);return Number(a)+Number(r)/t};function He(e,t){if(typeof e!="bigint"&&!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t={bits:!1,binary:!1,space:!0,...t};const a=t.bits?t.binary?Sa:_a:t.binary?ya:ka,r=t.space?" ":"";if(t.signed&&(typeof e=="number"?e===0:e===0n))return` 0${r}${a[0]}`;const n=e<0,s=n?"-":t.signed?"+":"";n&&(e=-e);let i;if(t.minimumFractionDigits!==void 0&&(i={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(i={maximumFractionDigits:t.maximumFractionDigits,...i}),e<1){const M=Oe(e,t.locale,i);return s+M+r+a[0]}const o=Math.min(Math.floor(t.binary?wa(e)/Math.log(1024):qe(e)/3),a.length-1);e=Ta(e,(t.binary?1024:1e3)**o),i||(e=e.toPrecision(3));const d=Oe(Number(e),t.locale,i),b=a[o];return s+d+r+b}const Ca={name:"MetadataExpandButton"};function Ma(e,t,a,r,n,s){return l(),f(ge,{density:"compact",text:"...expand",variant:"text"})}const Ba=C(Ca,[["render",Ma]]),Va={name:"MetadataTextBox",components:{ExpandButton:Ba},props:{group:{type:String,default:""},highlight:{type:Boolean,default:!1},label:{type:String,default:""},maxHeight:{type:Number,default:0},value:{type:[Object,String,Number,Boolean],default:void 0}},data(){return{mdiOpenInNew:Be,expanded:!1,mounted:!1}},computed:{...B(L,["groupNames"]),...B(L,{browserShow:e=>e.settings.show,browserTopGroup:e=>e.settings.topGroup,folderViewEnabled:e=>e.page.adminFlags.folderView}),computedValue(){return this.value&&this.value.name!==void 0?this.value.name:this.value},lastSlashIndex(){return this.computedValue.lastIndexOf("/")+1},displayValue(){let e;return this.group==="f"&&this.computedValue?e=this.computedValue.slice(0,Math.max(0,this.lastSlashIndex)):this.group==="v"&&this.computedValue?e=ft(this.computedValue,this.value.numberTo):e=this.computedValue,e},textValueStyles(){const e=this.maxHeight>0&&!this.expanded?this.maxHeight:0;return e?"max-height: "+e+"px;":""},textValueRefName(){return"mdTextValue"+this.label.replaceAll(" ","")},isOverflow(){if(!this.mounted)return!1;const e=this.$refs[this.textValueRefName];return e?e.clientHeight<e.scrollHeight:!1},showExpandButton(){return!this.expanded&&this.maxHeight>0&&this.isOverflow},linkPks(){return(this.value.ids||[this.value.pk]).join(",")},clickable(){const e=this.$router.currentRoute.value.params;return!this.group||e.group===this.group||this.group==="f"&&!this.folderViewEnabled||!["a","f"].includes(this.group)&&!this.browserShow[this.group]?!1:!!this.linkPks?.length},classes(){return{clickable:this.clickable,highlight:this.highlight}},toRoute(){if(!this.clickable)return"";const e=this.group,t=this.linkPks;return{name:"browser",params:{group:e,pks:t,page:1}}},linkSettings(){return{topGroup:this.getTopGroup(this.group)}},title(){let e;return this.label?e=this.label:this.group?e=this.groupNames[this.group]:e="",this.toRoute?`Browse to ${e}`:e},baseName(){return this.group==="f"?this.computedValue.slice(Math.max(0,this.lastSlashIndex)):""}},mounted(){this.mounted=!0},methods:{...ue(L,["routeWithSettings","getTopGroup"]),onClick(){this.clickable&&this.routeWithSettings(this.linkSettings,this.toRoute)}}},Ra={key:0,class:"text"},Na={key:0,class:"textLabel"},Ia=["title"],La={key:0,class:"textContent"};function xa(e,t,a,r,n,s){const i=y("ExpandButton");return s.displayValue?(l(),p("div",Ra,[a.label?(l(),p("div",Na,[$(w(a.label)+" ",1),s.showExpandButton?(l(),f(i,{key:0,class:"expandButton",onClick:t[0]||(t[0]=o=>n.expanded=!0)})):h("",!0)])):h("",!0),u(Ht,null,{default:T(()=>[m("div",null,[m("div",{ref:s.textValueRefName,class:"textValue",style:de(s.textValueStyles)},[m("span",{class:I(["textContent",s.classes]),title:s.title,onClick:t[1]||(t[1]=(...o)=>s.onClick&&s.onClick(...o))},w(s.displayValue),11,Ia),s.baseName?(l(),p("span",La,w(s.baseName),1)):h("",!0)],4),s.showExpandButton&&!a.label?(l(),f(i,{key:0,class:"expandButton",onClick:t[2]||(t[2]=o=>n.expanded=!0)})):h("",!0)])]),_:1})])):h("",!0)}const Re=C(Va,[["render",xa],["__scopeId","data-v-847af0f1"]]),Ke=["writer","author","plotter","plot","script","scripter","story","interviewer","translator","artist","penciller","breakdowns","pencils","illustrator","layouts","inker","finishes","inks","embellisher","inkAssists","colorist","colorer","colourer","colors","colours","colorDesigner","colorFlats","colorSeparations","designer","digitalArtTechnician","grayTone","letterer","cover","covers","coverArtist","editor","edits","editing"];Object.freeze(Ke);const We=["genres","characters","teams","locations","seriesGroups","stories","storyArcNumbers","tags","universes"];Object.freeze(We);const Ye=new Set(["Characters","Teams"]);Object.freeze(Ye);function Pa(e,t){const a=e.name.split(" ").pop(),r=t.name.split(" ").pop();return a.localeCompare(r)}const A=pt("metadata",{state:()=>({md:void 0}),getters:{roleMap(e){const t={};for(const{role:a}of e.md.credits){const r=a?.name?a.name:"Other";t[r]=a}return t},_mappedCredits(e){const t={};if(!e?.md?.credits)return t;for(const{role:a,person:r}of e.md.credits){const n=a?.name?a.name:"Other";n in t||(t[n]=[]),t[n].push(r)}for(const[a,r]of Object.entries(t))t[a]=r.sort(Pa);return t},_sortedRoles(e){const t=new Set(Object.keys(e._mappedCredits)),a=[];for(const n of Ke)t.has(n)&&(a.push(n),t.delete(n));const r=[...t].sort();return[...a,...r]},credits(e){return this.mapTag(e._mappedCredits,e._sortedRoles)},identifiers(e){const t=[];if(!e.md?.identifiers)return t;for(const a of e.md.identifiers){const r=a.name.split(":"),n=r[0],s=r[1],i=L().identifierSourceTitle(n);let o="";i&&i!=="None"&&(o+=i+":"),o+=s;const d={pk:a.pk,url:a.url,name:o};t.push(d)}return t},tags(e){const t=e.mapTag(e.md,We);e.identifiers?.length&&(t.Identifiers={filter:"identifiers",tags:this.identifiers});for(const a of Object.values(t))a.tags=a.tags.sort((r,n)=>r.name.localeCompare(n.name));return t}},actions:{async loadMetadata({group:e,pks:t}){await Le.getMetadata({group:e,pks:t},L().metadataSettings).then(a=>{const r={...a.data};return r.loaded=!0,this.md=r,!0}).catch(a=>{console.error(a),this.clearMetadata()})},clearMetadata(){this.md=void 0},getTagName(e){var t;return e==="storyArcNumbers"?t="Story Arcs":t=vt(e),t},markTagMain(e,t){const a="main"+e.slice(0,-1),r=this.md[a]?.pk,n=[];var s=[];for(const i of t)r===i.pk?s.push(i):n.push(i);return{mainTags:s,regularTags:n}},mapTag(e,t){const a={};for(const s of t){const i=e[s];if(!i?.length)continue;const o=this.getTagName(s);var r=[],n=[];Ye.has(o)?{mainTags:r,regularTags:n}=this.markTagMain(o,i):n=i,a[o]={filter:s,tags:n,mainTags:r}}return a},lazyImport({group:e,ids:t}){return Le.getLazyImport({group:e,pks:t})}}}),$a={name:"MetadataRatings",components:{MetadataText:Re},computed:{...B(A,{md:e=>e.md}),show(){return this.md?.criticRating!==void 0||this.md?.ageRating}}},Fa={key:0},Da={key:1};function Ea(e,t,a,r,n,s){const i=y("MetadataText");return s.show?(l(),f(je,{key:0},{default:T(()=>[m("tbody",null,[e.md.criticalRating?(l(),p("tr",Fa,[t[0]||(t[0]=m("td",{class:"key"},"Critical Rating",-1)),m("td",null,[u(i,{value:e.md.criticalRating},null,8,["value"])])])):h("",!0),e.md.ageRating?(l(),p("tr",Da,[t[1]||(t[1]=m("td",{class:"key"},"Age Rating",-1)),m("td",null,[u(i,{value:e.md.ageRating.name},null,8,["value"])])])):h("",!0)])]),_:1})):h("",!0)}const za=C($a,[["render",Ea],["__scopeId","data-v-8b5cb217"]]),Oa=new Set(["p","i","s","v"]),Aa={name:"MetadataTags",props:{item:{type:Object,required:!0},filter:{type:String,default:""},main:{type:Boolean,default:!1}},data(){return{mdiStar:gt,mdiOpenInNew:Be}},computed:{...B(L,{browserShow:e=>e.settings.show,filterValues(e){return e.settings.filters[this.filter]},topGroup:e=>e.settings.topGroup}),...B(A,{mdGroup:e=>e.md.group,mdIds:e=>e.md.ids}),groupMode(){return Oa.has(this.filter)},clickable(){return this.filter&&this.item.value&&(!this.groupMode||this.browserShow[this.filter])},classes(){return{clickable:(this.clickable||this.item.url)&&!this.highlight}},highlight(){return!!(this.groupMode&&this.filter===this.mdGroup&&this.mdIds.includes(this.item.value)||this.filterValues?.includes(this.item.value))},variant(){return this.highlight?"flat":"tonal"},color(){const e=this.$vuetify.theme.current.colors;return this.highlight?e["primary-darken-1"]:""},linkGroup(){let e;return this.groupMode?e=this.filter:e=["f","s"].includes(this.topGroup)?this.topGroup:"r",e},linkPks(){return this.groupMode||this.linkGroup!=="a"&&this.filter==="storyArcs"?this.item.value.toString():"0"},toRoute(){if(!this.clickable)return"";const e=this.linkGroup,t=this.linkPks;return{name:"browser",params:{group:e,pks:t,page:1}}},linkSettings(){let e;return this.linkPks==="0"?e={filters:{[this.filter]:[this.item.value]}}:e={topGroup:this.getTopGroup(this.linkGroup)},e},title(){return this.filter==="identifiers"?this.identifierSourceTitle(this.item.title):this.item.title}},methods:{...ue(L,["routeWithSettings","getTopGroup","identifierSourceTitle"]),async onClick(){this.clickable&&this.routeWithSettings(this.linkSettings,this.toRoute)}}},Ga=["href"],ja={key:1};function Ua(e,t,a,r,n,s){return l(),f(Ot,{class:I(s.classes),color:s.color,value:a.item.value,variant:s.variant,onClick:s.onClick},{default:T(()=>[a.item.url?(l(),p("a",{key:0,href:a.item.url,target:"_blank"},[a.main?(l(),f(ne,{key:0,class:"mainStar"},{default:T(()=>[$(w(n.mdiStar),1)]),_:1})):h("",!0),$(w(s.title)+" ",1),a.main?(l(),f(ne,{key:1,class:"mainStar"},{default:T(()=>[$(w(n.mdiStar),1)]),_:1})):h("",!0),u(ne,null,{default:T(()=>[$(w(n.mdiOpenInNew),1)]),_:1})],8,Ga)):(l(),p("span",ja,[a.main?(l(),f(ne,{key:0,class:"mainStar"},{default:T(()=>[$(w(n.mdiStar),1)]),_:1})):h("",!0),$(" "+w(s.title)+" ",1),a.main?(l(),f(ne,{key:1,class:"mainStar"},{default:T(()=>[$(w(n.mdiStar),1)]),_:1})):h("",!0)]))]),_:1},8,["class","color","value","variant","onClick"])}const qa=C(Aa,[["render",Ua],["__scopeId","data-v-1da1eb5b"]]),Ha={name:"MetadataTags",components:{MetadataChip:qa},props:{label:{type:String,default:""},values:{type:Array,default(){return[]}},mainValues:{type:Array,default(){return[]}},filter:{type:String,required:!1,default:void 0}},computed:{mainItems(){return ze({items:this.mainValues,sort:!1})},items(){let e;return this.filter==="universes"?e=this.fixUniverseTitles(this.values):e=this.values,ze({items:e,sort:!1})}},methods:{...ue(L,["fixUniverseTitles"])}},Ka={key:0},Wa={key:0,class:"chipGroupLabel"};function Ya(e,t,a,r,n,s){const i=y("MetadataChip");return s.items?.length>0?(l(),p("div",Ka,[a.label?(l(),p("div",Wa,w(a.label),1)):h("",!0),m("div",null,[(l(!0),p(ce,null,le(s.mainItems,o=>(l(),f(i,{key:`${a.filter}/${o.value}`,filter:a.filter,item:o,main:!0},null,8,["filter","item"]))),128)),(l(!0),p(ce,null,le(s.items,o=>(l(),f(i,{key:`${a.filter}/${o.value}`,filter:a.filter,item:o},null,8,["filter","item"]))),128))])])):h("",!0)}const Ze=C(Ha,[["render",Ya],["__scopeId","data-v-836d9fbb"]]),Za={name:"MetadataTagsTable",components:{MetadataTags:Ze},data(){return{mdiOpenInNew:Be}},props:{keyMap:{type:Object,default:void 0},tagMap:{type:Object,required:!0}},computed:{show(){return Object.keys(this.tagMap).length>0}}},Xa={key:0,class:"key keyLink"},Qa={href:"keyMap[key].url"},Ja={key:1,class:"key"},es={class:"tags"};function ts(e,t,a,r,n,s){const i=y("MetadataTags");return s.show?(l(),f(je,{key:0},{default:T(()=>[m("tbody",null,[(l(!0),p(ce,null,le(Object.entries(a.tagMap),([o,{filter:d,tags:b,mainTags:M}])=>(l(),p("tr",{key:o},[a.keyMap&&a.keyMap[o]&&a.keyMap[o].url?(l(),p("td",Xa,[m("a",Qa,[$(w(o),1),u(ne,null,{default:T(()=>[$(w(n.mdiOpenInNew),1)]),_:1})])])):(l(),p("td",Ja,w(o),1)),m("td",es,[u(i,{filter:d,values:b,mainValues:M},null,8,["filter","values","mainValues"])])]))),128))])]),_:1})):h("",!0)}const as=C(Za,[["render",ts],["__scopeId","data-v-56102c2c"]]),ss={name:"MetadataBody",components:{MetadataRatings:za,MetadataTagsTable:as,MetadataText:Re},props:{book:{type:Object,required:!0}},computed:{...B(A,["credits","ratings","tags"]),...B(L,{twentyFourHourTime:e=>e.settings?.twentyFourHourTime,readingDirectionTitles:e=>e.choices.static.readingDirection}),...B(A,{md:e=>e.md,roleMap:e=>e.roleMap}),readingDirectionText(){return this.md?this.readingDirectionTitles[this.md.readingDirection]:"Unknown"},size(){return this?.md?.size>0?He(this.md.size):0},sizeLabel(){return this?.md?.group==="c"?"Size":"Total Size"},fileType(){return this?.md?.fileType||"Unknown"}},methods:{formatDateTime(e){return bt(e,this.twentyFourHourTime)}}},is={id:"metadataBody"},ns={class:"mdSection"},rs={class:"mdSection"},os={class:"quarterRow"},ls={class:"thirdRow"},us={class:"lastSmallRow"},ds={key:0,class:"halfRow mdSection"},cs={class:"mdSection"},ms={class:"inlineRow"},hs={class:"inlineRow"};function fs(e,t,a,r,n,s){const i=y("MetadataText"),o=y("MetadataTagsTable"),d=y("MetadataRatings");return l(),p("div",is,[m("section",ns,[u(i,{value:e.md.summary,"max-height":100},null,8,["value"]),u(i,{value:e.md.review,label:"Review","max-height":100},null,8,["value"])]),u(o,{"key-map":e.roleMap,"tag-map":e.credits,class:"mdSection"},null,8,["key-map","tag-map"]),m("section",rs,[m("div",os,[e.md.createdAt?(l(),f(i,{key:0,value:s.formatDateTime(e.md.createdAt),label:"Created at",class:"mtime"},null,8,["value"])):h("",!0),e.md.updatedAt?(l(),f(i,{key:1,value:s.formatDateTime(e.md.updatedAt),label:"Updated at",class:"mtime"},null,8,["value"])):h("",!0),u(i,{value:s.size,label:s.sizeLabel},null,8,["value","label"]),u(i,{value:s.fileType,label:"File Type"},null,8,["value"])]),m("div",ls,[u(i,{label:"Reading Direction",value:s.readingDirectionText},null,8,["value"]),u(i,{value:e.md.originalFormat?.name,label:"Original Format"},null,8,["value"]),u(i,{value:(!!e.md.monochrome).toString(),label:"Monochrome"},null,8,["value"])]),m("div",us,[u(i,{group:"f",value:{pk:e.md.parentFolderId,name:e.md.path},label:"Path"},null,8,["value"])])]),e.md?.country||e.md?.language?(l(),p("section",ds,[u(i,{value:e.md.country?.name,label:"Country"},null,8,["value"]),u(i,{value:e.md.language?.name,label:"Language"},null,8,["value"])])):h("",!0),u(d,{class:"mdSection"}),u(o,{"tag-map":e.tags,class:"mdSection"},null,8,["tag-map"]),m("section",cs,[m("section",ms,[u(i,{value:e.md.notes,label:"Notes"},null,8,["value"])]),m("section",hs,[u(i,{value:e.md.tagger,label:"Tagger"},null,8,["value"]),u(i,{value:e.md.scanInfo,label:"Scan"},null,8,["value"])])])])}const ps=C(ss,[["render",fs],["__scopeId","data-v-e65fff8f"]]),Xe=new Set("rtl","btt");Object.freeze(Xe);const Qe=({ids:e,page:t,readingDirection:a,pageCount:r},n)=>{if(e.length===0||n&&!r)return"";const s=e[0];if(t)t=Number(t);else if(Xe.has(a)){const i=Number(r)-1;t=Math.max(i,0)}else t=0;return{name:"reader",params:{pk:s,page:t}}},Je={p:"publisher",i:"imprint",s:"series",v:"volume",f:"folder",a:"storyArc"};Object.freeze(Je);const vs={name:"MetadataControls",components:{DownloadButton:fa,MarkReadButton:ba},props:{group:{type:String,required:!0}},computed:{...B(A,{md:e=>e.md}),...B(L,{importMetadata:e=>e.page?.adminFlags?.importMetadata}),downloadName(){const e=this.md;let t;if(!e)t="Unknown.cbz";else if(e.fileName)t=e.fileName;else{if(this.md.group==="f")return[this.firstNameFromList(e.folderList)];if(this.md.group==="a")return[this.firstNameFromList(e.storyArcList)];t=[this.firstNameFromList(e.publisherList),this.firstNameFromList(e.imprintList),this.firstNameFromList(e.seriesList),this.firstNameFromList(e.volumeList),Ae(this.md,3),this.md.name].filter(Boolean).join(" ")}return t},downloadItem(){return{group:this.md?.group,ids:this.md?.ids,childCount:this.md?.childCount,mtime:this.md?.mtime,name:this.downloadName}},isReadButtonShown(){return this.group==="c"&&this.$route.name!="reader"},isReadButtonEnabled(){return!!this.readerRoute},markReadItem(){let e="";const t=Je[this.md.group];return t?e=(this.md[t+"List"]||[]).map(({name:n})=>n).join(", "):e=this.md.name,{group:this.md.group,ids:this.md.ids,finished:this.md.finished,name:e,children:this.md.childCount||1}},readButtonIcon(){return this.isReadButtonEnabled?kt:yt},readerRoute(){return this.md?.ids?Qe(this.md,this.importMetadata):{}},size(){return this.$vuetify.display.smAndDown?"x-small":"default"}},methods:{firstNameFromList(e){let t="";if(!e)return t;for(const a of Object.values(e))if(a.name){t=a.name;break}return t}}},gs={class:"controlRow"};function bs(e,t,a,r,n,s){const i=y("DownloadButton"),o=y("MarkReadButton");return l(),p("section",gs,[u(i,{id:"downloadButton",button:!0,item:s.downloadItem,size:s.size},null,8,["item","size"]),u(o,{id:"markReadButton",button:!0,item:s.markReadItem,size:s.size},null,8,["item","size"]),s.isReadButtonShown?(l(),f(ge,{key:0,id:"readButton",title:"Read Comic",disabled:!s.isReadButtonEnabled,size:s.size,to:s.readerRoute},{default:T(()=>[u(ne,null,{default:T(()=>[$(w(s.readButtonIcon),1)]),_:1}),t[0]||(t[0]=$(" Read ",-1))]),_:1,__:[0]},8,["disabled","size","to"])):h("",!0)])}const ks=C(vs,[["render",bs],["__scopeId","data-v-d254bb05"]]),ys={name:"MetadataBookCover",components:{BookCover:da},props:{group:{type:String,required:!0}},computed:{...B(A,{md:e=>e.md})}},_s={class:"bookCoverWrapper"};function Ss(e,t,a,r,n,s){const i=y("BookCover");return l(),p("div",_s,[u(i,{id:"bookCover",group:a.group,pks:e.md.ids,"child-count":e.md.childCount,finished:e.md.finished,mtime:e.md.mtime},null,8,["group","pks","child-count","finished","mtime"]),u(Lt,{class:"bookCoverProgress","model-value":e.md.progress,rounded:"","background-color":"inherit",height:"2","aria-label":"% read"},null,8,["model-value"])])}const ws=C(ys,[["render",Ss],["__scopeId","data-v-3a0db03b"]]),Ts={name:"MetadataHeader",components:{MetadataBookCover:ws,MetadataControls:ks,MetadataTags:Ze,MetadataText:Re},props:{group:{type:String,required:!0}},computed:{...B(L,{importMetadata:e=>e.page?.adminFlags?.importMetadata,q:e=>e.settings.q}),...B(A,{md:e=>e.md}),collectionTitle(){if(this.md.collectionTitle)return`${this.md.collectionTitle}:`},date(){if(!this.md.year&&!this.md.month&&!this.md.day)return"";const e=new Date(this.md.year||1970,this.md.month||1,this.md.day||1),t={};return this.md.year&&(t.year="numeric"),this.md.month&&(t.month=this.$vuetify.display.smAndDown?"short":"long"),this.md.day&&(t.day="numeric"),e.toLocaleDateString("default",t)},readerRoute(){return this.md?.ids?Qe(this.md,this.importMetadata):{}},formattedIssueNumber(){if(!this.md)return"Unknown";if(!((this.md.issueNumber===null||this.md.issueNumber===void 0)&&!this.md.issueSuffix))return"#"+Ae(this.md)},pages(){let e="";if(!this.md)return e;if(this.md.page){const a=Se.format(this.md.page);e+=this.$vuetify.display.smAndDown?`${a} / `:`Read ${a} of `}const t=Se.format(this.md.pageCount);return e+=`${t} page`,this.md.pageCount!==1&&(e+="s"),this.$vuetify.display.smAndUp&&this.md.progress>0&&(e+=` (${Math.round(this.md.progress)}%)`),e},size(){return this?.md?.size>0?He(this.md.size):0},fileType(){return this?.md?.fileType||"Unknown"},seriesVolumeCount(){const e=this.md.seriesVolumeCount;return e?`of ${e}`:""},volumeIssueCount(){const e=this.md.volumeIssueCount;return e?`/ ${e}`:""}}},Cs={id:"metadataHeader"},Ms={key:1,id:"seriesHeader"},Bs={id:"seriesRow",class:"inlineRow"},Vs={key:2,id:"titleRow"},Rs={key:4,id:"publisherRow",class:"inlineRow"},Ns={key:7,id:"pageDateRow",class:"inlineRow"};function Is(e,t,a,r,n,s){const i=y("MetadataText"),o=y("MetadataBookCover"),d=y("MetadataTags"),b=y("MetadataControls");return l(),p(ce,null,[m("header",Cs,[e.q?(l(),f(i,{key:0,id:"search",value:e.q,label:"Search Query",highlight:!0},null,8,["value"])):h("",!0),u(o,{id:"metadataBookCover",group:a.group},null,8,["group"]),e.md.seriesList?.length===1?(l(),p("section",Ms,[m("div",Bs,[(l(),f(i,{id:"series",key:e.md.seriesList[0].ids,value:e.md.seriesList[0],group:"s",highlight:e.md.group==="s"},null,8,["value","highlight"])),e.md.volumeList?.length===1?(l(),f(i,{id:"volume",key:e.md.volumeList[0].ids,value:e.md.volumeList[0],group:"v",highlight:e.md.group==="v"},null,8,["value","highlight"])):h("",!0),u(i,{value:s.seriesVolumeCount,class:"subdued"},null,8,["value"]),u(i,{id:"issue",value:s.formattedIssueNumber,group:"c",highlight:e.md.group==="c"},null,8,["value","highlight"]),u(i,{value:s.volumeIssueCount,class:"subdued"},null,8,["value"])])])):h("",!0),e.md.name?(l(),p("span",Vs,w(s.collectionTitle)+" "+w(e.md.name),1)):h("",!0),e.md.seriesList?.length>1?(l(),f(d,{key:3,id:"seriesTags",class:"groupTags",label:"Series",values:e.md.seriesList,filter:"s"},null,8,["values"])):h("",!0),m("div",null,[e.md.volumeList?.length>1?(l(),f(d,{key:0,id:"volumeTags",class:"groupTags",label:"Volumes",values:e.md.volumeList,filter:"v"},null,8,["values"])):h("",!0)]),e.md.publisherList?.length===1?(l(),p("div",Rs,[(l(),f(i,{id:"publisher",key:e.md.publisherList[0].ids,group:"p",highlight:e.md.group==="p",value:e.md.publisherList[0]},null,8,["highlight","value"])),e.md.imprintList?.length===1?(l(),f(i,{id:"imprint",key:e.md.imprintList[0].ids,group:"i",highlight:e.md.group==="i",value:e.md.imprintList[0]},null,8,["highlight","value"])):h("",!0)])):h("",!0),e.md.publisherList?.length>1?(l(),f(d,{key:5,id:"publisherTags",class:"groupTags",label:"Publishers",values:e.md.publisherList,filter:"p"},null,8,["values"])):h("",!0),e.md.imprintList?.length>1?(l(),f(d,{key:6,id:"imprintTags",class:"groupTags",label:"Imprints",values:e.md.imprintList,filter:"i"},null,8,["values"])):h("",!0),s.pages||e.md.year||e.md.month||e.md.day?(l(),p("div",Ns,[u(i,{value:s.pages},null,8,["value"]),u(i,{value:s.date,class:"datePicker"},null,8,["value"])])):h("",!0)]),u(b,{id:"controls",group:a.group},null,8,["group"])],64)}const Ls=C(Ts,[["render",Is],["__scopeId","data-v-a05541e5"]]),xs={name:"MetadataActivator",props:{book:{type:Object,required:!0},toolbar:{type:Boolean,require:!0}},data(){return{mdiTagOutline:St}},computed:{...B(_t,{lazyImportEnabled:e=>e.adminFlags.lazyImportMetadata}),variant(){return this.toolbar?"plain":"text"}},methods:{...ue(A,["lazyImport"]),onMouseEnter(){if(this.lazyImportEnabled&&this.book.group==="c"&&!this.book.hasMetadata){const e=this.book.ids||[this.book.pk];this.lazyImport({group:this.book.group,ids:e}),this.book.hasMetadata=!0}}}};function Ps(e,t,a,r,n,s){return l(),f(ge,{onMouseenter:s.onMouseEnter,"aria-label":"tags",class:"tagButton cardControlButton",variant:s.variant,icon:n.mdiTagOutline,title:"Tags",onClick:t[0]||(t[0]=wt(()=>{},["prevent"]))},null,8,["onMouseenter","variant","icon"])}const $s=C(xs,[["render",Ps]]),Fs=1160,Ds=.05,Es=250,zs={name:"MetadataButton",components:{CloseButton:qt,MetadataActivator:$s,MetadataBody:ps,MetadataHeader:Ls,PlaceholderLoading:Qt},props:{book:{type:Object,required:!0},toolbar:{type:Boolean,default:!1}},data(){return{dialog:!1,progress:0}},computed:{...B(A,{md:e=>e.md}),showContainer(){return this.md?.loaded||!1},children(){return this.book.childCount||0}},watch:{dialog(e){e?this.dialogOpened():this.clearMetadata()}},methods:{...ue(A,["clearMetadata","loadMetadata"]),dialogOpened(){const e=this.book.ids||[this.book.pk],t={group:this.book.group,pks:e};this.loadMetadata(t),this.startProgress()},startProgress(){this.startTime=Date.now(),this.estimatedMS=Math.max(Ds,this.children/Fs)*1e3,this.updateProgress()},updateProgress(){const e=Date.now()-this.startTime;this.progress=e/this.estimatedMS*100,!(this.progress>=100||this.md)&&setTimeout(()=>{this.updateProgress()},Es)}}},Os={key:1,id:"placeholderContainer"};function As(e,t,a,r,n,s){const i=y("MetadataActivator"),o=y("CloseButton"),d=y("MetadataHeader"),b=y("MetadataBody"),M=y("PlaceholderLoading");return l(),f(Ut,{modelValue:n.dialog,"onUpdate:modelValue":t[2]||(t[2]=_=>n.dialog=_),fullscreen:"",transition:"dialog-bottom-transition"},{activator:T(({props:_})=>[u(i,Q(_,{book:a.book,toolbar:a.toolbar}),null,16,["book","toolbar"])]),default:T(()=>[u(o,{class:"closeButton",title:"Close Metadata (esc)",onClick:t[0]||(t[0]=_=>n.dialog=!1)}),s.showContainer?(l(),p("div",{key:0,id:"metadataContainer",onKeyup:t[1]||(t[1]=Tt(_=>n.dialog=!1,["esc"]))},[u(d,{group:a.book.group},null,8,["group"]),u(b,{book:a.book},null,8,["book"])],32)):(l(),p("div",Os,[t[3]||(t[3]=m("div",{id:"placeholderTitle"},"Tags Loading",-1)),u(M,{"model-value":n.progress,indeterminate:n.progress>=100,class:"placeholder"},null,8,["model-value","indeterminate"])]))]),_:1},8,["modelValue"])}const gi=C(zs,[["render",As],["__scopeId","data-v-e1a86bc1"]]),Gs={name:"PaginationNavButton",props:{narrow:{type:Boolean,default:!0}},computed:{classes(){return{narrowButton:this.narrow}}}};function js(e,t,a,r,n,s){return l(),f(ge,{variant:"plain",density:"compact",class:I(["paginationNavButton",s.classes]),size:"medium"},Ce({_:2},[le(e.$slots,(i,o)=>({name:o,fn:T(d=>[Me(e.$slots,o,Q({props:i},d),void 0,!0)])}))]),1032,["class"])}const bi=C(Gs,[["render",js],["__scopeId","data-v-cf061c30"]]),Ne=Symbol.for("vuetify:v-slider");function Us(e,t,a){const r=a==="vertical",n=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return r?s.clientY-(n.top+n.height/2):s.clientX-(n.left+n.width/2)}function qs(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const Hs=me({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Pt(),...xt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Ks=e=>{const t=g(()=>parseFloat(e.min)),a=g(()=>parseFloat(e.max)),r=g(()=>Number(e.step)>0?parseFloat(e.step):0),n=g(()=>Math.max(xe(r.value),xe(t.value)));function s(i){if(i=parseFloat(i),r.value<=0)return i;const o=we(i,t.value,a.value),d=t.value%r.value;let b=Math.round((o-d)/r.value)*r.value+d;return o>b&&b+r.value>a.value&&(b=a.value),parseFloat(Math.min(b,a.value).toFixed(n.value))}return{min:t,max:a,step:r,decimals:n,roundValue:s}},Ws=e=>{let{props:t,steps:a,onSliderStart:r,onSliderMove:n,onSliderEnd:s,getActiveThumb:i}=e;const{isRtl:o}=Ve(),d=D(()=>t.reverse),b=g(()=>t.direction==="vertical"),M=g(()=>b.value!==d.value),{min:_,max:P,step:E,decimals:H,roundValue:K}=a,J=g(()=>parseInt(t.thumbSize,10)),W=g(()=>parseInt(t.tickSize,10)),Y=g(()=>parseInt(t.trackSize,10)),z=g(()=>(P.value-_.value)/E.value),ee=D(()=>t.disabled),O=g(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),G=g(()=>t.error||t.disabled?void 0:t.trackColor??t.color),x=g(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),N=Pe(!1),S=Pe(0),j=fe(),F=fe();function k(c){const v=j.value?.$el;if(!v)return;const se=t.direction==="vertical",et=se?"top":"left",tt=se?"height":"width",at=se?"clientY":"clientX",{[et]:st,[tt]:it}=v.getBoundingClientRect(),nt=qs(c,at);let ye=we((nt-st-S.value)/it)||0;return(se?M.value:M.value!==o.value)&&(ye=1-ye),K(_.value+ye*(P.value-_.value))}const te=c=>{const v=k(c);v!=null&&s({value:v}),N.value=!1,S.value=0},U=c=>{const v=k(c);F.value=i(c),F.value&&(N.value=!0,F.value.contains(c.target)?S.value=Us(c,F.value,t.direction):(S.value=0,v!=null&&n({value:v})),v!=null&&r({value:v}),Mt(()=>F.value?.focus()))},q={passive:!0,capture:!0};function Z(c){const v=k(c);v!=null&&n({value:v})}function X(c){c.stopPropagation(),c.preventDefault(),te(c),window.removeEventListener("mousemove",Z,q),window.removeEventListener("mouseup",X)}function he(c){te(c),window.removeEventListener("touchmove",Z,q),c.target?.removeEventListener("touchend",he)}function be(c){U(c),window.addEventListener("touchmove",Z,q),c.target?.addEventListener("touchend",he,{passive:!1})}function ke(c){c.button===0&&(c.preventDefault(),U(c),window.addEventListener("mousemove",Z,q),window.addEventListener("mouseup",X,{passive:!1}))}const re=c=>{const v=(c-_.value)/(P.value-_.value)*100;return we(isNaN(v)?0:v,0,100)},V=D(()=>t.showTicks),R=g(()=>V.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(c=>({value:c,position:re(c),label:c.toString()})):Object.keys(t.ticks).map(c=>({value:parseFloat(c),position:re(parseFloat(c)),label:t.ticks[c]})):z.value!==1/0?Ct(z.value+1).map(c=>{const v=_.value+c*E.value;return{value:v,position:re(v)}}):[]:[]),oe=g(()=>R.value.some(c=>{let{label:v}=c;return!!v})),ae={activeThumbRef:F,color:D(()=>t.color),decimals:H,disabled:ee,direction:D(()=>t.direction),elevation:D(()=>t.elevation),hasLabels:oe,isReversed:d,indexFromEnd:M,min:_,max:P,mousePressed:N,numTicks:z,onSliderMousedown:ke,onSliderTouchstart:be,parsedTicks:R,parseMouseMove:k,position:re,readonly:D(()=>t.readonly),rounded:D(()=>t.rounded),roundValue:K,showTicks:V,startOffset:S,step:E,thumbSize:J,thumbColor:O,thumbLabel:D(()=>t.thumbLabel),ticks:D(()=>t.ticks),tickSize:W,trackColor:G,trackContainerRef:j,trackFillColor:x,trackSize:Y,vertical:b};return Bt(Ne,ae),ae},Ys=me({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Te()},"VSliderThumb"),Zs=pe()({name:"VSliderThumb",directives:{vRipple:Fe},props:Ys(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a,emit:r}=t;const n=Ge(Ne),{isRtl:s,rtlClasses:i}=Ve();if(!n)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{min:o,max:d,thumbColor:b,step:M,disabled:_,thumbSize:P,thumbLabel:E,direction:H,isReversed:K,vertical:J,readonly:W,elevation:Y,mousePressed:z,decimals:ee,indexFromEnd:O}=n,G=g(()=>_.value?void 0:Y.value),{elevationClasses:x}=$t(G),{textColorClasses:N,textColorStyles:S}=Ft(b),{pageup:j,pagedown:F,end:k,home:te,left:U,right:q,down:Z,up:X}=Vt,he=[j,F,k,te,U,q,Z,X],be=g(()=>M.value?[1,2,3]:[1,5,10]);function ke(V,R){if(!he.includes(V.key))return;V.preventDefault();const oe=M.value||.1,ae=(d.value-o.value)/oe;if([U,q,Z,X].includes(V.key)){const v=(J.value?[s.value?U:q,K.value?Z:X]:O.value!==s.value?[U,X]:[q,X]).includes(V.key)?1:-1,se=V.shiftKey?2:V.ctrlKey?1:0;v===-1&&R===d.value&&!se&&!Number.isInteger(ae)?R=R-ae%1*oe:R=R+v*oe*be.value[se]}else if(V.key===te)R=o.value;else if(V.key===k)R=d.value;else{const c=V.key===F?1:-1;R=R-c*oe*(ae>100?ae/10:10)}return Math.max(e.min,Math.min(e.max,R))}function re(V){const R=ke(V,e.modelValue);R!=null&&r("update:modelValue",R)}return ve(()=>{const V=ie(O.value?100-e.position:e.position,"%");return m("div",{class:I(["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&z.value},e.class,i.value]),style:de([{"--v-slider-thumb-position":V,"--v-slider-thumb-size":ie(P.value)},e.style]),role:"slider",tabindex:_.value?-1:0,"aria-label":e.name,"aria-valuemin":o.value,"aria-valuemax":d.value,"aria-valuenow":e.modelValue,"aria-readonly":!!W.value,"aria-orientation":H.value,onKeydown:W.value?void 0:re},[m("div",{class:I(["v-slider-thumb__surface",N.value,x.value]),style:{...S.value}},null),$e(m("div",{class:I(["v-slider-thumb__ripple",N.value]),style:de(S.value)},null),[[Fe,e.ripple,null,{circle:!0,center:!0}]]),u(Kt,{origin:"bottom center"},{default:()=>[$e(m("div",{class:"v-slider-thumb__label-container"},[m("div",{class:I(["v-slider-thumb__label",N.value])},[m("div",null,[a["thumb-label"]?.({modelValue:e.modelValue})??e.modelValue.toFixed(M.value?ee.value:1)])])]),[[Rt,E.value&&e.focused||E.value==="always"]])]})])}),{}}}),Xs=me({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Te()},"VSliderTrack"),Qs=pe()({name:"VSliderTrack",props:Xs(),emits:{},setup(e,t){let{slots:a}=t;const r=Ge(Ne);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:n,parsedTicks:s,rounded:i,showTicks:o,tickSize:d,trackColor:b,trackFillColor:M,trackSize:_,vertical:P,min:E,max:H,indexFromEnd:K}=r,{roundedClasses:J}=Dt(i),{backgroundColorClasses:W,backgroundColorStyles:Y}=De(M),{backgroundColorClasses:z,backgroundColorStyles:ee}=De(b),O=g(()=>`inset-${P.value?"block":"inline"}-${K.value?"end":"start"}`),G=g(()=>P.value?"height":"width"),x=g(()=>({[O.value]:"0%",[G.value]:"100%"})),N=g(()=>e.stop-e.start),S=g(()=>({[O.value]:ie(e.start,"%"),[G.value]:ie(N.value,"%")})),j=g(()=>o.value?(P.value?s.value.slice().reverse():s.value).map((k,te)=>{const U=k.value!==E.value&&k.value!==H.value?ie(k.position,"%"):void 0;return m("div",{key:k.value,class:I(["v-slider-track__tick",{"v-slider-track__tick--filled":k.position>=e.start&&k.position<=e.stop,"v-slider-track__tick--first":k.value===E.value,"v-slider-track__tick--last":k.value===H.value}]),style:{[O.value]:U}},[(k.label||a["tick-label"])&&m("div",{class:"v-slider-track__tick-label"},[a["tick-label"]?.({tick:k,index:te})??k.label])])}):[]);return ve(()=>m("div",{class:I(["v-slider-track",J.value,e.class]),style:de([{"--v-slider-track-size":ie(_.value),"--v-slider-tick-size":ie(d.value)},e.style])},[m("div",{class:I(["v-slider-track__background",z.value,{"v-slider-track__background--opacity":!!n.value||!M.value}]),style:{...x.value,...ee.value}},null),m("div",{class:I(["v-slider-track__fill",W.value]),style:{...S.value,...Y.value}},null),o.value&&m("div",{class:I(["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}])},[j.value])])),{}}}),Js=me({...Zt(),...Hs(),...Yt(),modelValue:{type:[Number,String],default:0}},"VSlider"),ei=pe()({name:"VSlider",props:Js(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:a,emit:r}=t;const n=fe(),s=fe(),{rtlClasses:i}=Ve(),o=Ks(e),d=Nt(e,"modelValue",void 0,x=>o.roundValue(x??o.min.value)),{min:b,max:M,mousePressed:_,roundValue:P,onSliderMousedown:E,onSliderTouchstart:H,trackContainerRef:K,position:J,hasLabels:W,readonly:Y}=Ws({props:e,steps:o,onSliderStart:()=>{r("start",d.value)},onSliderEnd:x=>{let{value:N}=x;const S=P(N);d.value=S,r("end",S)},onSliderMove:x=>{let{value:N}=x;return d.value=P(N)},getActiveThumb:()=>n.value?.$el}),{isFocused:z,focus:ee,blur:O}=Wt(e),G=g(()=>J(d.value));return ve(()=>{const x=Ee.filterProps(e),N=!!(e.label||a.label||a.prepend);return u(Ee,Q({ref:s,class:["v-slider",{"v-slider--has-labels":!!a["tick-label"]||W.value,"v-slider--focused":z.value,"v-slider--pressed":_.value,"v-slider--disabled":e.disabled},i.value,e.class],style:e.style},x,{focused:z.value}),{...a,prepend:N?S=>m(ce,null,[a.label?.(S)??(e.label?u(Xt,{id:S.id.value,class:"v-slider__label",text:e.label},null):void 0),a.prepend?.(S)]):void 0,default:S=>{let{id:j,messagesId:F}=S;return m("div",{class:"v-slider__container",onMousedown:Y.value?void 0:E,onTouchstartPassive:Y.value?void 0:H},[m("input",{id:j.value,name:e.name||j.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:d.value},null),u(Qs,{ref:K,start:0,stop:G.value},{"tick-label":a["tick-label"]}),u(Zs,{ref:n,"aria-describedby":F.value,focused:z.value,min:b.value,max:M.value,modelValue:d.value,"onUpdate:modelValue":k=>d.value=k,position:G.value,elevation:e.elevation,onFocus:ee,onBlur:O,ripple:e.ripple,name:e.name},{"thumb-label":a["thumb-label"]})])}})}),Et({focus:()=>n.value?.$el.focus()},s)}}),ti={name:"PaginationSlider",props:{min:{type:Number,default:0}}};function ai(e,t,a,r,n,s){return l(),f(ei,Q({"thumb-size":"36",class:"paginationSlider",density:"compact","hide-details":"auto",min:a.min,rounded:!0,"show-ticks":"always",step:1,"thumb-label":"always"},e.$attrs),{"tick-label":T(({index:i})=>[$(w(i+a.min),1)]),_:1},16,["min"])}const ki=C(ti,[["render",ai],["__scopeId","data-v-01b67afd"]]),si={name:"PaginationToolbar"};function ii(e,t,a,r,n,s){return l(),f(Jt,{class:"paginationToolbar codexToolbar",density:"compact",transform:"center bottom"},Ce({_:2},[le(e.$slots,(i,o)=>({name:o,fn:T(d=>[Me(e.$slots,o,Q({props:i},d),void 0,!0)])}))]),1024)}const yi=C(si,[["render",ii],["__scopeId","data-v-cfa8cce0"]]);export{da as B,fa as D,ba as M,_e as N,bi as P,pi as T,fi as V,vi as a,gi as b,yi as c,ki as d,Qe as g,He as p,ze as t};
