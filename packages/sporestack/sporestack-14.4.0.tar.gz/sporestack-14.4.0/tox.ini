[tox]
env_list =
    py{39,310,311}-pydantic{1,2}

[testenv]
deps =
    pydantic1: pydantic~=1.10
    pydantic2: pydantic~=2.0
    pytest~=8.0
    pytest-socket~=0.7.0
    pytest-cov~=6.0
    pytest-mock~=3.6
    respx~=0.22.0
    segno
    typer<=0.9.0
    rich
commands =
    pytest --cov=sporestack --cov-fail-under=39 --cov-report=term --durations=3
    sporestack api-endpoint
