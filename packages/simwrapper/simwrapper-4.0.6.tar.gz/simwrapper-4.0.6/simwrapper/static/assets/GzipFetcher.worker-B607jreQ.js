(function(){"use strict";function qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kt(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),r}var zt={},Wt=Object.freeze({__proto__:null,default:zt}),Ve=Kt(Wt),de={};(function(t){t.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1,t.find=(e,r)=>e.nodes.find(s=>s.type===r),t.exceedsLimit=(e,r,s=1,n)=>n===!1||!t.isInteger(e)||!t.isInteger(r)?!1:(Number(r)-Number(e))/Number(s)>=n,t.escapeNode=(e,r=0,s)=>{const n=e.nodes[r];n&&(s&&n.type===s||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)},t.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0),t.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1,t.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0,t.reduce=e=>e.reduce((r,s)=>(s.type==="text"&&r.push(s.value),s.type==="range"&&(s.type="text"),r),[]),t.flatten=(...e)=>{const r=[],s=n=>{for(let o=0;o<n.length;o++){const i=n[o];if(Array.isArray(i)){s(i);continue}i!==void 0&&r.push(i)}return r};return s(e),r}})(de);const je=de;var $e=(t,e={})=>{const r=(s,n={})=>{const o=e.escapeInvalid&&je.isInvalidBrace(n),i=s.invalid===!0&&e.escapeInvalid===!0;let u="";if(s.value)return(o||i)&&je.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(const a of s.nodes)u+=r(a);return u};return r(t)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var Xt=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const Ye=Xt,re=(t,e,r)=>{if(Ye(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(Ye(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...r};typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let n=String(s.relaxZeros),o=String(s.shorthand),i=String(s.capture),u=String(s.wrap),a=t+":"+e+"="+n+o+i+u;if(re.cache.hasOwnProperty(a))return re.cache[a].result;let l=Math.min(t,e),c=Math.max(t,e);if(Math.abs(l-c)===1){let y=t+"|"+e;return s.capture?`(${y})`:s.wrap===!1?y:`(?:${y})`}let p=nt(t)||nt(e),f={min:t,max:e,a:l,b:c},b=[],A=[];if(p&&(f.isPadded=p,f.maxLen=String(f.max).length),l<0){let y=c<0?Math.abs(c):1;A=De(y,Math.abs(l),f,s),l=f.a=0}return c>=0&&(b=De(l,c,f,s)),f.negatives=A,f.positives=b,f.result=Qt(A,b),s.capture===!0?f.result=`(${f.result})`:s.wrap!==!1&&b.length+A.length>1&&(f.result=`(?:${f.result})`),re.cache[a]=f,f.result};function Qt(t,e,r){let s=we(t,e,"-",!1)||[],n=we(e,t,"",!1)||[],o=we(t,e,"-?",!0)||[];return s.concat(o).concat(n).join("|")}function Zt(t,e){let r=1,s=1,n=et(t,r),o=new Set([e]);for(;t<=n&&n<=e;)o.add(n),r+=1,n=et(t,r);for(n=tt(e+1,s)-1;t<n&&n<=e;)o.add(n),s+=1,n=tt(e+1,s)-1;return o=[...o],o.sort(jt),o}function qt(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let s=Vt(t,e),n=s.length,o="",i=0;for(let u=0;u<n;u++){let[a,l]=s[u];a===l?o+=a:a!=="0"||l!=="9"?o+=Yt(a,l):i++}return i&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[i],digits:n}}function De(t,e,r,s){let n=Zt(t,e),o=[],i=t,u;for(let a=0;a<n.length;a++){let l=n[a],c=qt(String(i),String(l),s),p="";if(!r.isPadded&&u&&u.pattern===c.pattern){u.count.length>1&&u.count.pop(),u.count.push(c.count[0]),u.string=u.pattern+rt(u.count),i=l+1;continue}r.isPadded&&(p=Dt(l,r,s)),c.string=p+c.pattern+rt(c.count),o.push(c),i=l+1,u=c}return o}function we(t,e,r,s,n){let o=[];for(let i of t){let{string:u}=i;!s&&!Je(e,"string",u)&&o.push(r+u),s&&Je(e,"string",u)&&o.push(r+u)}return o}function Vt(t,e){let r=[];for(let s=0;s<t.length;s++)r.push([t[s],e[s]]);return r}function jt(t,e){return t>e?1:e>t?-1:0}function Je(t,e,r){return t.some(s=>s[e]===r)}function et(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function tt(t,e){return t-t%Math.pow(10,e)}function rt(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function Yt(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function nt(t){return/^-?(0+)\d/.test(t)}function Dt(t,e,r){if(!e.isPadded)return t;let s=Math.abs(e.maxLen-String(t).length),n=r.relaxZeros!==!1;switch(s){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:return n?`0{0,${s}}`:`0{${s}}`}}re.cache={},re.clearCache=()=>re.cache={};var Jt=re;/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const er=Ve,st=Jt,it=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),tr=t=>e=>t===!0?Number(e):String(e),xe=t=>typeof t=="number"||typeof t=="string"&&t!=="",le=t=>Number.isInteger(+t),Ne=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},rr=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,nr=(t,e,r)=>{if(e>0){let s=t[0]==="-"?"-":"";s&&(t=t.slice(1)),t=s+t.padStart(s?e-1:e,"0")}return r===!1?String(t):t},Ae=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},sr=(t,e,r)=>{t.negatives.sort((u,a)=>u<a?-1:u>a?1:0),t.positives.sort((u,a)=>u<a?-1:u>a?1:0);let s=e.capture?"":"?:",n="",o="",i;return t.positives.length&&(n=t.positives.map(u=>Ae(String(u),r)).join("|")),t.negatives.length&&(o=`-(${s}${t.negatives.map(u=>Ae(String(u),r)).join("|")})`),n&&o?i=`${n}|${o}`:i=n||o,e.wrap?`(${s}${i})`:i},ot=(t,e,r,s)=>{if(r)return st(t,e,{wrap:!1,...s});let n=String.fromCharCode(t);if(t===e)return n;let o=String.fromCharCode(e);return`[${n}-${o}]`},ut=(t,e,r)=>{if(Array.isArray(t)){let s=r.wrap===!0,n=r.capture?"":"?:";return s?`(${n}${t.join("|")})`:t.join("|")}return st(t,e,r)},at=(...t)=>new RangeError("Invalid range arguments: "+er.inspect(...t)),lt=(t,e,r)=>{if(r.strictRanges===!0)throw at([t,e]);return[]},ir=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},or=(t,e,r=1,s={})=>{let n=Number(t),o=Number(e);if(!Number.isInteger(n)||!Number.isInteger(o)){if(s.strictRanges===!0)throw at([t,e]);return[]}n===0&&(n=0),o===0&&(o=0);let i=n>o,u=String(t),a=String(e),l=String(r);r=Math.max(Math.abs(r),1);let c=Ne(u)||Ne(a)||Ne(l),p=c?Math.max(u.length,a.length,l.length):0,f=c===!1&&rr(t,e,s)===!1,b=s.transform||tr(f);if(s.toRegex&&r===1)return ot(Ae(t,p),Ae(e,p),!0,s);let A={negatives:[],positives:[]},y=B=>A[B<0?"negatives":"positives"].push(Math.abs(B)),C=[],$=0;for(;i?n>=o:n<=o;)s.toRegex===!0&&r>1?y(n):C.push(nr(b(n,$),p,f)),n=i?n-r:n+r,$++;return s.toRegex===!0?r>1?sr(A,s,p):ut(C,null,{wrap:!1,...s}):C},ur=(t,e,r=1,s={})=>{if(!le(t)&&t.length>1||!le(e)&&e.length>1)return lt(t,e,s);let n=s.transform||(f=>String.fromCharCode(f)),o=`${t}`.charCodeAt(0),i=`${e}`.charCodeAt(0),u=o>i,a=Math.min(o,i),l=Math.max(o,i);if(s.toRegex&&r===1)return ot(a,l,!1,s);let c=[],p=0;for(;u?o>=i:o<=i;)c.push(n(o,p)),o=u?o-r:o+r,p++;return s.toRegex===!0?ut(c,null,{wrap:!1,options:s}):c},Re=(t,e,r,s={})=>{if(e==null&&xe(t))return[t];if(!xe(t)||!xe(e))return lt(t,e,s);if(typeof r=="function")return Re(t,e,1,{transform:r});if(it(r))return Re(t,e,0,r);let n={...s};return n.capture===!0&&(n.wrap=!0),r=r||n.step||1,le(r)?le(t)&&le(e)?or(t,e,r,n):ur(t,e,Math.max(Math.abs(r),1),n):r!=null&&!it(r)?ir(r,n):Re(t,e,1,r)};var ct=Re;const ar=ct,ft=de;var lr=(t,e={})=>{const r=(s,n={})=>{const o=ft.isInvalidBrace(n),i=s.invalid===!0&&e.escapeInvalid===!0,u=o===!0||i===!0,a=e.escapeInvalid===!0?"\\":"";let l="";if(s.isOpen===!0)return a+s.value;if(s.isClose===!0)return console.log("node.isClose",a,s.value),a+s.value;if(s.type==="open")return u?a+s.value:"(";if(s.type==="close")return u?a+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":u?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){const c=ft.reduce(s.nodes),p=ar(...c,{...e,wrap:!1,toRegex:!0,strictZeros:!0});if(p.length!==0)return c.length>1&&p.length>1?`(${p})`:p}if(s.nodes)for(const c of s.nodes)l+=r(c,s);return l};return r(t)};const cr=ct,pt=$e,oe=de,ne=(t="",e="",r=!1)=>{const s=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?oe.flatten(e).map(n=>`{${n}}`):e;for(const n of t)if(Array.isArray(n))for(const o of n)s.push(ne(o,e,r));else for(let o of e)r===!0&&typeof o=="string"&&(o=`{${o}}`),s.push(Array.isArray(o)?ne(n,o,r):n+o);return oe.flatten(s)};var fr=(t,e={})=>{const r=e.rangeLimit===void 0?1e3:e.rangeLimit,s=(n,o={})=>{n.queue=[];let i=o,u=o.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,u=i.queue;if(n.invalid||n.dollar){u.push(ne(u.pop(),pt(n,e)));return}if(n.type==="brace"&&n.invalid!==!0&&n.nodes.length===2){u.push(ne(u.pop(),["{}"]));return}if(n.nodes&&n.ranges>0){const p=oe.reduce(n.nodes);if(oe.exceedsLimit(...p,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=cr(...p,e);f.length===0&&(f=pt(n,e)),u.push(ne(u.pop(),f)),n.nodes=[];return}const a=oe.encloseBrace(n);let l=n.queue,c=n;for(;c.type!=="brace"&&c.type!=="root"&&c.parent;)c=c.parent,l=c.queue;for(let p=0;p<n.nodes.length;p++){const f=n.nodes[p];if(f.type==="comma"&&n.type==="brace"){p===1&&l.push(""),l.push("");continue}if(f.type==="close"){u.push(ne(u.pop(),l,a));continue}if(f.value&&f.type!=="open"){l.push(ne(l.pop(),f.value));continue}f.nodes&&s(f,n)}return l};return oe.flatten(s(t))},pr={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"Â ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const hr=$e,{MAX_LENGTH:ht,CHAR_BACKSLASH:He,CHAR_BACKTICK:gr,CHAR_COMMA:dr,CHAR_DOT:Ar,CHAR_LEFT_PARENTHESES:Rr,CHAR_RIGHT_PARENTHESES:br,CHAR_LEFT_CURLY_BRACE:yr,CHAR_RIGHT_CURLY_BRACE:_r,CHAR_LEFT_SQUARE_BRACKET:gt,CHAR_RIGHT_SQUARE_BRACKET:dt,CHAR_DOUBLE_QUOTE:Er,CHAR_SINGLE_QUOTE:Cr,CHAR_NO_BREAK_SPACE:mr,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Sr}=pr;var vr=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");const r=e||{},s=typeof r.maxLength=="number"?Math.min(ht,r.maxLength):ht;if(t.length>s)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${s})`);const n={type:"root",input:t,nodes:[]},o=[n];let i=n,u=n,a=0;const l=t.length;let c=0,p=0,f;const b=()=>t[c++],A=y=>{if(y.type==="text"&&u.type==="dot"&&(u.type="text"),u&&u.type==="text"&&y.type==="text"){u.value+=y.value;return}return i.nodes.push(y),y.parent=i,y.prev=u,u=y,y};for(A({type:"bos"});c<l;)if(i=o[o.length-1],f=b(),!(f===Sr||f===mr)){if(f===He){A({type:"text",value:(e.keepEscaping?f:"")+b()});continue}if(f===dt){A({type:"text",value:"\\"+f});continue}if(f===gt){a++;let y;for(;c<l&&(y=b());){if(f+=y,y===gt){a++;continue}if(y===He){f+=b();continue}if(y===dt&&(a--,a===0))break}A({type:"text",value:f});continue}if(f===Rr){i=A({type:"paren",nodes:[]}),o.push(i),A({type:"text",value:f});continue}if(f===br){if(i.type!=="paren"){A({type:"text",value:f});continue}i=o.pop(),A({type:"text",value:f}),i=o[o.length-1];continue}if(f===Er||f===Cr||f===gr){const y=f;let C;for(e.keepQuotes!==!0&&(f="");c<l&&(C=b());){if(C===He){f+=C+b();continue}if(C===y){e.keepQuotes===!0&&(f+=C);break}f+=C}A({type:"text",value:f});continue}if(f===yr){p++;const C={type:"brace",open:!0,close:!1,dollar:u.value&&u.value.slice(-1)==="$"||i.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};i=A(C),o.push(i),A({type:"open",value:f});continue}if(f===_r){if(i.type!=="brace"){A({type:"text",value:f});continue}const y="close";i=o.pop(),i.close=!0,A({type:y,value:f}),p--,i=o[o.length-1];continue}if(f===dr&&p>0){if(i.ranges>0){i.ranges=0;const y=i.nodes.shift();i.nodes=[y,{type:"text",value:hr(i)}]}A({type:"comma",value:f}),i.commas++;continue}if(f===Ar&&p>0&&i.commas===0){const y=i.nodes;if(p===0||y.length===0){A({type:"text",value:f});continue}if(u.type==="dot"){if(i.range=[],u.value+=f,u.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,u.type="text";continue}i.ranges++,i.args=[];continue}if(u.type==="range"){y.pop();const C=y[y.length-1];C.value+=u.value+f,u=C,i.ranges--;continue}A({type:"dot",value:f});continue}A({type:"text",value:f})}do if(i=o.pop(),i.type!=="root"){i.nodes.forEach($=>{$.nodes||($.type==="open"&&($.isOpen=!0),$.type==="close"&&($.isClose=!0),$.nodes||($.type="text"),$.invalid=!0)});const y=o[o.length-1],C=y.nodes.indexOf(i);y.nodes.splice(C,1,...i.nodes)}while(o.length>0);return A({type:"eos"}),n};const At=$e,$r=lr,wr=fr,xr=vr,W=(t,e={})=>{let r=[];if(Array.isArray(t))for(const s of t){const n=W.create(s,e);Array.isArray(n)?r.push(...n):r.push(n)}else r=[].concat(W.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};W.parse=(t,e={})=>xr(t,e),W.stringify=(t,e={})=>At(typeof t=="string"?W.parse(t,e):t,e),W.compile=(t,e={})=>(typeof t=="string"&&(t=W.parse(t,e)),$r(t,e)),W.expand=(t,e={})=>{typeof t=="string"&&(t=W.parse(t,e));let r=wr(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r},W.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?W.compile(t,e):W.expand(t,e);var Nr=W;function Z(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function Rt(t,e){for(var r="",s=0,n=-1,o=0,i,u=0;u<=t.length;++u){if(u<t.length)i=t.charCodeAt(u);else{if(i===47)break;i=47}if(i===47){if(!(n===u-1||o===1))if(n!==u-1&&o===2){if(r.length<2||s!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var a=r.lastIndexOf("/");if(a!==r.length-1){a===-1?(r="",s=0):(r=r.slice(0,a),s=r.length-1-r.lastIndexOf("/")),n=u,o=0;continue}}else if(r.length===2||r.length===1){r="",s=0,n=u,o=0;continue}}e&&(r.length>0?r+="/..":r="..",s=2)}else r.length>0?r+="/"+t.slice(n+1,u):r=t.slice(n+1,u),s=u-n-1;n=u,o=0}else i===46&&o!==-1?++o:o=-1}return r}function Hr(t,e){var r=e.dir||e.root,s=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+s:r+t+s:s}var ue={resolve:function(){for(var e="",r=!1,s,n=arguments.length-1;n>=-1&&!r;n--){var o;n>=0?o=arguments[n]:(s===void 0&&(s=process.cwd()),o=s),Z(o),o.length!==0&&(e=o+"/"+e,r=o.charCodeAt(0)===47)}return e=Rt(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Z(e),e.length===0)return".";var r=e.charCodeAt(0)===47,s=e.charCodeAt(e.length-1)===47;return e=Rt(e,!r),e.length===0&&!r&&(e="."),e.length>0&&s&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return Z(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,r=0;r<arguments.length;++r){var s=arguments[r];Z(s),s.length>0&&(e===void 0?e=s:e+="/"+s)}return e===void 0?".":ue.normalize(e)},relative:function(e,r){if(Z(e),Z(r),e===r||(e=ue.resolve(e),r=ue.resolve(r),e===r))return"";for(var s=1;s<e.length&&e.charCodeAt(s)===47;++s);for(var n=e.length,o=n-s,i=1;i<r.length&&r.charCodeAt(i)===47;++i);for(var u=r.length,a=u-i,l=o<a?o:a,c=-1,p=0;p<=l;++p){if(p===l){if(a>l){if(r.charCodeAt(i+p)===47)return r.slice(i+p+1);if(p===0)return r.slice(i+p)}else o>l&&(e.charCodeAt(s+p)===47?c=p:p===0&&(c=0));break}var f=e.charCodeAt(s+p),b=r.charCodeAt(i+p);if(f!==b)break;f===47&&(c=p)}var A="";for(p=s+c+1;p<=n;++p)(p===n||e.charCodeAt(p)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+r.slice(i+c):(i+=c,r.charCodeAt(i)===47&&++i,r.slice(i))},_makeLong:function(e){return e},dirname:function(e){if(Z(e),e.length===0)return".";for(var r=e.charCodeAt(0),s=r===47,n=-1,o=!0,i=e.length-1;i>=1;--i)if(r=e.charCodeAt(i),r===47){if(!o){n=i;break}}else o=!1;return n===-1?s?"/":".":s&&n===1?"//":e.slice(0,n)},basename:function(e,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');Z(e);var s=0,n=-1,o=!0,i;if(r!==void 0&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var u=r.length-1,a=-1;for(i=e.length-1;i>=0;--i){var l=e.charCodeAt(i);if(l===47){if(!o){s=i+1;break}}else a===-1&&(o=!1,a=i+1),u>=0&&(l===r.charCodeAt(u)?--u===-1&&(n=i):(u=-1,n=a))}return s===n?n=a:n===-1&&(n=e.length),e.slice(s,n)}else{for(i=e.length-1;i>=0;--i)if(e.charCodeAt(i)===47){if(!o){s=i+1;break}}else n===-1&&(o=!1,n=i+1);return n===-1?"":e.slice(s,n)}},extname:function(e){Z(e);for(var r=-1,s=0,n=-1,o=!0,i=0,u=e.length-1;u>=0;--u){var a=e.charCodeAt(u);if(a===47){if(!o){s=u+1;break}continue}n===-1&&(o=!1,n=u+1),a===46?r===-1?r=u:i!==1&&(i=1):r!==-1&&(i=-1)}return r===-1||n===-1||i===0||i===1&&r===n-1&&r===s+1?"":e.slice(r,n)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Hr("/",e)},parse:function(e){Z(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return r;var s=e.charCodeAt(0),n=s===47,o;n?(r.root="/",o=1):o=0;for(var i=-1,u=0,a=-1,l=!0,c=e.length-1,p=0;c>=o;--c){if(s=e.charCodeAt(c),s===47){if(!l){u=c+1;break}continue}a===-1&&(l=!1,a=c+1),s===46?i===-1?i=c:p!==1&&(p=1):i!==-1&&(p=-1)}return i===-1||a===-1||p===0||p===1&&i===a-1&&i===u+1?a!==-1&&(u===0&&n?r.base=r.name=e.slice(1,a):r.base=r.name=e.slice(u,a)):(u===0&&n?(r.name=e.slice(1,i),r.base=e.slice(1,a)):(r.name=e.slice(u,i),r.base=e.slice(u,a)),r.ext=e.slice(i,a)),u>0?r.dir=e.slice(0,u-1):n&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};ue.posix=ue;var Te=ue,ce={};const Tr=Te,q="\\\\/",bt=`[^${q}]`,J="\\.",Or="\\+",Lr="\\?",be="\\/",Ir="(?=.)",yt="[^/]",Oe=`(?:${be}|$)`,_t=`(?:^|${be})`,Le=`${J}{1,2}${Oe}`,Fr=`(?!${J})`,Pr=`(?!${_t}${Le})`,kr=`(?!${J}{0,1}${Oe})`,Br=`(?!${Le})`,Mr=`[^.${be}]`,Gr=`${yt}*?`,Et={DOT_LITERAL:J,PLUS_LITERAL:Or,QMARK_LITERAL:Lr,SLASH_LITERAL:be,ONE_CHAR:Ir,QMARK:yt,END_ANCHOR:Oe,DOTS_SLASH:Le,NO_DOT:Fr,NO_DOTS:Pr,NO_DOT_SLASH:kr,NO_DOTS_SLASH:Br,QMARK_NO_DOT:Mr,STAR:Gr,START_ANCHOR:_t},Ur={...Et,SLASH_LITERAL:`[${q}]`,QMARK:bt,STAR:`${bt}*?`,DOTS_SLASH:`${J}{1,2}(?:[${q}]|$)`,NO_DOT:`(?!${J})`,NO_DOTS:`(?!(?:^|[${q}])${J}{1,2}(?:[${q}]|$))`,NO_DOT_SLASH:`(?!${J}{0,1}(?:[${q}]|$))`,NO_DOTS_SLASH:`(?!${J}{1,2}(?:[${q}]|$))`,QMARK_NO_DOT:`[^.${q}]`,START_ANCHOR:`(?:^|[${q}])`,END_ANCHOR:`(?:[${q}]|$)`},Kr={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var ye={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Kr,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Tr.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?Ur:Et}};(function(t){const e=Te,{REGEX_BACKSLASH:r,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:n,REGEX_SPECIAL_CHARS_GLOBAL:o}=ye;t.isObject=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t.hasRegexChars=i=>n.test(i),t.isRegexChar=i=>i.length===1&&t.hasRegexChars(i),t.escapeRegex=i=>i.replace(o,"\\$1"),t.toPosixSlashes=i=>i.replace(r,"/"),t.removeBackslashes=i=>i.replace(s,u=>u==="\\"?"":u),t.supportsLookbehinds=()=>{const i=process.version.slice(1).split(".").map(Number);return i.length===3&&i[0]>=9||i[0]===8&&i[1]>=10},t.isWindows=i=>i&&typeof i.windows=="boolean"?i.windows:e.sep==="\\",t.escapeLast=(i,u,a)=>{const l=i.lastIndexOf(u,a);return l===-1?i:i[l-1]==="\\"?t.escapeLast(i,u,l-1):`${i.slice(0,l)}\\${i.slice(l)}`},t.removePrefix=(i,u={})=>{let a=i;return a.startsWith("./")&&(a=a.slice(2),u.prefix="./"),a},t.wrapOutput=(i,u={},a={})=>{const l=a.contains?"":"^",c=a.contains?"":"$";let p=`${l}(?:${i})${c}`;return u.negated===!0&&(p=`(?:^(?!${p}).*$)`),p}})(ce);const Ct=ce,{CHAR_ASTERISK:Ie,CHAR_AT:zr,CHAR_BACKWARD_SLASH:fe,CHAR_COMMA:Wr,CHAR_DOT:Fe,CHAR_EXCLAMATION_MARK:Pe,CHAR_FORWARD_SLASH:mt,CHAR_LEFT_CURLY_BRACE:ke,CHAR_LEFT_PARENTHESES:Be,CHAR_LEFT_SQUARE_BRACKET:Xr,CHAR_PLUS:Qr,CHAR_QUESTION_MARK:St,CHAR_RIGHT_CURLY_BRACE:Zr,CHAR_RIGHT_PARENTHESES:vt,CHAR_RIGHT_SQUARE_BRACKET:qr}=ye,$t=t=>t===mt||t===fe,wt=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)};var Vr=(t,e)=>{const r=e||{},s=t.length-1,n=r.parts===!0||r.scanToEnd===!0,o=[],i=[],u=[];let a=t,l=-1,c=0,p=0,f=!1,b=!1,A=!1,y=!1,C=!1,$=!1,B=!1,N=!1,j=!1,M=!1,ee=0,U,E,w={value:"",depth:0,isGlob:!1};const k=()=>l>=s,d=()=>a.charCodeAt(l+1),O=()=>(U=E,a.charCodeAt(++l));for(;l<s;){E=O();let K;if(E===fe){B=w.backslashes=!0,E=O(),E===ke&&($=!0);continue}if($===!0||E===ke){for(ee++;k()!==!0&&(E=O());){if(E===fe){B=w.backslashes=!0,O();continue}if(E===ke){ee++;continue}if($!==!0&&E===Fe&&(E=O())===Fe){if(f=w.isBrace=!0,A=w.isGlob=!0,M=!0,n===!0)continue;break}if($!==!0&&E===Wr){if(f=w.isBrace=!0,A=w.isGlob=!0,M=!0,n===!0)continue;break}if(E===Zr&&(ee--,ee===0)){$=!1,f=w.isBrace=!0,M=!0;break}}if(n===!0)continue;break}if(E===mt){if(o.push(l),i.push(w),w={value:"",depth:0,isGlob:!1},M===!0)continue;if(U===Fe&&l===c+1){c+=2;continue}p=l+1;continue}if(r.noext!==!0&&(E===Qr||E===zr||E===Ie||E===St||E===Pe)===!0&&d()===Be){if(A=w.isGlob=!0,y=w.isExtglob=!0,M=!0,E===Pe&&l===c&&(j=!0),n===!0){for(;k()!==!0&&(E=O());){if(E===fe){B=w.backslashes=!0,E=O();continue}if(E===vt){A=w.isGlob=!0,M=!0;break}}continue}break}if(E===Ie){if(U===Ie&&(C=w.isGlobstar=!0),A=w.isGlob=!0,M=!0,n===!0)continue;break}if(E===St){if(A=w.isGlob=!0,M=!0,n===!0)continue;break}if(E===Xr){for(;k()!==!0&&(K=O());){if(K===fe){B=w.backslashes=!0,O();continue}if(K===qr){b=w.isBracket=!0,A=w.isGlob=!0,M=!0;break}}if(n===!0)continue;break}if(r.nonegate!==!0&&E===Pe&&l===c){N=w.negated=!0,c++;continue}if(r.noparen!==!0&&E===Be){if(A=w.isGlob=!0,n===!0){for(;k()!==!0&&(E=O());){if(E===Be){B=w.backslashes=!0,E=O();continue}if(E===vt){M=!0;break}}continue}break}if(A===!0){if(M=!0,n===!0)continue;break}}r.noext===!0&&(y=!1,A=!1);let H=a,te="",h="";c>0&&(te=a.slice(0,c),a=a.slice(c),p-=c),H&&A===!0&&p>0?(H=a.slice(0,p),h=a.slice(p)):A===!0?(H="",h=a):H=a,H&&H!==""&&H!=="/"&&H!==a&&$t(H.charCodeAt(H.length-1))&&(H=H.slice(0,-1)),r.unescape===!0&&(h&&(h=Ct.removeBackslashes(h)),H&&B===!0&&(H=Ct.removeBackslashes(H)));const g={prefix:te,input:t,start:c,base:H,glob:h,isBrace:f,isBracket:b,isGlob:A,isExtglob:y,isGlobstar:C,negated:N,negatedExtglob:j};if(r.tokens===!0&&(g.maxDepth=0,$t(E)||i.push(w),g.tokens=i),r.parts===!0||r.tokens===!0){let K;for(let v=0;v<o.length;v++){const Y=K?K+1:c,D=o[v],Q=t.slice(Y,D);r.tokens&&(v===0&&c!==0?(i[v].isPrefix=!0,i[v].value=te):i[v].value=Q,wt(i[v]),g.maxDepth+=i[v].depth),(v!==0||Q!=="")&&u.push(Q),K=D}if(K&&K+1<t.length){const v=t.slice(K+1);u.push(v),r.tokens&&(i[i.length-1].value=v,wt(i[i.length-1]),g.maxDepth+=i[i.length-1].depth)}g.slashes=o,g.parts=u}return g};const _e=ye,X=ce,{MAX_LENGTH:Ee,POSIX_REGEX_SOURCE:jr,REGEX_NON_SPECIAL_CHARS:Yr,REGEX_SPECIAL_CHARS_BACKREF:Dr,REPLACEMENTS:xt}=_e,Jr=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();const r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(n=>X.escapeRegex(n)).join("..")}return r},ae=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,Me=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=xt[t]||t;const r={...e},s=typeof r.maxLength=="number"?Math.min(Ee,r.maxLength):Ee;let n=t.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);const o={type:"bos",value:"",output:r.prepend||""},i=[o],u=r.capture?"":"?:",a=X.isWindows(e),l=_e.globChars(a),c=_e.extglobChars(l),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:b,ONE_CHAR:A,DOTS_SLASH:y,NO_DOT:C,NO_DOT_SLASH:$,NO_DOTS_SLASH:B,QMARK:N,QMARK_NO_DOT:j,STAR:M,START_ANCHOR:ee}=l,U=_=>`(${u}(?:(?!${ee}${_.dot?y:p}).)*?)`,E=r.dot?"":C,w=r.dot?N:j;let k=r.bash===!0?U(r):M;r.capture&&(k=`(${k})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);const d={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};t=X.removePrefix(t,d),n=t.length;const O=[],H=[],te=[];let h=o,g;const K=()=>d.index===n-1,v=d.peek=(_=1)=>t[d.index+_],Y=d.advance=()=>t[++d.index]||"",D=()=>t.slice(d.index+1),Q=(_="",T=0)=>{d.consumed+=_,d.index+=T},Ce=_=>{d.output+=_.output!=null?_.output:_.value,Q(_.value)},Bn=()=>{let _=1;for(;v()==="!"&&(v(2)!=="("||v(3)==="?");)Y(),d.start++,_++;return _%2===0?!1:(d.negated=!0,d.start++,!0)},me=_=>{d[_]++,te.push(_)},ie=_=>{d[_]--,te.pop()},S=_=>{if(h.type==="globstar"){const T=d.braces>0&&(_.type==="comma"||_.type==="brace"),R=_.extglob===!0||O.length&&(_.type==="pipe"||_.type==="paren");_.type!=="slash"&&_.type!=="paren"&&!T&&!R&&(d.output=d.output.slice(0,-h.output.length),h.type="star",h.value="*",h.output=k,d.output+=h.output)}if(O.length&&_.type!=="paren"&&(O[O.length-1].inner+=_.value),(_.value||_.output)&&Ce(_),h&&h.type==="text"&&_.type==="text"){h.value+=_.value,h.output=(h.output||"")+_.value;return}_.prev=h,i.push(_),h=_},Se=(_,T)=>{const R={...c[T],conditions:1,inner:""};R.prev=h,R.parens=d.parens,R.output=d.output;const m=(r.capture?"(":"")+R.open;me("parens"),S({type:_,value:T,output:d.output?"":A}),S({type:"paren",extglob:!0,value:Y(),output:m}),O.push(R)},Mn=_=>{let T=_.close+(r.capture?")":""),R;if(_.type==="negate"){let m=k;if(_.inner&&_.inner.length>1&&_.inner.includes("/")&&(m=U(r)),(m!==k||K()||/^\)+$/.test(D()))&&(T=_.close=`)$))${m}`),_.inner.includes("*")&&(R=D())&&/^\.[^\\/.]+$/.test(R)){const L=Me(R,{...e,fastpaths:!1}).output;T=_.close=`)${L})${m})`}_.prev.type==="bos"&&(d.negatedExtglob=!0)}S({type:"paren",extglob:!0,value:g,output:T}),ie("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let _=!1,T=t.replace(Dr,(R,m,L,z,P,Ze)=>z==="\\"?(_=!0,R):z==="?"?m?m+z+(P?N.repeat(P.length):""):Ze===0?w+(P?N.repeat(P.length):""):N.repeat(L.length):z==="."?p.repeat(L.length):z==="*"?m?m+z+(P?k:""):k:m?R:`\\${R}`);return _===!0&&(r.unescape===!0?T=T.replace(/\\/g,""):T=T.replace(/\\+/g,R=>R.length%2===0?"\\\\":R?"\\":"")),T===t&&r.contains===!0?(d.output=t,d):(d.output=X.wrapOutput(T,d,e),d)}for(;!K();){if(g=Y(),g==="\0")continue;if(g==="\\"){const R=v();if(R==="/"&&r.bash!==!0||R==="."||R===";")continue;if(!R){g+="\\",S({type:"text",value:g});continue}const m=/^\\+/.exec(D());let L=0;if(m&&m[0].length>2&&(L=m[0].length,d.index+=L,L%2!==0&&(g+="\\")),r.unescape===!0?g=Y():g+=Y(),d.brackets===0){S({type:"text",value:g});continue}}if(d.brackets>0&&(g!=="]"||h.value==="["||h.value==="[^")){if(r.posix!==!1&&g===":"){const R=h.value.slice(1);if(R.includes("[")&&(h.posix=!0,R.includes(":"))){const m=h.value.lastIndexOf("["),L=h.value.slice(0,m),z=h.value.slice(m+2),P=jr[z];if(P){h.value=L+P,d.backtrack=!0,Y(),!o.output&&i.indexOf(h)===1&&(o.output=A);continue}}}(g==="["&&v()!==":"||g==="-"&&v()==="]")&&(g=`\\${g}`),g==="]"&&(h.value==="["||h.value==="[^")&&(g=`\\${g}`),r.posix===!0&&g==="!"&&h.value==="["&&(g="^"),h.value+=g,Ce({value:g});continue}if(d.quotes===1&&g!=='"'){g=X.escapeRegex(g),h.value+=g,Ce({value:g});continue}if(g==='"'){d.quotes=d.quotes===1?0:1,r.keepQuotes===!0&&S({type:"text",value:g});continue}if(g==="("){me("parens"),S({type:"paren",value:g});continue}if(g===")"){if(d.parens===0&&r.strictBrackets===!0)throw new SyntaxError(ae("opening","("));const R=O[O.length-1];if(R&&d.parens===R.parens+1){Mn(O.pop());continue}S({type:"paren",value:g,output:d.parens?")":"\\)"}),ie("parens");continue}if(g==="["){if(r.nobracket===!0||!D().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(ae("closing","]"));g=`\\${g}`}else me("brackets");S({type:"bracket",value:g});continue}if(g==="]"){if(r.nobracket===!0||h&&h.type==="bracket"&&h.value.length===1){S({type:"text",value:g,output:`\\${g}`});continue}if(d.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(ae("opening","["));S({type:"text",value:g,output:`\\${g}`});continue}ie("brackets");const R=h.value.slice(1);if(h.posix!==!0&&R[0]==="^"&&!R.includes("/")&&(g=`/${g}`),h.value+=g,Ce({value:g}),r.literalBrackets===!1||X.hasRegexChars(R))continue;const m=X.escapeRegex(h.value);if(d.output=d.output.slice(0,-h.value.length),r.literalBrackets===!0){d.output+=m,h.value=m;continue}h.value=`(${u}${m}|${h.value})`,d.output+=h.value;continue}if(g==="{"&&r.nobrace!==!0){me("braces");const R={type:"brace",value:g,output:"(",outputIndex:d.output.length,tokensIndex:d.tokens.length};H.push(R),S(R);continue}if(g==="}"){const R=H[H.length-1];if(r.nobrace===!0||!R){S({type:"text",value:g,output:g});continue}let m=")";if(R.dots===!0){const L=i.slice(),z=[];for(let P=L.length-1;P>=0&&(i.pop(),L[P].type!=="brace");P--)L[P].type!=="dots"&&z.unshift(L[P].value);m=Jr(z,r),d.backtrack=!0}if(R.comma!==!0&&R.dots!==!0){const L=d.output.slice(0,R.outputIndex),z=d.tokens.slice(R.tokensIndex);R.value=R.output="\\{",g=m="\\}",d.output=L;for(const P of z)d.output+=P.output||P.value}S({type:"brace",value:g,output:m}),ie("braces"),H.pop();continue}if(g==="|"){O.length>0&&O[O.length-1].conditions++,S({type:"text",value:g});continue}if(g===","){let R=g;const m=H[H.length-1];m&&te[te.length-1]==="braces"&&(m.comma=!0,R="|"),S({type:"comma",value:g,output:R});continue}if(g==="/"){if(h.type==="dot"&&d.index===d.start+1){d.start=d.index+1,d.consumed="",d.output="",i.pop(),h=o;continue}S({type:"slash",value:g,output:b});continue}if(g==="."){if(d.braces>0&&h.type==="dot"){h.value==="."&&(h.output=p);const R=H[H.length-1];h.type="dots",h.output+=g,h.value+=g,R.dots=!0;continue}if(d.braces+d.parens===0&&h.type!=="bos"&&h.type!=="slash"){S({type:"text",value:g,output:p});continue}S({type:"dot",value:g,output:p});continue}if(g==="?"){if(!(h&&h.value==="(")&&r.noextglob!==!0&&v()==="("&&v(2)!=="?"){Se("qmark",g);continue}if(h&&h.type==="paren"){const m=v();let L=g;if(m==="<"&&!X.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(h.value==="("&&!/[!=<:]/.test(m)||m==="<"&&!/<([!=]|\w+>)/.test(D()))&&(L=`\\${g}`),S({type:"text",value:g,output:L});continue}if(r.dot!==!0&&(h.type==="slash"||h.type==="bos")){S({type:"qmark",value:g,output:j});continue}S({type:"qmark",value:g,output:N});continue}if(g==="!"){if(r.noextglob!==!0&&v()==="("&&(v(2)!=="?"||!/[!=<:]/.test(v(3)))){Se("negate",g);continue}if(r.nonegate!==!0&&d.index===0){Bn();continue}}if(g==="+"){if(r.noextglob!==!0&&v()==="("&&v(2)!=="?"){Se("plus",g);continue}if(h&&h.value==="("||r.regex===!1){S({type:"plus",value:g,output:f});continue}if(h&&(h.type==="bracket"||h.type==="paren"||h.type==="brace")||d.parens>0){S({type:"plus",value:g});continue}S({type:"plus",value:f});continue}if(g==="@"){if(r.noextglob!==!0&&v()==="("&&v(2)!=="?"){S({type:"at",extglob:!0,value:g,output:""});continue}S({type:"text",value:g});continue}if(g!=="*"){(g==="$"||g==="^")&&(g=`\\${g}`);const R=Yr.exec(D());R&&(g+=R[0],d.index+=R[0].length),S({type:"text",value:g});continue}if(h&&(h.type==="globstar"||h.star===!0)){h.type="star",h.star=!0,h.value+=g,h.output=k,d.backtrack=!0,d.globstar=!0,Q(g);continue}let _=D();if(r.noextglob!==!0&&/^\([^?]/.test(_)){Se("star",g);continue}if(h.type==="star"){if(r.noglobstar===!0){Q(g);continue}const R=h.prev,m=R.prev,L=R.type==="slash"||R.type==="bos",z=m&&(m.type==="star"||m.type==="globstar");if(r.bash===!0&&(!L||_[0]&&_[0]!=="/")){S({type:"star",value:g,output:""});continue}const P=d.braces>0&&(R.type==="comma"||R.type==="brace"),Ze=O.length&&(R.type==="pipe"||R.type==="paren");if(!L&&R.type!=="paren"&&!P&&!Ze){S({type:"star",value:g,output:""});continue}for(;_.slice(0,3)==="/**";){const ve=t[d.index+4];if(ve&&ve!=="/")break;_=_.slice(3),Q("/**",3)}if(R.type==="bos"&&K()){h.type="globstar",h.value+=g,h.output=U(r),d.output=h.output,d.globstar=!0,Q(g);continue}if(R.type==="slash"&&R.prev.type!=="bos"&&!z&&K()){d.output=d.output.slice(0,-(R.output+h.output).length),R.output=`(?:${R.output}`,h.type="globstar",h.output=U(r)+(r.strictSlashes?")":"|$)"),h.value+=g,d.globstar=!0,d.output+=R.output+h.output,Q(g);continue}if(R.type==="slash"&&R.prev.type!=="bos"&&_[0]==="/"){const ve=_[1]!==void 0?"|$":"";d.output=d.output.slice(0,-(R.output+h.output).length),R.output=`(?:${R.output}`,h.type="globstar",h.output=`${U(r)}${b}|${b}${ve})`,h.value+=g,d.output+=R.output+h.output,d.globstar=!0,Q(g+Y()),S({type:"slash",value:"/",output:""});continue}if(R.type==="bos"&&_[0]==="/"){h.type="globstar",h.value+=g,h.output=`(?:^|${b}|${U(r)}${b})`,d.output=h.output,d.globstar=!0,Q(g+Y()),S({type:"slash",value:"/",output:""});continue}d.output=d.output.slice(0,-h.output.length),h.type="globstar",h.output=U(r),h.value+=g,d.output+=h.output,d.globstar=!0,Q(g);continue}const T={type:"star",value:g,output:k};if(r.bash===!0){T.output=".*?",(h.type==="bos"||h.type==="slash")&&(T.output=E+T.output),S(T);continue}if(h&&(h.type==="bracket"||h.type==="paren")&&r.regex===!0){T.output=g,S(T);continue}(d.index===d.start||h.type==="slash"||h.type==="dot")&&(h.type==="dot"?(d.output+=$,h.output+=$):r.dot===!0?(d.output+=B,h.output+=B):(d.output+=E,h.output+=E),v()!=="*"&&(d.output+=A,h.output+=A)),S(T)}for(;d.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(ae("closing","]"));d.output=X.escapeLast(d.output,"["),ie("brackets")}for(;d.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(ae("closing",")"));d.output=X.escapeLast(d.output,"("),ie("parens")}for(;d.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(ae("closing","}"));d.output=X.escapeLast(d.output,"{"),ie("braces")}if(r.strictSlashes!==!0&&(h.type==="star"||h.type==="bracket")&&S({type:"maybe_slash",value:"",output:`${b}?`}),d.backtrack===!0){d.output="";for(const _ of d.tokens)d.output+=_.output!=null?_.output:_.value,_.suffix&&(d.output+=_.suffix)}return d};Me.fastpaths=(t,e)=>{const r={...e},s=typeof r.maxLength=="number"?Math.min(Ee,r.maxLength):Ee,n=t.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);t=xt[t]||t;const o=X.isWindows(e),{DOT_LITERAL:i,SLASH_LITERAL:u,ONE_CHAR:a,DOTS_SLASH:l,NO_DOT:c,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:b,START_ANCHOR:A}=_e.globChars(o),y=r.dot?p:c,C=r.dot?f:c,$=r.capture?"":"?:",B={negated:!1,prefix:""};let N=r.bash===!0?".*?":b;r.capture&&(N=`(${N})`);const j=E=>E.noglobstar===!0?N:`(${$}(?:(?!${A}${E.dot?l:i}).)*?)`,M=E=>{switch(E){case"*":return`${y}${a}${N}`;case".*":return`${i}${a}${N}`;case"*.*":return`${y}${N}${i}${a}${N}`;case"*/*":return`${y}${N}${u}${a}${C}${N}`;case"**":return y+j(r);case"**/*":return`(?:${y}${j(r)}${u})?${C}${a}${N}`;case"**/*.*":return`(?:${y}${j(r)}${u})?${C}${N}${i}${a}${N}`;case"**/.*":return`(?:${y}${j(r)}${u})?${i}${a}${N}`;default:{const w=/^(.*?)\.(\w+)$/.exec(E);if(!w)return;const k=M(w[1]);return k?k+i+w[2]:void 0}}},ee=X.removePrefix(t,B);let U=M(ee);return U&&r.strictSlashes!==!0&&(U+=`${u}?`),U};var en=Me;const tn=Te,rn=Vr,Ge=en,Ue=ce,nn=ye,sn=t=>t&&typeof t=="object"&&!Array.isArray(t),I=(t,e,r=!1)=>{if(Array.isArray(t)){const c=t.map(f=>I(f,e,r));return f=>{for(const b of c){const A=b(f);if(A)return A}return!1}}const s=sn(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");const n=e||{},o=Ue.isWindows(e),i=s?I.compileRe(t,e):I.makeRe(t,e,!1,!0),u=i.state;delete i.state;let a=()=>!1;if(n.ignore){const c={...e,ignore:null,onMatch:null,onResult:null};a=I(n.ignore,c,r)}const l=(c,p=!1)=>{const{isMatch:f,match:b,output:A}=I.test(c,i,e,{glob:t,posix:o}),y={glob:t,state:u,regex:i,posix:o,input:c,output:A,match:b,isMatch:f};return typeof n.onResult=="function"&&n.onResult(y),f===!1?(y.isMatch=!1,p?y:!1):a(c)?(typeof n.onIgnore=="function"&&n.onIgnore(y),y.isMatch=!1,p?y:!1):(typeof n.onMatch=="function"&&n.onMatch(y),p?y:!0)};return r&&(l.state=u),l};I.test=(t,e,r,{glob:s,posix:n}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};const o=r||{},i=o.format||(n?Ue.toPosixSlashes:null);let u=t===s,a=u&&i?i(t):t;return u===!1&&(a=i?i(t):t,u=a===s),(u===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?u=I.matchBase(t,e,r,n):u=e.exec(a)),{isMatch:!!u,match:u,output:a}},I.matchBase=(t,e,r,s=Ue.isWindows(r))=>(e instanceof RegExp?e:I.makeRe(e,r)).test(tn.basename(t)),I.isMatch=(t,e,r)=>I(e,r)(t),I.parse=(t,e)=>Array.isArray(t)?t.map(r=>I.parse(r,e)):Ge(t,{...e,fastpaths:!1}),I.scan=(t,e)=>rn(t,e),I.compileRe=(t,e,r=!1,s=!1)=>{if(r===!0)return t.output;const n=e||{},o=n.contains?"":"^",i=n.contains?"":"$";let u=`${o}(?:${t.output})${i}`;t&&t.negated===!0&&(u=`^(?!${u}).*$`);const a=I.toRegex(u,e);return s===!0&&(a.state=t),a},I.makeRe=(t,e={},r=!1,s=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let n={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(n.output=Ge.fastpaths(t,e)),n.output||(n=Ge(t,e)),I.compileRe(n,e,r,s)},I.toRegex=(t,e)=>{try{const r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}},I.constants=nn;var on=I,un=on;const Nt=Ve,Ht=Nr,V=un,Ke=ce,Tt=t=>t===""||t==="./",Ot=t=>{const e=t.indexOf("{");return e>-1&&t.indexOf("}",e)>-1},x=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let s=new Set,n=new Set,o=new Set,i=0,u=c=>{o.add(c.output),r&&r.onResult&&r.onResult(c)};for(let c=0;c<e.length;c++){let p=V(String(e[c]),{...r,onResult:u},!0),f=p.state.negated||p.state.negatedExtglob;f&&i++;for(let b of t){let A=p(b,!0);(f?!A.isMatch:A.isMatch)&&(f?s.add(A.output):(s.delete(A.output),n.add(A.output)))}}let l=(i===e.length?[...o]:[...n]).filter(c=>!s.has(c));if(r&&l.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(c=>c.replace(/\\/g,"")):e}return l};x.match=x,x.matcher=(t,e)=>V(t,e),x.isMatch=(t,e,r)=>V(e,r)(t),x.any=x.isMatch,x.not=(t,e,r={})=>{e=[].concat(e).map(String);let s=new Set,n=[],o=u=>{r.onResult&&r.onResult(u),n.push(u.output)},i=new Set(x(t,e,{...r,onResult:o}));for(let u of n)i.has(u)||s.add(u);return[...s]},x.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${Nt.inspect(t)}"`);if(Array.isArray(e))return e.some(s=>x.contains(t,s,r));if(typeof e=="string"){if(Tt(t)||Tt(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return x.isMatch(t,e,{...r,contains:!0})},x.matchKeys=(t,e,r)=>{if(!Ke.isObject(t))throw new TypeError("Expected the first argument to be an object");let s=x(Object.keys(t),e,r),n={};for(let o of s)n[o]=t[o];return n},x.some=(t,e,r)=>{let s=[].concat(t);for(let n of[].concat(e)){let o=V(String(n),r);if(s.some(i=>o(i)))return!0}return!1},x.every=(t,e,r)=>{let s=[].concat(t);for(let n of[].concat(e)){let o=V(String(n),r);if(!s.every(i=>o(i)))return!1}return!0},x.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${Nt.inspect(t)}"`);return[].concat(e).every(s=>V(s,r)(t))},x.capture=(t,e,r)=>{let s=Ke.isWindows(r),o=V.makeRe(String(t),{...r,capture:!0}).exec(s?Ke.toPosixSlashes(e):e);if(o)return o.slice(1).map(i=>i===void 0?"":i)},x.makeRe=(...t)=>V.makeRe(...t),x.scan=(...t)=>V.scan(...t),x.parse=(t,e)=>{let r=[];for(let s of[].concat(t||[]))for(let n of Ht(String(s),e))r.push(V.parse(n,e));return r},x.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!Ot(t)?[t]:Ht(t,e)},x.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return x.braces(t,{...e,expand:!0})},x.hasBraces=Ot;var an=x,pe=qe(an),ln=function t(e,r){var s=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,n=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,i=/^0x[0-9a-f]+$/i,u=/^0/,a=function(N){return t.insensitive&&(""+N).toLowerCase()||""+N},l=a(e).replace(n,"")||"",c=a(r).replace(n,"")||"",p=l.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=c.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),b=parseInt(l.match(i),16)||p.length!==1&&l.match(o)&&Date.parse(l),A=parseInt(c.match(i),16)||b&&c.match(o)&&Date.parse(c)||null,y,C;if(A){if(b<A)return-1;if(b>A)return 1}for(var $=0,B=Math.max(p.length,f.length);$<B;$++){if(y=!(p[$]||"").match(u)&&parseFloat(p[$])||p[$]||0,C=!(f[$]||"").match(u)&&parseFloat(f[$])||f[$]||0,isNaN(y)!==isNaN(C))return isNaN(y)?1:-1;if(typeof y!=typeof C&&(y+="",C+=""),y<C)return-1;if(y>C)return 1}return 0},ze=qe(ln),cn={},Lt={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",s="["+e+"]["+r+"]*",n=new RegExp("^"+s+"$"),o=function(u,a){const l=[];let c=a.exec(u);for(;c;){const p=[];p.startIndex=a.lastIndex-c[0].length;const f=c.length;for(let b=0;b<f;b++)p.push(c[b]);l.push(p),c=a.exec(u)}return l},i=function(u){const a=n.exec(u);return!(a===null||typeof a>"u")};t.isExist=function(u){return typeof u<"u"},t.isEmptyObject=function(u){return Object.keys(u).length===0},t.merge=function(u,a,l){if(a){const c=Object.keys(a),p=c.length;for(let f=0;f<p;f++)l==="strict"?u[c[f]]=[a[c[f]]]:u[c[f]]=a[c[f]]}},t.getValue=function(u){return t.isExist(u)?u:""},t.isName=i,t.getAllMatches=o,t.nameRegexp=s})(Lt);const We=Lt,fn={allowBooleanAttributes:!1,unpairedTags:[]};cn.validate=function(t,e){e=Object.assign({},fn,e);const r=[];let s=!1,n=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=Ft(t,o),o.err)return o}else if(t[o]==="<"){let i=o;if(o++,t[o]==="!"){o=Pt(t,o);continue}else{let u=!1;t[o]==="/"&&(u=!0,o++);let a="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)a+=t[o];if(a=a.trim(),a[a.length-1]==="/"&&(a=a.substring(0,a.length-1),o--),!yn(a)){let p;return a.trim().length===0?p="Invalid space after '<'.":p="Tag '"+a+"' is an invalid name.",F("InvalidTag",p,G(t,o))}const l=gn(t,o);if(l===!1)return F("InvalidAttr","Attributes for '"+a+"' have open quote.",G(t,o));let c=l.value;if(o=l.index,c[c.length-1]==="/"){const p=o-c.length;c=c.substring(0,c.length-1);const f=kt(c,e);if(f===!0)s=!0;else return F(f.err.code,f.err.msg,G(t,p+f.err.line))}else if(u)if(l.tagClosed){if(c.trim().length>0)return F("InvalidTag","Closing tag '"+a+"' can't have attributes or invalid starting.",G(t,i));if(r.length===0)return F("InvalidTag","Closing tag '"+a+"' has not been opened.",G(t,i));{const p=r.pop();if(a!==p.tagName){let f=G(t,p.tagStartPos);return F("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+a+"'.",G(t,i))}r.length==0&&(n=!0)}}else return F("InvalidTag","Closing tag '"+a+"' doesn't have proper closing.",G(t,o));else{const p=kt(c,e);if(p!==!0)return F(p.err.code,p.err.msg,G(t,o-c.length+p.err.line));if(n===!0)return F("InvalidXml","Multiple possible root nodes found.",G(t,o));e.unpairedTags.indexOf(a)!==-1||r.push({tagName:a,tagStartPos:i}),s=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=Pt(t,o);continue}else if(t[o+1]==="?"){if(o=Ft(t,++o),o.err)return o}else break;else if(t[o]==="&"){const p=Rn(t,o);if(p==-1)return F("InvalidChar","char '&' is not expected.",G(t,o));o=p}else if(n===!0&&!It(t[o]))return F("InvalidXml","Extra text at the end",G(t,o));t[o]==="<"&&o--}}else{if(It(t[o]))continue;return F("InvalidChar","char '"+t[o]+"' is not expected.",G(t,o))}if(s){if(r.length==1)return F("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",G(t,r[0].tagStartPos));if(r.length>0)return F("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return F("InvalidXml","Start tag expected.",1);return!0};function It(t){return t===" "||t==="	"||t===`
`||t==="\r"}function Ft(t,e){const r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const s=t.substr(r,e-r);if(e>5&&s==="xml")return F("InvalidXml","XML declaration allowed only at the start of the document.",G(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function Pt(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const pn='"',hn="'";function gn(t,e){let r="",s="",n=!1;for(;e<t.length;e++){if(t[e]===pn||t[e]===hn)s===""?s=t[e]:s!==t[e]||(s="");else if(t[e]===">"&&s===""){n=!0;break}r+=t[e]}return s!==""?!1:{value:r,index:e,tagClosed:n}}const dn=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function kt(t,e){const r=We.getAllMatches(t,dn),s={};for(let n=0;n<r.length;n++){if(r[n][1].length===0)return F("InvalidAttr","Attribute '"+r[n][2]+"' has no space in starting.",he(r[n]));if(r[n][3]!==void 0&&r[n][4]===void 0)return F("InvalidAttr","Attribute '"+r[n][2]+"' is without value.",he(r[n]));if(r[n][3]===void 0&&!e.allowBooleanAttributes)return F("InvalidAttr","boolean attribute '"+r[n][2]+"' is not allowed.",he(r[n]));const o=r[n][2];if(!bn(o))return F("InvalidAttr","Attribute '"+o+"' is an invalid name.",he(r[n]));if(!s.hasOwnProperty(o))s[o]=1;else return F("InvalidAttr","Attribute '"+o+"' is repeated.",he(r[n]))}return!0}function An(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function Rn(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,An(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function F(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function bn(t){return We.isName(t)}function yn(t){return We.isName(t)}function G(t,e){const r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function he(t){return t.startIndex+t[1].length}function _n(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(const r of t)if(typeof r=="string"&&e===r||r instanceof RegExp&&r.test(e))return!0}:()=>!1}var En=_n;const Cn=`
`;function mn(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=Cn),Bt(t,e,"",r)}function Bt(t,e,r,s){let n="",o=!1;for(let i=0;i<t.length;i++){const u=t[i],a=Sn(u);if(a===void 0)continue;let l="";if(r.length===0?l=a:l=`${r}.${a}`,a===e.textNodeName){let A=u[a];vn(l,e)||(A=e.tagValueProcessor(a,A),A=Gt(A,e)),o&&(n+=s),n+=A,o=!1;continue}else if(a===e.cdataPropName){o&&(n+=s),n+=`<![CDATA[${u[a][0][e.textNodeName]}]]>`,o=!1;continue}else if(a===e.commentPropName){n+=s+`<!--${u[a][0][e.textNodeName]}-->`,o=!0;continue}else if(a[0]==="?"){const A=Mt(u[":@"],e),y=a==="?xml"?"":s;let C=u[a][0][e.textNodeName];C=C.length!==0?" "+C:"",n+=y+`<${a}${C}${A}?>`,o=!0;continue}let c=s;c!==""&&(c+=e.indentBy);const p=Mt(u[":@"],e),f=s+`<${a}${p}`,b=Bt(u[a],e,l,c);e.unpairedTags.indexOf(a)!==-1?e.suppressUnpairedNode?n+=f+">":n+=f+"/>":(!b||b.length===0)&&e.suppressEmptyNode?n+=f+"/>":b&&b.endsWith(">")?n+=f+`>${b}${s}</${a}>`:(n+=f+">",b&&s!==""&&(b.includes("/>")||b.includes("</"))?n+=s+e.indentBy+b+s:n+=b,n+=`</${a}>`),o=!0}return n}function Sn(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const s=e[r];if(t.hasOwnProperty(s)&&s!==":@")return s}}function Mt(t,e){let r="";if(t&&!e.ignoreAttributes)for(let s in t){if(!t.hasOwnProperty(s))continue;let n=e.attributeValueProcessor(s,t[s]);n=Gt(n,e),n===!0&&e.suppressBooleanAttributes?r+=` ${s.substr(e.attributeNamePrefix.length)}`:r+=` ${s.substr(e.attributeNamePrefix.length)}="${n}"`}return r}function vn(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let s in e.stopNodes)if(e.stopNodes[s]===t||e.stopNodes[s]==="*."+r)return!0;return!1}function Gt(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){const s=e.entities[r];t=t.replace(s.regex,s.val)}return t}var $n=mn;const wn=$n,xn=En,Nn={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function se(t){this.options=Object.assign({},Nn,t),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=xn(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=On),this.processTextOrObjNode=Hn,this.options.format?(this.indentate=Tn,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}se.prototype.build=function(t){return this.options.preserveOrder?wn(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0,[]).val)},se.prototype.j2x=function(t,e,r){let s="",n="";const o=r.join(".");for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(typeof t[i]>"u")this.isAttribute(i)&&(n+="");else if(t[i]===null)this.isAttribute(i)||i===this.options.cdataPropName?n+="":i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)n+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){const u=this.isAttribute(i);if(u&&!this.ignoreAttributesFn(u,o))s+=this.buildAttrPairStr(u,""+t[i]);else if(!u)if(i===this.options.textNodeName){let a=this.options.tagValueProcessor(i,""+t[i]);n+=this.replaceEntitiesValue(a)}else n+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){const u=t[i].length;let a="",l="";for(let c=0;c<u;c++){const p=t[i][c];if(!(typeof p>"u"))if(p===null)i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(typeof p=="object")if(this.options.oneListGroup){const f=this.j2x(p,e+1,r.concat(i));a+=f.val,this.options.attributesGroupName&&p.hasOwnProperty(this.options.attributesGroupName)&&(l+=f.attrStr)}else a+=this.processTextOrObjNode(p,i,e,r);else if(this.options.oneListGroup){let f=this.options.tagValueProcessor(i,p);f=this.replaceEntitiesValue(f),a+=f}else a+=this.buildTextValNode(p,i,"",e)}this.options.oneListGroup&&(a=this.buildObjectNode(a,i,l,e)),n+=a}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const u=Object.keys(t[i]),a=u.length;for(let l=0;l<a;l++)s+=this.buildAttrPairStr(u[l],""+t[i][u[l]])}else n+=this.processTextOrObjNode(t[i],i,e,r);return{attrStr:s,val:n}},se.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function Hn(t,e,r,s){const n=this.j2x(t,r+1,s.concat(e));return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}se.prototype.buildObjectNode=function(t,e,r,s){if(t==="")return e[0]==="?"?this.indentate(s)+"<"+e+r+"?"+this.tagEndChar:this.indentate(s)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let n="</"+e+this.tagEndChar,o="";return e[0]==="?"&&(o="?",n=""),(r||r==="")&&t.indexOf("<")===-1?this.indentate(s)+"<"+e+r+o+">"+t+n:this.options.commentPropName!==!1&&e===this.options.commentPropName&&o.length===0?this.indentate(s)+`<!--${t}-->`+this.newLine:this.indentate(s)+"<"+e+r+o+this.tagEndChar+t+this.indentate(s)+n}},se.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e},se.prototype.buildTextValNode=function(t,e,r,s){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(s)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(s)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(s)+"<"+e+r+"?"+this.tagEndChar;{let n=this.options.tagValueProcessor(e,t);return n=this.replaceEntitiesValue(n),n===""?this.indentate(s)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(s)+"<"+e+r+">"+n+"</"+e+this.tagEndChar}},se.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function Tn(t){return this.options.indentBy.repeat(t)}function On(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}function Ln(t,e){if(t.indexOf(e)>-1)return[e];const r=pe(t,e);return r.length?r:[]}async function Xe(t){if(new Uint16Array(t,0,2)[0]===35615)try{const r=new Response(t),s=new DecompressionStream("gzip"),n=await r.body?.pipeThrough(s),o=await new Response(n).arrayBuffer();return await Xe(o)}catch(r){console.error("eee",r)}return t}const Ut="AAK"+Object.keys({light:"mapbox://styles/mapbox/light-v10",dark:"mapbox://styles/vsp-tu-berlin/ckek59op0011219pbwfar1rex",transparentLight:"mapbox://styles/vsp-tu-berlin/clgxnk7m500dt01p687w8e693",transparentDark:"mapbox://styles/vsp-tu-berlin/clgwrqa0w00av01pg5jox0a35"}).length+"QRQ0EldfvmCW4Cyu";ze.insensitive=!0;const In=/.*\.(avro|dbf|gpkg|gz|h5|jpg|jpeg|omx|png|shp|shx|sqlite|zip|zst)$/,Fn=["simwrapper",".simwrapper"],ge={};class Pn{baseUrl;urlId;slug;needsAuth;fsHandle;store;isGithub;isFlask;type;constructor(e,r){this.urlId=e.slug,this.slug=e.slug,this.needsAuth=!!e.needPassword,this.fsHandle=e.handle||null,this.store=r||null,this.isGithub=!!e.isGithub,this.isFlask=!!e.flask,this.type=0,this.fsHandle&&(this.type=1),this.isGithub&&(this.type=2),this.isFlask&&(this.type=3),this.baseUrl=e.baseURL,e.baseURL.endsWith("/")||(this.baseUrl+="/"),ge[this.urlId]||(ge[this.urlId]={})}hasHandle(){return!!this.fsHandle}async getChromePermission(e){return e&&await e.queryPermission({mode:"read"})!=="granted"&&this.store?await new Promise(o=>{this.store.commit("setFileHandleForPermissionRequest",{handle:e,resolve:o})}):!0}clearCache(){ge[this.urlId]={}}cleanURL(e){let r=this.baseUrl+e.replace(/^0-9a-zA-Z_\-\/:+/i,"");return r=r.replaceAll("//","/"),r=r.replaceAll("//","/"),r=r.replace("https:/","https://"),r=r.replace("http:/","http://"),r=new URL(r).href,r}async _getFileResponse(e){switch(this.type){case 1:return this._getFileFromChromeFileSystem(e);case 2:return this._getFileFromGitHub(e);case 3:return this._getFileFromAzure(e);case 0:default:return this._getFileFetchResponse(e)}}async _getFileFetchResponse(e){const r=this.cleanURL(e),s={},n=new Request(r,{headers:s});return await fetch(n).then(i=>{if(i.status!=200)throw console.log("Status:",i.status),i;return i})}async _getDirectoryFromAzure(e){let r=e.replace(/^0-9a-zA-Z_\-\/:+/i,"");r=r.replaceAll("//","/"),r=r.replaceAll("//","/");let s=`${this.baseUrl}list/${this.slug}?prefix=${r}`;const n=new URL(s).href,o={};if(this.needsAuth){let l=localStorage.getItem(`auth-token-${this.slug}`);if(l||(l=prompt("This server requires an access token to continue")),l)localStorage.setItem(`auth-token-${this.slug}`,l),o.AZURETOKEN=l;else return{dirs:[],files:[],handles:{}}}const i=new Request(n,{headers:o}),u=await fetch(i);if(u.status==400){let l=prompt("Authorization failure. This server requires a valid access token to continue");return l?(localStorage.setItem(`auth-token-${this.slug}`,l),o.AZURETOKEN=l,await this._getDirectoryFromAzure(e)):{dirs:[],files:[],handles:{}}}if(u.status!=200)throw console.log("Status:",u.status),u;return await u.json()}getSlug(){return this.slug}async _getFileFromAzure(e){let r=e.replace(/^0-9a-zA-Z_\-\/:+/i,"");r=r.replaceAll("//","/"),r=r.replaceAll("//","/");let s=`${this.baseUrl}file/${this.slug}?prefix=${r}`;const n=new URL(s).href,o={},i=new Request(n,{headers:o}),u=await fetch(i);if(u.status!=200)throw console.log("Status:",u.status),u;return u}async _getFileFromChromeFileSystem(e){let r=e.replace(/^0-9a-zA-Z_\-\/:+/i,"");r=r.replaceAll("//","/"),r=new URL(`http://local/${r}`).href,r=r.substring(13);const s=r.lastIndexOf("/"),n=r.substring(0,s),o=decodeURIComponent(r.substring(s+1)),u=(await this.getDirectory(n)).handles[o];if(!u)throw Error(`File ${o} missing`);const a=await u.getFile();return a.json=()=>new Promise(async(l,c)=>{const p=await a.text(),f=JSON.parse(p);l(f)}),a.blob=()=>new Promise(async(l,c)=>{l(a)}),new Promise((l,c)=>{l(a)})}async _getFileFromGitHub(e){let r=e.replace(/^0-9a-zA-Z_\-\/:+/i,"");r=r.replaceAll("//","/"),r.startsWith("/")&&(r=r.slice(1));const s=r.split("/").filter(f=>!!f);if(s.length<2)return new Promise((f,b)=>{f(null)});const n=`${s[0]}/${s[1]}`;let o=`https://api.github.com/repos/${n}/contents/`;s.shift(),s.shift(),o+=s.join("/");const a={Authorization:`Bearer ${["11","pat","github"].reverse().join("_")}${Ut}_SyKezxQUoOKXAx3HwTH51I4funGUSFfxdbGG2X4l3WvUHIW62GOOmO0OMWZ`};let l=await await fetch(o,{headers:a}).then(f=>f.json()),c=l.content;if(c||(o=`https://api.github.com/repos/${n}/git/blobs/${l.sha}`,l=await await fetch(o,{headers:a}).then(f=>f.json()),c=l.content),l.encoding=="base64"){const f=Uint8Array.from(atob(l.content),b=>b.charCodeAt(0));In.test(e.toLocaleLowerCase())?c=f:c=new TextDecoder().decode(f)}else l.encoding=="utf-8"?c=new TextDecoder().decode(l.content):c=l.content;return{text:()=>new Promise((f,b)=>{f(c)}),json:()=>new Promise(async(f,b)=>{const A=JSON.parse(c);f(A)}),blob:()=>new Promise(async(f,b)=>{f(new Blob([c],{type:"application/octet-stream"}))})}}async _getDirectoryFromGitHub(e){let r=e.replace(/^0-9a-zA-Z_\-\/:+/i,"");r=r.replaceAll("//","/"),r.startsWith("/")&&(r=r.slice(1));const s={dirs:[],files:[],handles:{}},n=r.split("/").filter(c=>!!c);if(n.length<2)return s;let o=`https://api.github.com/repos/${n[0]}/${n[1]}/contents/`;n.shift(),n.shift(),o+=n.join("/");const a={Authorization:`Bearer ${["11","pat","github"].reverse().join("_")}${Ut}_SyKezxQUoOKXAx3HwTH51I4funGUSFfxdbGG2X4l3WvUHIW62GOOmO0OMWZ`};return(await await fetch(o,{headers:a}).then(c=>c.json())).forEach(c=>{c.type=="file"&&s.files.push(c.name),c.type=="dir"&&s.dirs.push(c.name)}),s}async getFileText(e){return(await this._getFileResponse(e)).text()}async getFileJson(e){const n=await(await(await this._getFileResponse(e)).blob()).arrayBuffer(),o=await Xe(n),i=new TextDecoder("utf-8").decode(o);return JSON.parse(i)}async getFileBlob(e){return(await this._getFileResponse(e)).blob()}async getFileStream(e){let r;switch(this.type){case 1:return r=await this._getFileFromChromeFileSystem(e).then(n=>n.blob()).then(n=>n.stream()),r;case 0:return r=await this._getFileFetchResponse(e).then(n=>n.body),r;case 3:const s=`/file/${this.slug}?prefix=${e}`;return r=await this._getFileFetchResponse(s).then(n=>n.body),r;default:throw Error(`FileSystemType ${this.type} not implemented`)}}async getDirectory(e){let r=e.replaceAll("//","/");r.endsWith("/")||(r+="/");const s=ge[this.urlId][r];if(s)return s;r=r.replaceAll("/./","/");try{let n;switch(this.type){case 1:n=await this._getDirectoryFromHandle(r);break;case 2:n=await this._getDirectoryFromGitHub(r);break;case 3:n=await this._getDirectoryFromAzure(r);break;case 0:default:n=await this._getDirectoryFromURL(r);break}return n.dirs.sort((o,i)=>ze(o,i)),n.files.sort((o,i)=>ze(o,i)),ge[this.urlId][r]=n,n}catch(n){throw Error(""+n)}}async _getDirectoryFromHandle(e,r){const s={files:[],dirs:[],handles:{}};if(!this.fsHandle||!await this.getChromePermission(this.fsHandle))return s;let o=e.split("/").filter(l=>!!l);function i(l){const c=l.indexOf("..");if(c<=0)return l;const p=l.filter((f,b)=>b!==c-1&&b!==c);return i(p)}const u=i(o);let a=this.fsHandle;if(u.length)for(const l of u){let c=!1;for await(let[p,f]of a)if(p===l){a=f,c=!0;break}if(!c)throw Error(`Could not find folder "${l}"`)}for await(let l of a.values())s.handles&&(s.handles[l.name]=l),l.kind==="file"?s.files.push(l.name):s.dirs.push(l.name);return s}async _getDirectoryFromURL(e){const s=await(await this._getFileResponse(e).then()).text();return this.buildListFromHtml(s)}async findAllYamlConfigs(e){const r={dashboards:{},topsheets:{},vizes:{},configs:{}},s=[];let n="/";const i=(e.startsWith("/")?e:"/"+e).split("/");for(const p of i.slice(0,i.length-1)){n=`${n}${p}/`.replaceAll("//","/");try{const{dirs:f}=await this.getDirectory(n);for(const b of f)Fn.includes(b.toLocaleLowerCase())&&s.push(`${n}/${b}`.replaceAll("//","/"))}catch{}}s.push(e);const u="dashboard*.y?(a)ml",a="(topsheet|table)*.y?(a)ml",l="viz*.y?(a)ml",c="simwrapper-config.y?(a)ml";for(const p of s){const{files:f}=await this.getDirectory(p);pe.match(f,u).map(b=>r.dashboards[b]=`${p}/${b}`.replaceAll("//","/")),pe.match(f,a).map(b=>r.topsheets[b]=`${p}/${b}`.replaceAll("//","/")),pe.match(f,l).map(b=>r.vizes[b]=`${p}/${b}`.replaceAll("//","/")),pe.match(f,c).map(b=>r.configs[b]=`${p}/${b}`.replaceAll("//","/"))}return r}buildListFromHtml(e){return e.indexOf("SimpleWebServer")>-1?this.buildListFromSimpleWebServer(e):e.indexOf("<ul>")>-1?this.buildListFromSVN(e):e.indexOf('<ul id="files">')>-1?this.buildListFromNpxServe(e):e.indexOf("<table>")>-1?this.buildListFromApache24(e):e.indexOf(`
<a `)>-1?this.buildListFromNGINX(e):{dirs:[],files:[],handles:{}}}buildListFromSimpleWebServer(e){const r=/">(.*?)<\/a/,s=[],n=[],o=e.split(`
`);for(const i of o){if(i.indexOf('<li><a href="')<0)continue;const a=i.match(r);if(!a)continue;const l=a[1];l.endsWith("/")?s.push(l.substring(0,l.length-1)):n.push(l)}return{dirs:s,files:n,handles:{}}}buildListFromNpxServe(e){const r=/"(.*?)"/;let s=[],n=[];const o=e.split("</li>").map(i=>i.slice(i.lastIndexOf("<li")));for(const i of o){const u=i.indexOf('<li> <a href="');if(u<0||u>512)continue;const a=i.match(r);if(!a)continue;let l=a[1];l=l.replaceAll("&#47;","/"),l!=="/"&&l!=="../"&&(l.endsWith("/")?s.push(l.substring(0,l.length-1)):n.push(l))}return s=s.map(i=>i.slice(1+i.lastIndexOf("/"))),n=n.map(i=>i.slice(1+i.lastIndexOf("/"))),{dirs:s,files:n,handles:{}}}buildListFromSVN(e){const r=/"(.*?)"/,s=[],n=[],o=e.split(`
`);for(const i of o){if(i.indexOf('<li><a href="')<0)continue;const a=i.match(r);if(!a)continue;let l=a[1];l!=="../"&&(l.startsWith("./")&&(l=l.substring(2)),l.endsWith("/")?s.push(l.substring(0,l.length-1)):n.push(l))}return{dirs:s,files:n,handles:{}}}buildListFromApache24(e){const r=/"(.*?)"/,s=[],n=[],o=e.split(`
`);for(const i of o){if(i.indexOf('<th "')>-1||i.indexOf("[PARENTDIR]")>-1)continue;const u=i.indexOf('<td><a href="');if(u<0)continue;const a=i.substring(u).match(r);if(!a)continue;const l=a[1];l!=="../"&&(l.endsWith("/")?s.push(l.substring(0,l.length-1)):n.push(l))}return{dirs:s,files:n,handles:{}}}buildListFromNGINX(e){const r=/"(.*?)"/,s=[],n=[],o=e.split(`
`);for(const i of o){const u=i.indexOf('<a href="');if(u<0)continue;const a=i.substring(u).match(r);if(!a)continue;const l=a[1];l!=="../"&&(l.endsWith("/")?s.push(l.substring(0,l.length-1)):n.push(l))}return{dirs:s,files:n,handles:{}}}}const Qe=self;onmessage=({data:{filePath:t,fileSystem:e}})=>{kn(t,e).then(r=>{r.buffer?Qe.postMessage(r,[r.buffer]):Qe.postMessage(r,[r])})};async function kn(t,e){const r=new Pn(e);let s=t;try{if(t.indexOf("*")>-1||t.indexOf("?")>-1){const u=t.substring(1+t.lastIndexOf("/")),a=t.substring(0,t.lastIndexOf("/")),{files:l}=await r.getDirectory(a),c=Ln(l,u);if(c.length==0)throw Error(`No files matched "${u}"`);if(c.length>1)throw Error(`More than one file matched "${u}": ${c}`);s=`${a}/${c[0]}`}const n=await r.getFileBlob(s);if(!n)throw Error("BLOB IS NULL");const o=await n.arrayBuffer();return await Xe(o)}catch{Qe.postMessage({error:"Error loading "+s})}}})();
