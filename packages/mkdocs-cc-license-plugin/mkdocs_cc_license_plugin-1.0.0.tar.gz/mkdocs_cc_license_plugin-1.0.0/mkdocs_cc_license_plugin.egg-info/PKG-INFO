Metadata-Version: 2.4
Name: mkdocs-cc-license-plugin
Version: 1.0.0
Summary: MkDocs plugin for automatic Creative Commons license management
Home-page: https://github.com/JM2K69/mkdocs-cc-license-plugin
Author: JÃ©rÃ´me Bezet-Torres
Author-email: JÃ©rÃ´me Bezet-Torres <bezettorres.jerome@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/JM2K69/mkdocs-cc-license-plugin
Project-URL: Documentation, https://github.com/JM2K69/mkdocs-cc-license-plugin#readme
Project-URL: Repository, https://github.com/JM2K69/mkdocs-cc-license-plugin
Project-URL: Issues, https://github.com/JM2K69/mkdocs-cc-license-plugin/issues
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Topic :: Documentation
Classifier: Topic :: Software Development :: Documentation
Requires-Python: >=3.7
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: mkdocs>=1.0
Requires-Dist: Jinja2>=2.10
Provides-Extra: dev
Requires-Dist: pytest>=6.0; extra == "dev"
Requires-Dist: mkdocs-material>=8.0; extra == "dev"
Dynamic: author
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-python

# MkDocs Creative Commons License Plugin

Un plugin MkDocs qui ajoute automatiquement les icÃ´nes et liens de licence Creative Commons basÃ©s sur la propriÃ©tÃ© `license` dans les mÃ©tadonnÃ©es des pages.

## FonctionnalitÃ©s

- âœ… Lecture automatique de la propriÃ©tÃ© `license` dans l'en-tÃªte YAML
- âœ… GÃ©nÃ©ration automatique des icÃ´nes Creative Commons SVG
- âœ… CrÃ©ation de liens vers les pages officielles Creative Commons
- âœ… Support de toutes les licences CC 4.0
- âœ… Affichage sous forme de badge Ã©lÃ©gant en haut Ã  droite des pages
- âœ… Configuration flexible
- âœ… IntÃ©gration facile avec les templates Jinja2
- âœ… Compatible avec le thÃ¨me Material for MkDocs

## Installation

### Installation depuis les sources

```bash
git clone <repository-url>
cd mkdocs_cc_license_plugin
pip install -e .
```

### Installation depuis PyPI (quand publiÃ©)

```bash
pip install mkdocs-cc-license-plugin
```

### Configuration rapide

1. Ajoutez le plugin Ã  votre `mkdocs.yml`
2. CrÃ©ez un dossier `theme_overrides` (optionnel)
3. Ajoutez `license: "by-sa"` dans vos pages markdown
4. Lancez `mkdocs serve` pour voir le rÃ©sultat

## Configuration

Ajoutez le plugin Ã  votre fichier `mkdocs.yml` :

```yaml
plugins:
  - cc-license:
      default_license: "by-sa"      # Licence par dÃ©faut si non spÃ©cifiÃ©e
      language: "fr"                # Langue pour les liens CC (fr, en, etc.)
      target_blank: true            # Ouvrir les liens dans un nouvel onglet
      show_icons: true              # Afficher les icÃ´nes SVG

# ThÃ¨me (pour Material avec template personnalisÃ©)
theme:
  name: material
  custom_dir: theme_overrides  # Optionnel pour personnaliser l'affichage
```

## Utilisation

### Dans les mÃ©tadonnÃ©es de page

```yaml
---
title: Mon exercice
author: John Doe
license: "by-nc-sa"  # Attribution-NonCommercial-ShareAlike
tags:
  - python
  - exercice
---
```

### Dans les templates

Le plugin expose automatiquement des fonctions Jinja2 pour les templates :

```html
<!-- Affichage complet avec icÃ´nes et lien -->
{{ cc_license(page.meta) }}

<!-- Ou la fonction complÃ¨te -->
{{ build_license_html(page.meta) }}

<!-- Pour obtenir juste les informations de licence -->
{% set license_info = get_license_info(page.meta) %}
<p>Licence: {{ license_info.full_name }}</p>
<p>URL: {{ license_info.url }}</p>
```

### Template personnalisÃ© (recommandÃ©)

Pour un affichage optimal, crÃ©ez un template personnalisÃ© `theme_overrides/main.html` :

```html
{% extends "base.html" %}

{% block content %}
  <article class="md-content__inner md-typeset">
    <!-- Badge de licence en haut Ã  droite -->
    {% if page.meta.license %}
      <div class="cc-license-container" style="float: right; margin-left: 1em; margin-bottom: 1em; padding: 0.8em; background: linear-gradient(135deg, #f8f9fa, #e9ecef); border: 1px solid #dee2e6; border-radius: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        {{ cc_license(page.meta) | safe }}
      </div>
    {% endif %}
    
    {{ page.content }}
  </article>
{% endblock %}
```

## Rendu visuel

Le plugin affiche les licences Creative Commons sous forme de **badge Ã©lÃ©gant** en haut Ã  droite de chaque page contenant une propriÃ©tÃ© `license`. Le badge inclut :

- ğŸ¨ **Design moderne** : DÃ©gradÃ© de couleur et ombres subtiles
- ğŸ”— **IcÃ´nes SVG officielles** : Directement depuis les serveurs Creative Commons
- ğŸ¯ **Positionnement intelligent** : En haut Ã  droite, n'interfÃ¨re pas avec le contenu
- ğŸ“± **Responsive** : S'adapte Ã  tous les Ã©crans
- ğŸ–±ï¸ **Interactif** : Lien cliquable vers la page officielle de la licence

### Exemple d'affichage

Pour une page avec `license: "by-nc-sa"`, vous verrez apparaÃ®tre un badge contenant les icÃ´nes CC, BY, NC et SA qui pointe vers `https://creativecommons.org/licenses/by-nc-sa/4.0/deed.fr`.

## Licences supportÃ©es

- `by` - Attribution
- `by-sa` - Attribution-ShareAlike
- `by-nc` - Attribution-NonCommercial  
- `by-nc-sa` - Attribution-NonCommercial-ShareAlike
- `by-nd` - Attribution-NoDerivatives
- `by-nc-nd` - Attribution-NonCommercial-NoDerivatives
- `cc0` - CC0 Public Domain Dedication

## Exemple de sortie HTML

Pour `license: "by-nc-sa"`, le plugin gÃ©nÃ¨re :

```html
<a class="cc-license-link" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.fr" target="_blank" rel="license noopener noreferrer">
  <img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt="Creative Commons" style="height:22px!important;margin-left:3px;vertical-align:text-bottom;">
  <img src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt="Attribution" style="height:22px!important;margin-left:3px;vertical-align:text-bottom;">
  <img src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1" alt="NonCommercial" style="height:22px!important;margin-left:3px;vertical-align:text-bottom;">
  <img src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1" alt="ShareAlike" style="height:22px!important;margin-left:3px;vertical-align:text-bottom;">
</a>
```

## Configuration avancÃ©e

### Options disponibles

| Option | Type | DÃ©faut | Description |
|--------|------|--------|-------------|
| `default_license` | string | `"by-sa"` | Licence utilisÃ©e si non spÃ©cifiÃ©e |
| `language` | string | `"fr"` | Langue pour les liens CC |
| `target_blank` | boolean | `true` | Ouvrir les liens dans un nouvel onglet |
| `show_icons` | boolean | `true` | Afficher les icÃ´nes SVG |
| `custom_template` | string | `None` | Template personnalisÃ© (futur) |

### Exemple de configuration complÃ¨te

```yaml
plugins:
  - cc-license:
      default_license: "by-sa"
      language: "en"
      target_blank: false
      show_icons: true
```

## DÃ©veloppement

### Structure du projet

```text
mkdocs_cc_license_plugin/
â”œâ”€â”€ mkdocs_cc_license_plugin/  # Package Python
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ plugin.py              # Plugin principal
â”œâ”€â”€ examples/                  # Exemples d'utilisation
â”‚   â”œâ”€â”€ mkdocs.yml
â”‚   â”œâ”€â”€ theme_overrides/       # Template personnalisÃ©
â”‚   â”‚   â””â”€â”€ main.html
â”‚   â””â”€â”€ docs/
â”‚       â”œâ”€â”€ index.md
â”‚       â”œâ”€â”€ with-license.md
â”‚       â””â”€â”€ no-license.md
â”œâ”€â”€ tests/                     # Tests unitaires
â”œâ”€â”€ setup.py                   # Configuration d'installation
â”œâ”€â”€ pyproject.toml            # Configuration moderne
â””â”€â”€ README.md                 # Documentation
```

### Tests

```bash
# Tests unitaires
python -m pytest tests/

# Test manuel avec l'exemple
cd examples
mkdocs serve
# Ouvrir http://127.0.0.1:8000/with-license/
```

## DÃ©pannage

### Le plugin ne se charge pas

- VÃ©rifiez que le package est bien installÃ© : `pip list | grep mkdocs-cc-license`
- VÃ©rifiez la structure : les fichiers doivent Ãªtre dans `mkdocs_cc_license_plugin/`

### Les icÃ´nes n'apparaissent pas

- VÃ©rifiez que la propriÃ©tÃ© `license` est bien dÃ©finie dans l'en-tÃªte YAML
- Utilisez un template personnalisÃ© pour Material (voir section Template)
- VÃ©rifiez les logs : `[CC License Plugin] build_license_html called with: ...`

### Style non appliquÃ©

- RedÃ©marrez `mkdocs serve` aprÃ¨s modification du template
- VÃ©rifiez que `custom_dir: theme_overrides` est configurÃ©

## Licence

Ce plugin est distribuÃ© sous licence MIT.

## Contribution

Les contributions sont les bienvenues ! Veuillez :

1. Fork le projet
2. CrÃ©er une branche pour votre fonctionnalitÃ©
3. Commiter vos changements
4. Pousser vers la branche
5. Ouvrir une Pull Request
