Metadata-Version: 2.4
Name: clash-cli
Version: 1.0.79
Summary: Linux ä¸€é”®å®‰è£… Clash ä»£ç†å·¥å…·
Author-email: Your Name <your.email@example.com>
License-Expression: MIT
Project-URL: Homepage, https://github.com/yourusername/clash-cli
Project-URL: Repository, https://github.com/yourusername/clash-cli
Project-URL: Issues, https://github.com/yourusername/clash-cli/issues
Project-URL: Documentation, https://github.com/yourusername/clash-cli#readme
Keywords: clash,proxy,linux,cli,vpn
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Operating System :: POSIX :: Linux
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Internet :: Proxy Servers
Classifier: Topic :: System :: Networking
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: click>=8.0.0
Requires-Dist: rich>=10.0.0
Requires-Dist: requests>=2.25.0
Requires-Dist: pyyaml>=5.4.0
Requires-Dist: psutil>=5.8.0
Provides-Extra: dev
Requires-Dist: pytest>=6.0; extra == "dev"
Requires-Dist: pytest-cov>=2.0; extra == "dev"
Requires-Dist: black>=21.0; extra == "dev"
Requires-Dist: flake8>=3.8; extra == "dev"
Requires-Dist: mypy>=0.800; extra == "dev"

# linuxå‘½ä»¤è¡Œè½»æ¾ä½¿ç”¨ä»£ç†ï¼šclash-cli

**Language**: [English](README_en.md) | [ä¸­æ–‡](README_zh.md)

![GitHub License](https://img.shields.io/github/license/whillhill/clash-cli)
![GitHub top language](https://img.shields.io/github/languages/top/whillhill/clash-cli)
![GitHub Repo stars](https://img.shields.io/github/stars/whillhill/clash-cli)
![PyPI](https://img.shields.io/pypi/v/clash-cli)
![Python](https://img.shields.io/pypi/pyversions/clash-cli)


**ğŸ‰ æ”¯æŒä¸¤ç§å®‰è£…æ–¹å¼ï¼šShell è„šæœ¬å’Œ Python åŒ…ï¼**


## âœ¨ ç‰¹æ€§

- ğŸš€ **ä¸€é”®å®‰è£…**ï¼šè‡ªåŠ¨ä¸‹è½½å¹¶é…ç½® Clash å†…æ ¸
- ğŸ”§ **æ™ºèƒ½ç®¡ç†**ï¼šç»Ÿä¸€çš„ `clash-cli` å‘½ä»¤è¡Œç•Œé¢
- ğŸŒ **è®¢é˜…è½¬æ¢**ï¼šå†…ç½® subconverter æœ¬åœ°è®¢é˜…è½¬æ¢
- ğŸ¯ **å¤šå†…æ ¸æ”¯æŒ**ï¼šé»˜è®¤ mihomoï¼Œå¯é€‰ clash å†…æ ¸
- ğŸš **å¤š Shell æ”¯æŒ**ï¼šå…¼å®¹ bashã€zshã€fish
- ğŸ”’ **ç³»ç»Ÿé›†æˆ**ï¼šsystemd æœåŠ¡ç®¡ç†ï¼Œå¼€æœºè‡ªå¯
- ğŸŒ **Web æ§åˆ¶å°**ï¼šå¯è§†åŒ–èŠ‚ç‚¹ç®¡ç†å’Œç›‘æ§
- ğŸ“± **Tun æ¨¡å¼**ï¼šå…¨å±€ä»£ç†ï¼Œæ”¯æŒ Docker å®¹å™¨
- ğŸ **Python æ”¯æŒ**ï¼šç°ä»£åŒ–çš„ pip å®‰è£…æ–¹å¼
- ğŸ“¦ **ç¦»çº¿å®‰è£…**ï¼šé¢„ç½®å·¥å…·åŒ…ï¼Œç½‘ç»œä¸ä½³æ—¶å¯ç¦»çº¿å®‰è£…

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šLinux
- **ç”¨æˆ·æƒé™**ï¼š`root` æˆ– `sudo` æƒé™
- **Shell ç¯å¢ƒ**ï¼š`bash`ã€`zsh`ã€`fish` ä»»ä¸€

## ğŸš€ å¿«é€Ÿå®‰è£…

> ä¸¤ç§å®‰è£…æ–¹å¼**ä»…å®‰è£…æ–¹æ³•ä¸åŒ**ï¼Œå®‰è£…å®Œæˆåçš„**ä½¿ç”¨æ–¹å¼å®Œå…¨ç›¸åŒ**ï¼

### ğŸ“Š å®‰è£…æ–¹å¼å¯¹æ¯”

| æ–¹é¢ | Python åŒ…å®‰è£… | Shell è„šæœ¬å®‰è£… |
|------|---------------|----------------|
| **å®‰è£…å‘½ä»¤** | `pip install clash-cli` | `git clone + bash install.sh` |
| **ä¾èµ–ç®¡ç†** | pip è‡ªåŠ¨å¤„ç† | è„šæœ¬æ‰‹åŠ¨å¤„ç† |
| **æ›´æ–°æ–¹å¼** | `pip install -U clash-cli` | é‡æ–° git clone |
| **å¸è½½æ–¹å¼** | `pip uninstall clash-cli` | `bash uninstall.sh` |
| **ä½¿ç”¨å‘½ä»¤** | âœ… **å®Œå…¨ç›¸åŒ** | âœ… **å®Œå…¨ç›¸åŒ** |

### æ–¹å¼ä¸€ï¼šPython åŒ…å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# 1. å®‰è£… clash-cli å·¥å…·
pip install clash-cli

# 2. åˆå§‹åŒ–ç¯å¢ƒï¼ˆä¸€æ¬¡æ€§æ“ä½œï¼‰
clash-cli init

# 3. å®‰è£… Clash æœåŠ¡ï¼ˆç½‘ç»œä¸‹è½½ï¼‰
sudo clash-cli install

# æˆ–è€…ï¼šç¦»çº¿å®‰è£…ï¼ˆä½¿ç”¨é¢„ç½®ç‰ˆæœ¬ï¼‰
sudo clash-cli install --offline

# 4. å¼€å§‹ä½¿ç”¨
clash-cli on
```

> **è¯´æ˜**ï¼š`clash-cli init` æ˜¯ä¸€æ¬¡æ€§æ“ä½œï¼Œç”¨äºé…ç½® sudo è®¿é—®æƒé™


### æ–¹å¼äºŒï¼šShell è„šæœ¬å®‰è£…ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰

```bash
git clone --branch main --depth 1 https://github.com/whillhill/clash-cli.git \
  && cd clash-cli \
  && sudo bash install.sh
```


## ğŸ“– ä½¿ç”¨æ•™ç¨‹

> **é‡è¦**ï¼šæ— è®ºä½¿ç”¨å“ªç§æ–¹å¼å®‰è£…ï¼Œä»¥ä¸‹æ‰€æœ‰å‘½ä»¤éƒ½**å®Œå…¨ç›¸åŒ**ï¼

### ğŸ¯ é¦–æ¬¡é…ç½®ï¼ˆä»… Python åŒ…éœ€è¦ï¼‰

å¦‚æœæ‚¨ä½¿ç”¨ Python åŒ…å®‰è£…ï¼Œéœ€è¦å…ˆå®‰è£… Clash æœåŠ¡ï¼š

```bash
# ç½‘ç»œå®‰è£…ï¼ˆæ¨èï¼‰
sudo clash-cli install

# ç¦»çº¿å®‰è£…ï¼ˆç½‘ç»œä¸ä½³æ—¶ä½¿ç”¨ï¼‰
sudo clash-cli install --offline

# æ‰‹åŠ¨æŒ‡å®šå·¥å…·æ–‡ä»¶ï¼ˆé«˜çº§ç”¨æˆ·ï¼‰
sudo clash-cli install --offline --mihomo /path/to/mihomo.gz --yq /path/to/yq.tar.gz

# æŒ‡å®šè®¢é˜…é“¾æ¥å®‰è£…
sudo clash-cli install -s "https://your-subscription-url.com"

# ä½¿ç”¨ clash å†…æ ¸ï¼ˆé»˜è®¤æ˜¯ mihomoï¼‰
sudo clash-cli install --kernel clash
```

> **è¯´æ˜**ï¼šShell è„šæœ¬å®‰è£…ä¼šåœ¨å®‰è£…è¿‡ç¨‹ä¸­è‡ªåŠ¨å®ŒæˆæœåŠ¡é…ç½®

### ğŸ“‹ åŸºæœ¬å‘½ä»¤

å®‰è£…å®Œæˆåï¼Œ**ä¸¤ç§å®‰è£…æ–¹å¼éƒ½ä½¿ç”¨ç›¸åŒçš„** `clash-cli` å‘½ä»¤ï¼š

```bash
$ clash-cli
Usage:
    clash-cli COMMAND [OPTION]

Commands:
    init                 åˆå§‹åŒ–ç¯å¢ƒ
    install              å®‰è£… Clash æœåŠ¡
    on                   å¼€å¯ä»£ç†
    off                  å…³é—­ä»£ç†
    ui                   é¢æ¿åœ°å€
    status               å†…æ ¸çŠ¶å†µ
    proxy    [on|off]    ç³»ç»Ÿä»£ç†
    tun      [on|off]    Tun æ¨¡å¼
    mixin    [-e|-r]     Mixin é…ç½®
    secret   [SECRET]    Web å¯†é’¥
    update   [auto|log]  æ›´æ–°è®¢é˜…
    lang     [zh|en]     åˆ‡æ¢è¯­è¨€
    uninstall            å¸è½½æœåŠ¡
```

#### å¯åŠ¨å’Œåœæ­¢ä»£ç†

```bash
# å¯åŠ¨ä»£ç†æœåŠ¡
$ clash-cli on
ğŸ˜¼ å·²å¼€å¯ä»£ç†ç¯å¢ƒ

# åœæ­¢ä»£ç†æœåŠ¡
$ clash-cli off
ğŸ˜¼ å·²å…³é—­ä»£ç†ç¯å¢ƒ

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
$ clash-cli status
â— mihomo.service - mihomo Daemon, A[nother] Clash Kernel.
   Loaded: loaded (/etc/systemd/system/mihomo.service; enabled; vendor preset: enabled)
   Active: active (running) since Mon 2025-01-27 10:30:15 CST; 2h 15min ago
```

**è¯´æ˜**ï¼š
- `clash-cli on` ä¼šåŒæ—¶å¯åŠ¨å†…æ ¸æœåŠ¡å’Œè®¾ç½®ç³»ç»Ÿä»£ç†ç¯å¢ƒå˜é‡
- `clash-cli off` ä¼šåœæ­¢æœåŠ¡å¹¶æ¸…é™¤ä»£ç†ç¯å¢ƒå˜é‡
- æœåŠ¡æ”¯æŒå¼€æœºè‡ªå¯ï¼Œé‡å¯åè‡ªåŠ¨æ¢å¤ä»£ç†çŠ¶æ€

### ğŸŒ Web æ§åˆ¶å°

#### è®¿é—®æ§åˆ¶å°

```bash
$ clash-cli ui
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                ğŸ˜¼ Web æ§åˆ¶å°                  â•‘
â•‘â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•‘
â•‘                                               â•‘
â•‘     ğŸ”“ æ³¨æ„æ”¾è¡Œç«¯å£ï¼š9090                      â•‘
â•‘     ğŸŒ é¢æ¿åœ°å€ï¼šhttp://127.0.0.1:9090/ui     â•‘
â•‘                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

#### å®‰å…¨è®¾ç½®

```bash
# è®¾ç½®è®¿é—®å¯†é’¥
$ clash-cli secret mypassword123
ğŸ˜¼ å¯†é’¥æ›´æ–°æˆåŠŸï¼Œå·²é‡å¯ç”Ÿæ•ˆ

# æŸ¥çœ‹å½“å‰å¯†é’¥
$ clash-cli secret
ğŸ˜¼ å½“å‰å¯†é’¥ï¼šmypassword123

# æ¸…é™¤å¯†é’¥ï¼ˆè®¾ä¸ºç©ºï¼‰
$ clash-cli secret ""
ğŸ˜¼ å¯†é’¥æ›´æ–°æˆåŠŸï¼Œå·²é‡å¯ç”Ÿæ•ˆ
```

### ğŸ“¡ è®¢é˜…ç®¡ç†

#### æ‰‹åŠ¨æ›´æ–°è®¢é˜…

```bash
# ä½¿ç”¨æ–°çš„è®¢é˜…é“¾æ¥æ›´æ–°
$ clash-cli update https://your-subscription-url.com
ğŸ‘Œ æ­£åœ¨ä¸‹è½½ï¼šåŸé…ç½®å·²å¤‡ä»½...
ğŸƒ ä¸‹è½½æˆåŠŸï¼šå†…æ ¸éªŒè¯é…ç½®...
ğŸƒ è®¢é˜…æ›´æ–°æˆåŠŸ

# ä½¿ç”¨ä¸Šæ¬¡çš„è®¢é˜…é“¾æ¥æ›´æ–°
$ clash-cli update
ğŸƒ è®¢é˜…æ›´æ–°æˆåŠŸ

# æŸ¥çœ‹æ›´æ–°æ—¥å¿—
$ clash-cli update log
âœ… [2025-01-27 10:30:15] è®¢é˜…æ›´æ–°æˆåŠŸï¼šhttps://your-subscription-url.com
âœ… [2025-01-27 08:15:22] è®¢é˜…æ›´æ–°æˆåŠŸï¼šhttps://your-subscription-url.com
```

#### è‡ªåŠ¨æ›´æ–°è®¾ç½®

```bash
# è®¾ç½®è‡ªåŠ¨æ›´æ–°ï¼ˆæ¯2å¤©å‡Œæ™¨æ›´æ–°ï¼‰
$ clash-cli update auto
ğŸ˜¼ å·²è®¾ç½®å®šæ—¶æ›´æ–°è®¢é˜…

# è®¾ç½®è‡ªåŠ¨æ›´æ–°å¹¶æŒ‡å®šæ–°çš„è®¢é˜…é“¾æ¥
$ clash-cli update auto https://new-subscription-url.com
ğŸ˜¼ å·²è®¾ç½®å®šæ—¶æ›´æ–°è®¢é˜…

# æŸ¥çœ‹å®šæ—¶ä»»åŠ¡
$ crontab -l | grep clash-cli
0 0 */2 * * /bin/bash -i -c 'clash-cli update https://your-subscription-url.com'
```

### ğŸ“¦ å®‰è£…é€‰é¡¹è¯¦è§£

#### ç½‘ç»œå®‰è£… vs ç¦»çº¿å®‰è£…

```bash
# ç½‘ç»œå®‰è£…ï¼ˆæ¨èï¼‰- è‡ªåŠ¨ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
sudo clash-cli install

# ç¦»çº¿å®‰è£… - ä½¿ç”¨é¢„ç½®çš„ç¨³å®šç‰ˆæœ¬ï¼ˆä»…æ”¯æŒ AMD64ï¼‰
sudo clash-cli install --offline

# æ‰‹åŠ¨æŒ‡å®šå·¥å…·æ–‡ä»¶ - é€‚ç”¨äºç‰¹æ®Šç½‘ç»œç¯å¢ƒ
sudo clash-cli install --offline --mihomo /path/to/mihomo-linux-amd64-v1.19.2.gz --yq /path/to/yq_linux_amd64.tar.gz
```

#### ç½‘ç»œä¸‹è½½å¤±è´¥æ—¶çš„è§£å†³æ–¹æ¡ˆ

å¦‚æœç½‘ç»œä¸‹è½½å¤±è´¥ï¼Œç³»ç»Ÿä¼šæç¤ºï¼š

```
ğŸ¤” ç½‘ç»œä¸‹è½½å¤±è´¥ï¼

ğŸ’¡ è§£å†³æ–¹æ¡ˆï¼š
   1. ä½¿ç”¨é¢„ç½®ç‰ˆæœ¬ï¼šclash-cli install --offline
   2. æ‰‹åŠ¨ä¸‹è½½æ–‡ä»¶ï¼šclash-cli install --offline --mihomo <path> --yq <path>

ğŸ“¥ æ‰‹åŠ¨ä¸‹è½½åœ°å€ï¼š
   mihomo: https://github.com/MetaCubeX/mihomo/releases/latest
```

#### æ‰‹åŠ¨ä¸‹è½½æ­¥éª¤

1. **ä¸‹è½½ Mihomo å†…æ ¸**ï¼š
   - è®¿é—®ï¼šhttps://github.com/MetaCubeX/mihomo/releases/latest
   - ä¸‹è½½ï¼š`mihomo-linux-amd64-v{version}.gz`

2. **ä¸‹è½½ YQ å·¥å…·**ï¼š
   - è®¿é—®ï¼šhttps://github.com/mikefarah/yq/releases/latest
   - ä¸‹è½½ï¼š`yq_linux_amd64.tar.gz`

3. **ä½¿ç”¨ä¸‹è½½çš„æ–‡ä»¶å®‰è£…**ï¼š
   ```bash
   sudo clash-cli install --offline \
     --mihomo /path/to/mihomo-linux-amd64-v1.19.2.gz \
     --yq /path/to/yq_linux_amd64.tar.gz
   ```

### ğŸ”§ é«˜çº§åŠŸèƒ½

#### Tun æ¨¡å¼

```bash
# æŸ¥çœ‹ Tun çŠ¶æ€
$ clash-cli tun
ğŸ˜¾ Tun çŠ¶æ€ï¼šå…³é—­

# å¼€å¯ Tun æ¨¡å¼
$ clash-cli tun on
ğŸ˜¼ Tun æ¨¡å¼å·²å¼€å¯

# å…³é—­ Tun æ¨¡å¼
$ clash-cli tun off
ğŸ˜¼ Tun æ¨¡å¼å·²å…³é—­
```

#### Mixin é…ç½®ç®¡ç†

```bash
# æŸ¥çœ‹ mixin é…ç½®
$ clash-cli mixin
ğŸ˜¼ less æŸ¥çœ‹ mixin é…ç½®

# ç¼–è¾‘ mixin é…ç½®
$ clash-cli mixin -e
ğŸ˜¼ vim ç¼–è¾‘ mixin é…ç½®

# æŸ¥çœ‹è¿è¡Œæ—¶é…ç½®ï¼ˆåˆå¹¶åçš„æœ€ç»ˆé…ç½®ï¼‰
$ clash-cli mixin -r
ğŸ˜¼ less æŸ¥çœ‹ è¿è¡Œæ—¶ é…ç½®
```

### ğŸŒ è¯­è¨€åˆ‡æ¢

```bash
# æŸ¥çœ‹å½“å‰è¯­è¨€
$ clash-cli lang
å½“å‰è¯­è¨€ï¼šä¸­æ–‡ (zh)

# åˆ‡æ¢åˆ°è‹±æ–‡
$ clash-cli lang en
Language switched to English

# åˆ‡æ¢åˆ°ä¸­æ–‡
$ clash-cli lang zh
è¯­è¨€å·²åˆ‡æ¢ä¸ºä¸­æ–‡
```

## ğŸ—‘ï¸ å¸è½½

### å¸è½½æ–¹å¼å¯¹æ¯”

| å®‰è£…æ–¹å¼ | å¸è½½å‘½ä»¤ | è¯´æ˜ |
|----------|----------|------|
| **Python åŒ…** | `pip uninstall clash-cli` | å¸è½½ clash-cli å·¥å…· |
| **Shell è„šæœ¬** | `sudo bash uninstall.sh` | è¿è¡Œå¸è½½è„šæœ¬ |

### å®Œæ•´å¸è½½æ­¥éª¤

**æ— è®ºå“ªç§å®‰è£…æ–¹å¼ï¼Œéƒ½éœ€è¦å…ˆåœæ­¢æœåŠ¡**ï¼š

```bash
# 1. åœæ­¢ä»£ç†æœåŠ¡
clash-cli off

# 2. æ ¹æ®å®‰è£…æ–¹å¼é€‰æ‹©å¸è½½å‘½ä»¤
# Python åŒ…æ–¹å¼ï¼š
pip uninstall clash-cli

# Shell è„šæœ¬æ–¹å¼ï¼š
sudo bash uninstall.sh
```

> **æ³¨æ„**ï¼šå¸è½½å Clash æœåŠ¡é…ç½®å’Œæ•°æ®ä¼šè¢«å®Œå…¨æ¸…é™¤

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) è®¸å¯è¯ã€‚

## â­ Star History

<a href="https://www.star-history.com/#whillhill/clash-cli&Date">
 <picture>
   <source media="(prefers-color-scheme: dark)" srcset="https://api.star-history.com/svg?repos=whillhill/clash-cli&type=Date&theme=dark" />
   <source media="(prefers-color-scheme: light)" srcset="https://api.star-history.com/svg?repos=whillhill/clash-cli&type=Date" />
   <img alt="Star History Chart" src="https://api.star-history.com/svg?repos=whillhill/clash-cli&type=Date" />
 </picture>
</a>

## âš ï¸ å…è´£å£°æ˜

æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ã€‚ä½¿ç”¨æœ¬å·¥å…·æ‰€äº§ç”Ÿçš„ä»»ä½•åæœç”±ç”¨æˆ·è‡ªè¡Œæ‰¿æ‹…ã€‚
