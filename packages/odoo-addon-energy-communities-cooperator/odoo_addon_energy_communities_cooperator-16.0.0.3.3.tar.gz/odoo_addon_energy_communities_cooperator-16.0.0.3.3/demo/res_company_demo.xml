
<odoo>
  <data>
    <record id="base.main_company" model="res.company">
      <field name="coop_email_contact">somcomunitats@coop.coop</field>
    </record>

    <record id="energy_communities.coordinator_company_1" model="res.company">
      <field name="coop_email_contact">oecoop@coop.coop</field>
    </record>

    <record
      id="energy_communities.energy_community_company_1_wizard"
      model="account.multicompany.easy.creation.wiz"
    >
      <field name="capital_share">200</field>
      <field
        name="product_share_template"
        eval="ref('share_capital_product_template')"
      />
      <field name="property_cooperator_account" ref="l10n_es.account_common_4300" />
    </record>

    <record
      id="energy_communities.energy_community_company_2_wizard"
      model="account.multicompany.easy.creation.wiz"
    >
      <field name="capital_share">100</field>
      <field
        name="product_share_template"
        eval="ref('share_capital_product_template')"
      />
      <field name="property_cooperator_account" ref="l10n_es.account_common_4300" />
    </record>
  </data>

  <data noupdate="1">
    <function
      name="action_accept"
      model="account.multicompany.easy.creation.wiz"
      eval="[[ref('energy_communities.energy_community_company_1_wizard')]]"
    />
    <function name="write" model="res.company">
      <value
        model="account.multicompany.easy.creation.wiz"
        eval="[obj(ref('energy_communities.energy_community_company_1_wizard')).new_company_id.id]"
      />
      <value
        eval="{'coop_email_contact':'sants@coop.coop',
        'email':'sants@fake.com',
        'default_lang_id': ref('base.lang_ca_ES')}"
      />
    </function>
    <function name="write" model="account.payment.mode">
      <value
        model="account.payment.mode"
        eval="[obj(ref('account_banking_sepa_direct_debit.payment_mode_inbound_sepa_dd1')).id]"
      />
      <value
        model="account.multicompany.easy.creation.wiz"
        eval="{
         'company_id': obj(ref('energy_communities.energy_community_company_1_wizard')).new_company_id.id
        }"
      />
    </function>

    <function
      name="action_accept"
      model="account.multicompany.easy.creation.wiz"
      eval="[[ref('energy_communities.energy_community_company_2_wizard')]]"
    />
    <function name="write" model="res.company">
      <value
        model="account.multicompany.easy.creation.wiz"
        eval="[obj(ref('energy_communities.energy_community_company_2_wizard')).new_company_id.id]"
      />
      <value
        eval="{'coop_email_contact':'villanoveta@coop.coop','email':'villanoveta@fake.com','default_lang_id': ref('base.lang_es')}"
      />
    </function>
  </data>
</odoo>

