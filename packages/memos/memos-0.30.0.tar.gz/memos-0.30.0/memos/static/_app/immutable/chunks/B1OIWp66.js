import{T as S,U as o,V as I,W as N,X as Y,Y as q,Z as O,_ as U,$ as y,a0 as D,a1 as m,a2 as F,a3 as Z,a4 as R,a5 as B,a6 as x,a7 as C,a8 as H,a9 as M,aa as P,g as V,S as W}from"./C9KeVW1e.js";function $(f,t,c=!1){o&&I();var s=f,e=null,a=null,r=Z,d=c?N:0,l=!1;const _=(u,n=!0)=>{l=!0,T(n,u)};var i=null;function p(){i!==null&&(i.lastChild.remove(),s.before(i),i=null);var u=r?e:a,n=r?a:e;u&&B(u),n&&x(n,()=>{r?a=null:e=null})}const T=(u,n)=>{if(r===(r=u))return;let g=!1;if(o){const L=Y(s)===q;!!r===L&&(s=O(),U(s),y(!1),g=!0)}var k=R(),v=s;if(k&&(i=document.createDocumentFragment(),i.append(v=D())),r?e??(e=n&&m(()=>n(v))):a??(a=n&&m(()=>n(v))),k){var h=F,b=r?e:a,E=r?a:e;b&&h.skipped_effects.delete(b),E&&h.skipped_effects.add(E),h.add_callback(p)}else p();g&&y(!0)};S(()=>{l=!1,t(_),l||T(null,null)},d),o&&(s=C)}function j(f,t,c){o&&I();var s=f,e,a,r=null,d=null;function l(){a&&(x(a),a=null),r&&(r.lastChild.remove(),s.before(r),r=null),a=d,d=null}S(()=>{if(e!==(e=t())){var _=R();if(e){var i=s;_&&(r=document.createDocumentFragment(),r.append(i=D())),d=m(()=>c(i,e))}_?F.add_callback(l):l()}},N),o&&(s=C)}function A(f,t){return f===t||(f==null?void 0:f[W])===t}function w(f={},t,c,s){return H(()=>{var e,a;return M(()=>{e=a,a=[],V(()=>{f!==c(...a)&&(t(f,...a),e&&A(c(...e),f)&&t(null,...e))})}),()=>{P(()=>{a&&A(c(...a),f)&&t(null,...a)})}}),f}export{w as b,j as c,$ as i};
