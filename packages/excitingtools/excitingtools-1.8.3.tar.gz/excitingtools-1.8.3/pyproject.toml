[project]
name = "excitingtools"
description = "Utilities for aiding in the construction of exciting inputs and the postprocessing exciting outputs."
version = "1.8.3"
authors = [
    {name = "Alexander Buccheri", email = "alexander.buccheri@mpsd.mpg.de"},
    {name = "Fabian Peschel", email = "peschelf@physik.hu-berlin.de"}
]
license = {text = "GNU GENERAL PUBLIC LICENSE, see 'COPYING.md'"}
readme = "README.md"
requires-python = ">=3.7"

dependencies = [
    "numpy>=1.20.0",
    "matplotlib>=2.2.0",
    "importlib-metadata>=6.0; python_version < '3.8'"
]

[project.optional-dependencies]
dev = [
    "pytest",
    "ase>=3.20.0",
    "ruff==0.11.2",
]
schemaparsing = ["xmlschema"]
h5_parsing = ["h5py"]
serialisation = ["monty"]


[project.urls]
repository = "https://github.com/exciting/excitingtools"

[build-system]
requires = [
    "setuptools >= 35.0.2",
    "setuptools_scm >= 2.0.0, <3"
]
build-backend = "setuptools.build_meta"

[tool.setuptools]
packages = ["excitingtools"]

[tool.ruff]
line-length = 120
extend-exclude = ["build/*", "valid_attributes.py"]

[tool.ruff.format]
skip-magic-trailing-comma = true

[tool.ruff.lint]
ignore = [
    "E741",  # ambigous variable name like 'l'
    "UP006",  # py3.7 doesn't support type hinting with built-in 'list'
    "UP007",  # py3.7 doesn't support type hinting with 'X | Y'
    "COM812",  # problems with linter
    "ISC001",  # problems with linter, see https://github.com/astral-sh/ruff/issues/8272
    "RET504",  # Unnecessary assignment
    "PLR2004",  # magic values, maybe reintroduce at some point
]
extend-select = [
    "I",  # sort imports
    "UP",  # pyupgrade
    "COM",  # trailing commas
    "ISC",  # implicit string concats
    "PIE",  # flake8-pie
    "T20",  # no print statements
    "Q",  # Quotes
    "RET",  # return statements
    "SIM",  # flake8 simplify
    "ARG",  # unused arguments
    "ERA",  # commented-out code
    "NPY",  # find deprecated numpy code
    "PERF",  # perflint
    "PL",  # pylint
]

[tool.ruff.lint.isort]
split-on-trailing-comma = false

[tool.ruff.lint.pylint]
max-args = 7
max-branches = 14
max-statements = 60
