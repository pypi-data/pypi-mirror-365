(window.webpackJsonpfeffery_utils_components=window.webpackJsonpfeffery_utils_components||[]).push([[28],{568:function(t,e,i){"use strict";i.r(e);var o=i(1),r=i(597),n=i.n(r),s=i(733),a=i(30),p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var l=function(){return(l=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var h={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},f=function(t){function e(e){var i=t.call(this,e)||this;return i.resizingPosition={x:0,y:0},i.offsetFromParent={left:0,top:0},i.resizableElement={current:null},i.originalPosition={x:0,y:0},i.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:e.maxWidth,maxHeight:e.maxHeight},i.onResizeStart=i.onResizeStart.bind(i),i.onResize=i.onResize.bind(i),i.onResizeStop=i.onResizeStop.bind(i),i.onDragStart=i.onDragStart.bind(i),i.onDrag=i.onDrag.bind(i),i.onDragStop=i.onDragStop.bind(i),i.getMaxSizesFromProps=i.getMaxSizesFromProps.bind(i),i}return function(t,e){function i(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var t=this.offsetFromParent,e=t.left,i=t.top,o=this.getDraggablePosition(),r=o.x,n=o.y;this.draggable.setState({x:r-e,y:n-i}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var t=this.draggable.state;return{x:t.x,y:t.y}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/e;case"body":return document.body.offsetHeight/e;default:return t.offsetHeight}},e.prototype.getOffsetWidth=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/e;case"body":return document.body.offsetWidth/e;default:return t.offsetWidth}},e.prototype.onDragStart=function(t,e){this.props.onDragStart&&this.props.onDragStart(t,e);var i=this.getDraggablePosition();if(this.originalPosition=i,this.props.bounds){var o,r=this.getParent(),n=this.props.scale;if("parent"===this.props.bounds)o=r;else{if("body"===this.props.bounds){var s=r.getBoundingClientRect(),a=s.left,p=s.top,l=document.body.getBoundingClientRect(),h=-(a-r.offsetLeft*n-l.left)/n,f=-(p-r.offsetTop*n-l.top)/n,d=(document.body.offsetWidth-this.resizable.size.width*n)/n+h,c=(document.body.offsetHeight-this.resizable.size.height*n)/n+f;return this.setState({bounds:{top:f,right:d,bottom:c,left:h}})}if("window"===this.props.bounds){if(!this.resizable)return;var u=r.getBoundingClientRect(),g=u.left,b=u.top,y=-(g-r.offsetLeft*n)/n,m=-(b-r.offsetTop*n)/n;d=(window.innerWidth-this.resizable.size.width*n)/n+y,c=(window.innerHeight-this.resizable.size.height*n)/n+m;return this.setState({bounds:{top:m,right:d,bottom:c,left:y}})}"string"==typeof this.props.bounds?o=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(o=this.props.bounds)}if(o instanceof HTMLElement&&r instanceof HTMLElement){var x=o.getBoundingClientRect(),S=x.left,z=x.top,v=r.getBoundingClientRect(),w=(S-v.left)/n,P=z-v.top;if(this.resizable){this.updateOffsetFromParent();var R=this.offsetFromParent;this.setState({bounds:{top:P-R.top,right:w+(o.offsetWidth-this.resizable.size.width)-R.left/n,bottom:P+(o.offsetHeight-this.resizable.size.height)-R.top,left:w-R.left/n}})}}}},e.prototype.onDrag=function(t,e){if(this.props.onDrag){var i=this.offsetFromParent,o=i.left,r=i.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDrag(t,l(l({},e),{x:e.x+o,y:this.originalPosition.y+r,deltaY:0})):"y"===this.props.dragAxis?this.props.onDrag(t,l(l({},e),{x:this.originalPosition.x+o,y:e.y+r,deltaX:0})):void 0:this.props.onDrag(t,l(l({},e),{x:e.x+o,y:e.y+r}))}},e.prototype.onDragStop=function(t,e){if(this.props.onDragStop){var i=this.offsetFromParent,o=i.left,r=i.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDragStop(t,l(l({},e),{x:e.x+o,y:this.originalPosition.y+r,deltaY:0})):"y"===this.props.dragAxis?this.props.onDragStop(t,l(l({},e),{x:this.originalPosition.x+o,y:e.y+r,deltaX:0})):void 0:this.props.onDragStop(t,l(l({},e),{x:e.x+o,y:e.y+r}))}},e.prototype.onResizeStart=function(t,e,i){t.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,r=this.offsetFromParent,n=this.getDraggablePosition();if(this.resizingPosition={x:n.x+r.left,y:n.y+r.top},this.originalPosition=n,this.props.bounds){var s=this.getParent(),a=void 0;"parent"===this.props.bounds?a=s:"body"===this.props.bounds?a=document.body:"window"===this.props.bounds?a=window:"string"==typeof this.props.bounds?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);var p=this.getSelfElement();if(p instanceof Element&&(a instanceof HTMLElement||a===window)&&s instanceof HTMLElement){var l=this.getMaxSizesFromProps(),h=l.maxWidth,f=l.maxHeight,d=this.getParentSize();if(h&&"string"==typeof h)if(h.endsWith("%")){var c=Number(h.replace("%",""))/100;h=d.width*c}else h.endsWith("px")&&(h=Number(h.replace("px","")));if(f&&"string"==typeof f)if(f.endsWith("%")){c=Number(f.replace("%",""))/100;f=d.height*c}else f.endsWith("px")&&(f=Number(f.replace("px","")));var u=p.getBoundingClientRect(),g=u.left,b=u.top,y="window"===this.props.bounds?{left:0,top:0}:a.getBoundingClientRect(),m=y.left,x=y.top,S=this.getOffsetWidth(a),z=this.getOffsetHeight(a),v=e.toLowerCase().endsWith("left"),w=e.toLowerCase().endsWith("right"),P=e.startsWith("top"),R=e.startsWith("bottom");if((v||P)&&this.resizable){var D=(g-m)/o+this.resizable.size.width;this.setState({maxWidth:D>Number(h)?h:D})}if(w||this.props.lockAspectRatio&&!v&&!P){D=S+(m-g)/o;this.setState({maxWidth:D>Number(h)?h:D})}if((P||v)&&this.resizable){D=(b-x)/o+this.resizable.size.height;this.setState({maxHeight:D>Number(f)?f:D})}if(R||this.props.lockAspectRatio&&!P&&!v){D=z+(x-b)/o;this.setState({maxHeight:D>Number(f)?f:D})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(t,e,i)},e.prototype.onResize=function(t,e,i,o){var r=this,n={x:this.originalPosition.x,y:this.originalPosition.y},s=-o.width,p=-o.height;["top","left","topLeft","bottomLeft","topRight"].includes(e)&&("bottomLeft"===e?n.x+=s:("topRight"===e||(n.x+=s),n.y+=p));var l=this.draggable.state;n.x===l.x&&n.y===l.y||Object(a.flushSync)((function(){r.draggable.setState(n)})),this.updateOffsetFromParent();var h=this.offsetFromParent,f=this.getDraggablePosition().x+h.left,d=this.getDraggablePosition().y+h.top;this.resizingPosition={x:f,y:d},this.props.onResize&&this.props.onResize(t,e,i,o,{x:f,y:d})},e.prototype.onResizeStop=function(t,e,i,o){this.setState({resizing:!1});var r=this.getMaxSizesFromProps(),n=r.maxWidth,s=r.maxHeight;this.setState({maxWidth:n,maxHeight:s}),this.props.onResizeStop&&this.props.onResizeStop(t,e,i,o,this.resizingPosition)},e.prototype.updateSize=function(t){this.resizable&&this.resizable.updateSize({width:t.width,height:t.height})},e.prototype.updatePosition=function(t){this.draggable.setState(t)},e.prototype.updateOffsetFromParent=function(){var t=this.props.scale,e=this.getParent(),i=this.getSelfElement();if(!e||null===i)return{top:0,left:0};var o=e.getBoundingClientRect(),r=o.left,n=o.top,s=i.getBoundingClientRect(),a=this.getDraggablePosition(),p=e.scrollLeft,l=e.scrollTop;this.offsetFromParent={left:s.left-r+p-a.x*t,top:s.top-n+l-a.y*t}},e.prototype.render=function(){var t=this,e=this.props,i=e.disableDragging,r=e.style,a=e.dragHandleClassName,p=e.position,f=e.onMouseDown,d=e.onMouseUp,c=e.dragAxis,u=e.dragGrid,g=e.bounds,b=e.enableUserSelectHack,y=e.cancel,m=e.children,x=(e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop,e.resizeHandleStyles),S=e.resizeHandleClasses,z=e.resizeHandleComponent,v=e.enableResizing,w=e.resizeGrid,P=e.resizeHandleWrapperClass,R=e.resizeHandleWrapperStyle,D=e.scale,H=e.allowAnyClick,O=e.dragPositionOffset,W=function(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]])}return i}(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),A=this.props.default?l({},this.props.default):void 0;delete W.default;var E,j=i||a?{cursor:"auto"}:{cursor:"move"},C=l(l(l({},h),j),r),k=this.offsetFromParent,M=k.left,N=k.top;p&&(E={x:p.x-M,y:p.y-N});var F,T=this.state.resizing?void 0:E,_=this.state.resizing?"both":c;return Object(o.createElement)(n.a,{ref:function(e){e&&(t.draggable=e)},handle:a?".".concat(a):void 0,defaultPosition:A,onMouseDown:f,onMouseUp:d,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:_,disabled:i,grid:u,bounds:g?this.state.bounds:void 0,position:T,enableUserSelectHack:b,cancel:y,scale:D,allowAnyClick:H,nodeRef:this.resizableElement,positionOffset:O},Object(o.createElement)(s.a,l({},W,{ref:function(e){e&&(t.resizable=e,t.resizableElement.current=e.resizable)},defaultSize:A,size:this.props.size,enable:"boolean"==typeof v?(F=v,{bottom:F,bottomLeft:F,bottomRight:F,left:F,right:F,top:F,topLeft:F,topRight:F}):v,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:C,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:w,handleWrapperClass:P,handleWrapperStyle:R,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:x,handleClasses:S,handleComponent:z,scale:this.props.scale}),m))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(o.PureComponent),d=i(18),c=i(3),u=i(249);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach((function(e){m(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function m(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!=g(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==g(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o,r,n,s,a=[],p=!0,l=!1;try{if(n=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;p=!1}else for(;!(p=(o=n.call(i)).done)&&(a.push(o.value),a.length!==e);p=!0);}catch(t){l=!0,r=t}finally{try{if(!p&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(l)throw r}}return a}}(t,e)||S(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){if(t){if("string"==typeof t)return z(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?z(t,e):void 0}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=Array(e);i<e;i++)o[i]=t[i];return o}var v=function(t){var e=t.id,i=t.style,r=t.className,n=t.children,s=t.defaultState,a=t.size,p=t.position,l=t.minWidth,h=t.minHeight,u=t.maxWidth,g=t.maxHeight,b=t.resizeGrid,m=t.dragGrid,z=t.lockAspectRatio,v=t.lockAspectRatioExtraWidth,w=t.lockAspectRatioExtraHeight,P=t.direction,R=t.disableDragging,D=t.dragAxis,H=t.bounds,O=t.selected,W=t.selectedStyle,A=t.selectedClassName,E=t.setProps,j=x(Object(o.useState)(0),2),C=j[0],k=j[1];Object(o.useEffect)((function(){!a&&s.width&&s.height&&E({size:{width:s.width,height:s.height}}),p||!s.x&&0!==s.x||!s.y&&0!==s.y||E({position:{x:s.x,y:s.y}})}),[]);var M,N=Object(d.clone)({top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1}),F=function(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=S(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,n=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw n}}}}(P);try{for(F.s();!(M=F.n()).done;){N[M.value]=!0}}catch(t){F.e(t)}finally{F.f()}return React.createElement(f,{id:e,style:y(y({},i),O?W:{}),className:O&&A?r+" "+A:r,default:s,size:a,position:p,minWidth:l,minHeight:h,maxWidth:u,maxHeight:g,resizeGrid:b,dragGrid:m,lockAspectRatio:z,lockAspectRatioExtraWidth:v,lockAspectRatioExtraHeight:w,enableResizing:N,disableDragging:R,dragAxis:D,bounds:H,onDragStop:function(t,e){!p||p.x===e.x&&p.y===e.y||k((new Date).getTime()),E({position:{x:e.x,y:e.y}})},onResizeStop:function(t,e,i,o,r){k((new Date).getTime()),E({size:{width:i.style.width,height:i.style.height},position:{x:r.x,y:r.y}})},onClick:function(){(new Date).getTime()-C>=200&&E({selected:!O})},"data-dash-is-loading":Object(c.d)()},n)};e.default=v;v.defaultProps=u.b,v.propTypes=u.c}}]);
//# sourceMappingURL=async-feffery_rnd.js.map
//# sourceMappingURL=async-feffery_rnd.js.map