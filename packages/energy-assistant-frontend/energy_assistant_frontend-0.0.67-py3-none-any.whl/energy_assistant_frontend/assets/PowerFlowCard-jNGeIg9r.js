import{f as u}from"./utils-D98hIld_.js";import{n as C}from"./transition-BAtvBeuS.js";import{B as _,c as d,E as n,t as o,m as y,G as e,I as i,J as m,H as g,q as S,w as k,M as c}from"./index-Cp3-A7ao.js";import{b as E,a as M}from"./VCard-D5wKeDng.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"w-full"},V={class:"grid w-full grid-cols-3 text-sm"},W={class:"text-sun"},j={class:"place-self-center"},$={class:"text-grid float-right"},le=_({__name:"SelfSufficiencyBar",props:{selfSufficiency:{type:Number,required:!0},consumedSolarEnergy:{type:Number,required:!0},consumedEnergy:{type:Number,required:!0},unit:{type:String,default:"kWh"}},setup(l){const s=l,p=d(()=>s.consumedEnergy-s.consumedSolarEnergy);return(f,a)=>(o(),n("div",N,[y(C,{color:"sun","bg-color":"grid",height:"15",rounded:"","model-value":l.selfSufficiency},null,8,["model-value"]),e("div",V,[e("div",W,[a[0]||(a[0]=e("span",{class:"mdi mdi-solar-power"},null,-1)),e("span",null,i(m(u)(l.consumedSolarEnergy,l.unit)),1)]),e("div",j,[e("span",null,i(l.selfSufficiency.toFixed(0))+"%",1)]),e("div",null,[e("span",$,[g(i(m(u)(p.value,l.unit)),1),a[1]||(a[1]=e("span",{class:"mdi mdi-transmission-tower"},null,-1))])])])]))}}),I={class:"relative mx-auto"},q={class:"h-full w-full",viewBox:"0 0 200 180"},H={key:0,r:"2",class:"fill-sun"},L=["dur"],F={key:1,r:"2",class:"fill-sun"},X=["dur"],Y={key:2,r:"2",class:"fill-grid"},T=["dur"],D={class:"absolute top-0 right-0 bottom-0 left-0"},G={class:"bg-surface absolute top-5 left-1/2 grid h-20 w-20 -translate-x-1/2 transform place-items-center rounded-full text-center ring-2 ring-yellow-500"},J={class:"text-xs"},U={class:"bg-surface absolute bottom-5 left-5 grid h-20 w-20 place-items-center rounded-full text-center ring-2 ring-sky-800"},z={key:0,class:"text-xs"},A={key:0},K={key:1,class:"text-xs"},O={key:0},Q={key:1},R={class:"bg-surface absolute right-5 bottom-5 grid h-20 w-20 place-items-center rounded-full text-center ring-2 ring-blue-800"},Z={class:"text-xs"},ee=5e3,re=_({__name:"PowerFlowCard",props:{solarPower:{},homeConsumptionPower:{},gridImportedEnergy:{},gridExportedEnergy:{},unit:{}},setup(l){const s=l,p=d(()=>s.homeConsumptionPower-s.solarPower),f=d(()=>s.solarPower>s.homeConsumptionPower?s.homeConsumptionPower:s.solarPower);function a(t){return s.unit=="W"?ee/t+"s":"1.5s"}const v=t=>s.unit=="W"?t>0:!0,x=d(()=>a(f.value)),w=d(()=>{const t=s.solarPower-s.homeConsumptionPower;return t>0?t:0}),b=d(()=>a(w.value)),h=d(()=>{const t=s.homeConsumptionPower-s.solarPower;return t>0?t:0}),P=d(()=>a(h.value));return(t,r)=>(o(),S(E,{class:"elevation-2 ma-4 pa-4 w-80 rounded-md sm:w-96"},{default:k(()=>[y(M,null,{default:k(()=>[e("div",I,[(o(),n("svg",q,[r[3]||(r[3]=e("path",{id:"solar-to-home","stroke-width":"1","stroke-dasharray":"2,2",d:"M 115 65 L 145 115",class:"stroke-sun","marker-end":"url(#SvgjsMarker1005)"},null,-1)),v(f.value)?(o(),n("circle",H,[e("animateMotion",{dur:x.value,repeatCount:"indefinite",calcMode:"linear"},r[0]||(r[0]=[e("mpath",{"xlink:href":"#solar-to-home"},null,-1)]),8,L)])):c("",!0),r[4]||(r[4]=e("path",{id:"solar-to-grid","stroke-width":"1","stroke-dasharray":"2,2",d:"M 85 65 L 55 115",class:"stroke-sun","marker-end":"url(#SvgjsMarker1006)"},null,-1)),v(w.value)?(o(),n("circle",F,[e("animateMotion",{dur:b.value,repeatCount:"indefinite",calcMode:"linear"},r[1]||(r[1]=[e("mpath",{"xlink:href":"#solar-to-grid"},null,-1)]),8,X)])):c("",!0),r[5]||(r[5]=e("path",{id:"grid-to-home","stroke-width":"1","stroke-dasharray":"2,2",d:"M 70 140 L 130 140",class:"stroke-grid","marker-end":"url(#SvgjsMarker1007)"},null,-1)),v(h.value)?(o(),n("circle",Y,[e("animateMotion",{dur:P.value,repeatCount:"indefinite",calcMode:"linear"},r[2]||(r[2]=[e("mpath",{"xlink:href":"#grid-to-home"},null,-1)]),8,T)])):c("",!0),r[6]||(r[6]=e("defs",null,[e("marker",{id:"SvgjsMarker1005",markerWidth:"5",markerHeight:"5",refX:"2.5",refY:"2.5",viewBox:"0 0 5 5",orient:"auto"},[e("polygon",{points:"0,5 1.6666666666666667,2.5 0,0 5,2.5",class:"fill-sun"})]),e("marker",{id:"SvgjsMarker1006",markerWidth:"5",markerHeight:"5",refX:"2.5",refY:"2.5",viewBox:"0 0 5 5",orient:"auto"},[e("polygon",{points:"0,5 1.6666666666666667,2.5 0,0 5,2.5",class:"fill-sun"})]),e("marker",{id:"SvgjsMarker1007",markerWidth:"5",markerHeight:"5",refX:"2.5",refY:"2.5",viewBox:"0 0 5 5",orient:"auto"},[e("polygon",{points:"0,5 1.6666666666666667,2.5 0,0 5,2.5",class:"fill-grid"})])],-1))])),e("div",D,[e("div",G,[e("div",null,[r[7]||(r[7]=e("div",{class:"mdi mdi-solar-power text-sun text-2xl"},null,-1)),e("span",J,i(m(u)(t.solarPower,t.unit)),1)])]),e("div",U,[e("div",null,[r[12]||(r[12]=e("div",{class:"mdi mdi-transmission-tower text-2xl"},null,-1)),t.gridImportedEnergy?(o(),n("div",z,[e("div",null,[r[8]||(r[8]=e("span",{class:"mdi mdi-arrow-right"},null,-1)),g(" "+i(m(u)(t.gridImportedEnergy,t.unit)),1)]),t.gridExportedEnergy?(o(),n("div",A,[r[9]||(r[9]=e("span",{class:"mdi mdi-arrow-left"},null,-1)),g(" "+i(m(u)(t.gridExportedEnergy,t.unit)),1)])):c("",!0)])):(o(),n("div",K,[p.value>0?(o(),n("span",O,[r[10]||(r[10]=e("span",{class:"mdi mdi-arrow-right"},null,-1)),g(" "+i(m(u)(p.value,t.unit)),1)])):(o(),n("span",Q,[r[11]||(r[11]=e("span",{class:"mdi mdi-arrow-left"},null,-1)),g(" "+i(m(u)(-p.value,t.unit)),1)]))]))])]),e("div",R,[e("div",null,[r[13]||(r[13]=e("div",{class:"mdi mdi-home text-2xl"},null,-1)),e("span",Z,i(m(u)(t.homeConsumptionPower,t.unit)),1)])])])])]),_:1})]),_:1}))}}),ae=B(re,[["__scopeId","data-v-b39d8694"]]);export{ae as P,le as _};
