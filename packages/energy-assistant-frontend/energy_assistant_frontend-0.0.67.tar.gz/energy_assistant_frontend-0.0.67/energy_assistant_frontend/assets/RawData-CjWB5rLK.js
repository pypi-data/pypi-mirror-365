import{l as q,p as G,y as J,d as K,c as z,a2 as O,a3 as Q,m as h,a4 as W,B as $,C as P,q as w,w as V,t as r,G as o,I as a,J as t,E as l,F as I,M as u,K as x,r as v,P as X,o as Y,R as M,$ as C}from"./index-Cp3-A7ao.js";import{f as c}from"./utils-D98hIld_.js";import{b as A}from"./VCard-D5wKeDng.js";import{V as F}from"./VTable-MDvxnV4n.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Z,a as ee}from"./VToolbar-jYZfQvPG.js";import{m as se,a as D,V as te}from"./VSelect-CF9-iJpd.js";import{u as oe,m as ae,V as B}from"./VInput-BVhPJyoq.js";import{a as re}from"./transition-BAtvBeuS.js";import"./VImg-tOz2PgiP.js";import"./index-DkrqsE6v.js";import"./VTextField-D20FHtqI.js";import"./forwardRefs-o1fhiqtU.js";import"./VOverlay-BvbqXTj9.js";import"./scopeId-BFshC2jm.js";import"./VSlideGroup-BrMBqUtb.js";import"./resizeObserver-BoHHG32A.js";import"./VSelectionControl-Cd3GaTT-.js";const le=G({...ae(),...O(se(),["inline"])},"VCheckbox"),ne=q()({name:"VCheckbox",inheritAttrs:!1,props:le(),emits:{"update:modelValue":i=>!0,"update:focused":i=>!0},setup(i,d){let{attrs:m,slots:e}=d;const _=J(i,"modelValue"),{isFocused:s,focus:n,blur:y}=oe(i),f=K(),g=z(()=>i.id||`checkbox-${f}`);return re(()=>{const[p,k]=Q(m),U=B.filterProps(i),N=D.filterProps(i);return h(B,W({class:["v-checkbox",i.class]},p,U,{modelValue:_.value,"onUpdate:modelValue":b=>_.value=b,id:g.value,focused:s.value,style:i.style}),{...e,default:b=>{let{id:R,messagesId:H,isDisabled:L,isReadonly:j,isValid:E}=b;return h(D,W(N,{id:R.value,"aria-describedby":H.value,disabled:L.value,readonly:j.value},k,{error:E.value===!1,modelValue:_.value,"onUpdate:modelValue":S=>_.value=S,onFocus:n,onBlur:y}),e)}})}),{}}}),de={class:"bg-primary"},ue={class:"w-24 px-6 py-3"},ce={class:"w-36 px-6 py-3"},ie={class:"w-36 px-6 py-3"},_e={class:"w-36 px-6 py-3"},me={class:"w-36 px-6 py-3"},pe={class:"w-36 px-6 py-3"},he={class:"px-6 py-4"},ye={class:"px-6 py-4"},ve={key:0},ge={key:1},ke={class:"px-6 py-4"},fe={key:0},we={key:1},Ve={class:"px-6 py-4"},be={key:0},Me={key:1},$e={class:"px-6 py-4"},We={key:0},Ce={key:1},De={class:"px-6 py-4"},Be={key:0},Pe={key:1},Ie=$({__name:"HomeMeasurementTable",props:{homeMeasurements:{},showMeterValues:{type:Boolean}},setup(i){const{t:d,d:m}=P();return(e,_)=>(r(),w(A,{class:"elevation-2 rounded-md"},{default:V(()=>[h(F,{class:"ma-4 border"},{default:V(()=>[o("thead",de,[o("tr",null,[o("th",ue,a(t(d)("raw_data.date")),1),o("th",ce,a(t(d)("consumed_solar_energy")),1),o("th",ie,a(t(d)("consumed_energy")),1),o("th",_e,a(t(d)("raw_data.produced_solar_energy")),1),o("th",me,a(t(d)("raw_data.imported_energy")),1),o("th",pe,a(t(d)("raw_data.exported_energy")),1)])]),o("tbody",null,[(r(!0),l(x,null,I(e.homeMeasurements,(s,n)=>(r(),l("tr",{key:s.id,class:"border-b text-center"},[o("td",he,a(t(m)(new Date(s.measurement_date))),1),o("td",ye,[n<e.homeMeasurements.length-1?(r(),l("p",ve,a(t(c)(s.solar_consumed_energy-e.homeMeasurements[n+1].solar_consumed_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",ge,a(t(c)(s.solar_consumed_energy,"kWh")),1)):u("",!0)]),o("td",ke,[n<e.homeMeasurements.length-1?(r(),l("p",fe,a(t(c)(s.consumed_energy-e.homeMeasurements[n+1].consumed_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",we,a(t(c)(s.consumed_energy,"kWh")),1)):u("",!0)]),o("td",Ve,[n<e.homeMeasurements.length-1?(r(),l("p",be,a(t(c)(s.solar_produced_energy-e.homeMeasurements[n+1].solar_produced_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",Me,a(t(c)(s.solar_produced_energy,"kWh")),1)):u("",!0)]),o("td",$e,[n<e.homeMeasurements.length-1?(r(),l("p",We,a(t(c)(s.grid_imported_energy-e.homeMeasurements[n+1].grid_imported_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",Ce,a(t(c)(s.grid_imported_energy,"kWh")),1)):u("",!0)]),o("td",De,[n<e.homeMeasurements.length-1?(r(),l("p",Be,a(t(c)(s.grid_exported_energy-e.homeMeasurements[n+1].grid_exported_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",Pe,a(t(c)(s.grid_exported_energy,"kWh")),1)):u("",!0)])]))),128))])]),_:1})]),_:1}))}}),xe=T(Ie,[["__scopeId","data-v-49f38d0c"]]),Ae={class:"bg-primary"},Fe={class:"w-24 px-6 py-3"},Te={class:"w-36 px-6 py-3"},Ue={class:"w-36 px-6 py-3"},Ne={class:"px-6 py-4"},Re={class:"px-6 py-4"},He={key:0},Le={key:1},je={class:"px-6 py-4"},Ee={key:0},Se={key:1},qe=$({__name:"DeviceMeasurementTable",props:{deviceMeasurements:{},showMeterValues:{type:Boolean}},setup(i){const{t:d,d:m}=P();return(e,_)=>(r(),w(A,{class:"elevation-2 rounded-md"},{default:V(()=>[h(F,{class:"ma-4 rounded-md border"},{default:V(()=>[o("thead",Ae,[o("tr",null,[o("th",Fe,a(t(d)("raw_data.date")),1),o("th",Te,a(t(d)("consumed_solar_energy")),1),o("th",Ue,a(t(d)("consumed_energy")),1)])]),o("tbody",null,[(r(!0),l(x,null,I(e.deviceMeasurements,(s,n)=>(r(),l("tr",{key:s.id,class:"border-b text-center"},[o("td",Ne,a(t(m)(new Date(s.measurement_date))),1),o("td",Re,[n<e.deviceMeasurements.length-1?(r(),l("p",He,a(t(c)(s.solar_consumed_energy-e.deviceMeasurements[n+1].solar_consumed_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",Le,a(t(c)(s.solar_consumed_energy,"kWh")),1)):u("",!0)]),o("td",je,[n<e.deviceMeasurements.length-1?(r(),l("p",Ee,a(t(c)(s.consumed_energy-e.deviceMeasurements[n+1].consumed_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",Se,a(t(c)(s.consumed_energy,"kWh")),1)):u("",!0)])]))),128))])]),_:1})]),_:1}))}}),Ge=T(qe,[["__scopeId","data-v-62575ec5"]]),Je={class:"v-full bg-background pa-4 flex min-h-screen justify-center"},Ke={key:0,class:"grid h-full w-full grid-cols-1 justify-items-center"},ze={key:1},Oe={class:"my-4 flex"},ps=$({__name:"RawData",setup(i){const d=v(),m=v(),e=v(),_=v(!1),s=v(""),y=v(!1),f=async function(g){_.value=!0,m.value=await M.getAllHomeMeasurements(),d.value=g!=""?await M.getDeviceMeasurements(g):[],_.value=!1};return X(s,()=>{console.log("Change selection: "+s.value),f(s.value)}),Y(async()=>{e.value=await M.getAllDevices(),e.value.length>0&&(s.value=e.value[0].id,console.log("Load in on mounted: "+e.value[0].id),f(e.value[0].id))}),(g,p)=>(r(),l("div",null,[h(Z,{color:"transparent",title:t(C)("app.rawdata")},null,8,["title"]),h(ee),o("div",Je,[_.value?(r(),l("div",Ke,p[2]||(p[2]=[o("span",{class:"loading loading-dots loading-lg py-2"},null,-1)]))):(r(),l("div",ze,[m.value?(r(),w(xe,{key:0,"home-measurements":m.value,"show-meter-values":y.value},null,8,["home-measurements","show-meter-values"])):u("",!0),h(te,{modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=k=>s.value=k),class:"bg-surface my-4 rounded-md",items:e.value?e.value:[],"item-title":"name","item-value":"id","single-line":""},null,8,["modelValue","items"]),d.value?(r(),w(Ge,{key:1,"device-measurements":d.value,"show-meter-values":y.value},null,8,["device-measurements","show-meter-values"])):u("",!0),o("div",Oe,[h(ne,{modelValue:y.value,"onUpdate:modelValue":p[1]||(p[1]=k=>y.value=k),label:t(C)("raw_data.show_meter_values")},null,8,["modelValue","label"])])]))])]))}});export{ps as default};
