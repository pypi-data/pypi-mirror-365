{"version":3,"file":"lib_index_js.4ebddb76005033198305.js","mappings":"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","sources":["webpack://jupyterlab-resource-tracker/./src/components/DashboardComponent.tsx","webpack://jupyterlab-resource-tracker/./src/components/SummaryComponent.tsx","webpack://jupyterlab-resource-tracker/./src/handler.ts","webpack://jupyterlab-resource-tracker/./src/index.ts","webpack://jupyterlab-resource-tracker/./src/style/IconsStyle.ts","webpack://jupyterlab-resource-tracker/./src/widgets/DashboardWidget.tsx","webpack://jupyterlab-resource-tracker/./node_modules/@mui/icons-material/esm/Refresh.js"],"sourcesContent":["import React from 'react';\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  Box,\n  IconButton,\n  CircularProgress,\n  Tooltip\n} from '@mui/material';\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport SummaryComponent from './SummaryComponent';\nimport { requestAPI } from '../handler';\nimport { Logs, Summary } from '../common/types';\nimport { showErrorMessage } from '@jupyterlab/apputils';\n\nconst DashboardComponent: React.FC = (): JSX.Element => {\n  const [summaryList, setSummaryList] = React.useState<Summary[]>([]);\n  const [loading, setLoading] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    getLogs();\n  }, []);\n\n  const getLogs = async () => {\n    setLoading(true);\n    try {\n      const response = await requestAPI<Logs>('usages-costs/logs', {\n        method: 'GET'\n      });\n\n      if (response) {\n        setSummaryList(response.summary);\n      }\n    } catch (error: any) {\n      console.error('Error fetching logs:', error);\n      let errorMessage = 'An unexpected error occurred.';\n\n      if (error && error.response && error.response.status) {\n        switch (error.response.status) {\n          case 400:\n            errorMessage = 'Invalid log file format. Please check the logs.';\n            break;\n          case 404:\n            errorMessage =\n              'Log files not found. Ensure they exist in the configured path.';\n            break;\n          case 500:\n            console.error('Error response from server:', error.response);\n            errorMessage =\n              'Server error: ' +\n              (error.response.data?.error || 'Unknown issue');\n            break;\n          default:\n            errorMessage = error.response.data?.error || 'Unexpected error.';\n        }\n      } else if (error?.message) {\n        errorMessage = error.message;\n      }\n\n      showErrorMessage('Error Fetching Logs', errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <AppBar position=\"static\" color=\"primary\">\n        <Toolbar>\n          <Typography variant=\"h6\" sx={{ flexGrow: 1 }}>\n            Dashboard\n          </Typography>\n          <Tooltip title=\"Refresh Data\">\n            <IconButton color=\"inherit\" onClick={getLogs} disabled={loading}>\n              {loading ? (\n                <CircularProgress size={24} color=\"inherit\" />\n              ) : (\n                <RefreshIcon />\n              )}\n            </IconButton>\n          </Tooltip>\n        </Toolbar>\n      </AppBar>\n      <Box sx={{ p: 2, height: '92%', overflowY: 'auto' }}>\n        <SummaryComponent summary={summaryList} loading={loading} />\n      </Box>\n    </React.Fragment>\n  );\n};\n\nexport default DashboardComponent;\n","import React from 'react';\nimport { Paper, Typography } from '@mui/material';\nimport {\n  DataGrid,\n  GridColDef,\n  GridFooterContainer,\n  GridPagination,\n  useGridApiContext,\n  useGridSelector,\n  gridFilteredSortedRowEntriesSelector,\n  GridRenderCellParams\n} from '@mui/x-data-grid';\nimport { Summary } from '../common/types';\n\ninterface SummaryComponentProps {\n  summary: Summary[];\n  loading: boolean;\n}\n\nconst SummaryComponent: React.FC<SummaryComponentProps> = (\n  props\n): JSX.Element => {\n  const columns: GridColDef[] = [\n    { field: 'id', headerName: 'ID', width: 70 },\n    { field: 'project', headerName: 'Project', width: 115 },\n    { field: 'podName', headerName: 'Username', width: 105 },\n    { field: 'usage', headerName: 'Usage (Hours)', type: 'number', width: 120 },\n    {\n      field: 'cost',\n      headerName: 'Cost',\n      type: 'number',\n      width: 80\n    },\n    { field: 'month', headerName: 'Month', width: 60, align: 'center' },\n    { field: 'year', headerName: 'Year', width: 60, align: 'center' },\n    {\n      field: 'lastUpdate',\n      headerName: 'Updated',\n      width: 135,\n      renderCell: (params: GridRenderCellParams) => {\n        const raw = params.value;\n        if (!raw || typeof raw !== 'string') {\n          return '';\n        }\n        let iso = raw;\n        // Truncate microseconds to milliseconds (keeping only 3 digits)\n        iso = iso.replace(/(\\.\\d{3})\\d+/, '$1');\n        // Convert +00:00 offset to 'Z' for UTC\n        if (iso.endsWith('+00:00')) {\n          iso = iso.replace('+00:00', 'Z');\n        }\n        const date = new Date(iso);\n        if (isNaN(date.getTime())) {\n          return '';\n        }\n        return date.toLocaleString('en-US', {\n          dateStyle: 'short',\n          timeStyle: 'short'\n        });\n      }\n    },\n    {\n      field: 'user_efs_cost',\n      headerName: 'User EFS cost',\n      type: 'number',\n      width: 140\n    },\n    {\n      field: 'project_efs_cost',\n      headerName: 'Project EFS cost',\n      type: 'number',\n      width: 150\n    }\n  ];\n\n  const paginationModel = { page: 0, pageSize: 10 };\n\n  function CustomFooter() {\n    const apiRef = useGridApiContext();\n    const rows = useGridSelector(apiRef, gridFilteredSortedRowEntriesSelector);\n    const totalComputeTime = rows.reduce(\n      (sum, rowEntry) => sum + (rowEntry.model.usage ?? 0),\n      0\n    );\n    const totalComputeCost = rows.reduce(\n      (sum, rowEntry) => sum + (rowEntry.model.cost ?? 0),\n      0\n    );\n\n    const totalUserStorageCost = rows.reduce(\n      (sum, rowEntry) => sum + (rowEntry.model.user_efs_cost ?? 0),\n      0\n    );\n\n    return (\n      <GridFooterContainer>\n        <div\n          style={{\n            width: '100%',\n            display: 'flex',\n            justifyContent: 'flex-start',\n            gap: '1rem',\n            paddingLeft: '1rem'\n          }}\n        >\n          <Typography variant=\"subtitle2\">\n            <strong>Total Computed Time (Hours):</strong>{' '}\n            {totalComputeTime.toFixed(2)}\n          </Typography>\n          <Typography variant=\"subtitle2\">\n            <strong>Total Computed Cost:</strong> {totalComputeCost.toFixed(2)}\n          </Typography>\n          <Typography variant=\"subtitle2\">\n            <strong>Total User EFS Cost:</strong>{' '}\n            {totalUserStorageCost.toFixed(2)}\n          </Typography>\n          <GridPagination />\n        </div>\n      </GridFooterContainer>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Monthly costs and usages to date\n      </Typography>\n      <Paper sx={{ p: 2, boxShadow: 3, borderRadius: 2, mb: 2 }}>\n        <DataGrid\n          slots={{ footer: CustomFooter }}\n          autoHeight\n          rows={props.summary}\n          columns={columns}\n          loading={props.loading}\n          initialState={{\n            pagination: { paginationModel },\n            columns: {\n              columnVisibilityModel: {\n                id: false\n              }\n            }\n          }}\n          pageSizeOptions={[10, 20, 30]}\n          disableRowSelectionOnClick\n          sx={{ border: 0 }}\n        />\n      </Paper>\n    </React.Fragment>\n  );\n};\n\nexport default SummaryComponent;\n","import { URLExt } from '@jupyterlab/coreutils';\n\nimport { ServerConnection } from '@jupyterlab/services';\n\n/**\n * Call the API extension\n *\n * @param endPoint API REST end point for the extension\n * @param init Initial values for the request\n * @returns The response body interpreted as JSON\n */\nexport async function requestAPI<T>(\n  endPoint = '',\n  init: RequestInit = {}\n): Promise<T> {\n  // Make request to Jupyter API\n  const settings = ServerConnection.makeSettings();\n  const requestUrl = URLExt.join(\n    settings.baseUrl,\n    'jupyterlab-resource-tracker', // API Namespace\n    endPoint\n  );\n\n  let response: Response;\n  try {\n    response = await ServerConnection.makeRequest(requestUrl, init, settings);\n  } catch (error) {\n    throw new ServerConnection.NetworkError(error as any);\n  }\n\n  let data: any = await response.text();\n\n  if (data.length > 0) {\n    try {\n      data = JSON.parse(data);\n    } catch (error) {\n      console.log('Not a JSON response body.', response);\n    }\n  }\n\n  if (!response.ok) {\n    throw new ServerConnection.ResponseError(response, data.message || data);\n  }\n\n  return data;\n}\n","import {\n  JupyterFrontEnd,\n  JupyterFrontEndPlugin\n} from '@jupyterlab/application';\nimport { ICommandPalette, MainAreaWidget } from '@jupyterlab/apputils';\nimport { ILauncher } from '@jupyterlab/launcher';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\n\nimport { requestAPI } from './handler';\n\nimport { DashboardWidget } from './widgets/DashboardWidget';\n\nimport { costTrackerIcon } from './style/IconsStyle';\n\nconst PLUGIN_ID = 'jupyterlab-resource-tracker:plugin';\nconst PALETTE_CATEGORY = 'Admin tools';\nnamespace CommandIDs {\n  export const createNew = 'jupyterlab-resource-tracker:open-dashboard';\n}\n\n/**\n * Initialization data for the jupyterlab-resource-tracker extension.\n */\nconst plugin: JupyterFrontEndPlugin<void> = {\n  id: PLUGIN_ID,\n  description: 'A JupyterLab extension.',\n  autoStart: true,\n  optional: [ISettingRegistry, ILauncher, ICommandPalette],\n  activate: (\n    app: JupyterFrontEnd,\n    settingRegistry: ISettingRegistry | null,\n    launcher: ILauncher | null,\n    palette: ICommandPalette | null\n  ) => {\n    console.log(\n      'JupyterLab extension jupyterlab-resource-tracker is activated!'\n    );\n\n    if (settingRegistry) {\n      settingRegistry\n        .load(plugin.id)\n        .then(settings => {\n          console.log(\n            'jupyterlab-resource-tracker settings loaded:',\n            settings.composite\n          );\n        })\n        .catch(reason => {\n          console.error(\n            'Failed to load settings for jupyterlab-resource-tracker.',\n            reason\n          );\n        });\n    }\n\n    requestAPI<any>('get-example')\n      .then(data => {\n        console.log(data);\n      })\n      .catch(reason => {\n        console.error(\n          `The jupyterlab_resource_tracker server extension appears to be missing.\\n${reason}`\n        );\n      });\n\n    const { commands } = app;\n    const command = CommandIDs.createNew;\n\n    // const sideBarContent = new NBQueueSideBarWidget(s3BucketId);\n    // const sideBarWidget = new MainAreaWidget<NBQueueSideBarWidget>({\n    //   content: sideBarContent\n    // });\n    // sideBarWidget.toolbar.hide();\n    // sideBarWidget.title.icon = runIcon;\n    // sideBarWidget.title.caption = 'NBQueue job list';\n    // app.shell.add(sideBarWidget, 'right', { rank: 501 });\n\n    // Define a widget creator function,\n    // then call it to make a new widget\n    const newWidget = () => {\n      // Create a blank content widget inside of a MainAreaWidget\n      const dashboardContent = new DashboardWidget();\n      const widget = new MainAreaWidget<DashboardWidget>({\n        content: dashboardContent\n      });\n\n      widget.id = 'resource-tracker-dashboard';\n      widget.title.label = 'Resource Tracker';\n      widget.title.closable = true;\n      return widget;\n    };\n    let widget = newWidget();\n\n    commands.addCommand(command, {\n      label: 'Resource Tracker',\n      caption: 'Resource Tracker',\n      icon: args => (args['isPalette'] ? undefined : costTrackerIcon),\n      execute: async args => {\n        console.log('Command executed');\n        // Regenerate the widget if disposed\n        if (widget.isDisposed) {\n          widget = newWidget();\n        }\n        if (!widget.isAttached) {\n          // Attach the widget to the main work area if it's not there\n          app.shell.add(widget, 'main');\n        }\n        // Activate the widget\n        app.shell.activateById(widget.id);\n      }\n    });\n\n    if (launcher) {\n      launcher.add({\n        command,\n        category: 'Admin tools',\n        rank: 1\n      });\n    }\n\n    if (palette) {\n      palette.addItem({\n        command,\n        args: { isPalette: true },\n        category: PALETTE_CATEGORY\n      });\n    }\n  }\n};\n\nexport default plugin;\n","import { LabIcon } from '@jupyterlab/ui-components';\n\nimport costTrackerSvg from '../../style/cost-tracker.svg';\n\nexport const costTrackerIcon = new LabIcon({\n  name: 'custom:cost-tracker',\n  svgstr: costTrackerSvg\n});\n","import React from 'react';\nimport { ReactWidget } from \"@jupyterlab/apputils\";\nimport DashboardComponent from \"../components/DashboardComponent\";\n\nexport class DashboardWidget extends ReactWidget {\n  constructor() {\n    super()\n  }\n\n  render(): JSX.Element {\n    return (\n      <DashboardComponent />\n    )\n  }\n}","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z\"\n}), 'Refresh');"],"names":[],"sourceRoot":""}