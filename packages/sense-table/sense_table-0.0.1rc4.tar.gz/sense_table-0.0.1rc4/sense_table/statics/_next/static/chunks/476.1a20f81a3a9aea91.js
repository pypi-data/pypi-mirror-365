"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[476],{28289:function(t,e,r){r.d(e,{U:function(){return n}});var o=r(32699),n=function(t){var e=t.xTitle,r=t.yTitle,n=(0,o.Z)();return{title:{text:"",font:{color:n.palette.text.primary}},xaxis:{title:{text:void 0===e?"":e,font:{color:n.palette.text.primary,size:n.typography.fontSize+2}},showticklabels:!1,showline:!1,showgrid:!1,tickfont:{color:n.palette.text.secondary}},yaxis:{title:{text:void 0===r?"":r,font:{color:n.palette.text.primary}},showticklabels:!0,showline:!1,showgrid:!1,tickfont:{color:n.palette.text.secondary}},paper_bgcolor:n.palette.background.paper,plot_bgcolor:n.palette.background.card,font:{color:n.palette.text.primary},margin:{l:60,r:30,t:30,b:60},dragmode:"pan",legend:{orientation:"h",x:0,y:1.02,font:{color:n.palette.text.primary}}}}},26476:function(t,e,r){r.r(e);var o=r(71921),n=r(56801),a=r(2617),i=r.n(a),l=r(32699),c=r(98672),s=r(36444),p=r(58055),u=r(28289),d=r(63401);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach(function(e){(0,o.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var y=i()(function(){return r.e(880).then(r.bind(r,33880))},{loadableGenerated:{webpack:()=>[33880]},ssr:!1,loadableGenerated:{webpack:function(){return[33880]}}}),g=n.memo(function(t){var e=t.data,r=(0,c.I0)(),o=(0,l.Z)(),a=(0,n.useState)(!1),i=a[0],f=a[1],g=(0,n.useState)(null),b=g[0],m=g[1],x=(0,c.v9)(function(t){return t.settings.histogramBreakdownColumn}),k=(0,c.v9)(function(t){return t.settings.histogramColumn}),v=(0,u.U)({xTitle:k,yTitle:"Count"});(0,n.useEffect)(function(){f(!0)},[]);var w=(0,n.useMemo)(function(){if(!e||!Array.isArray(e))return[];try{return e.map(function(t,e){return{x:t.x||[],y:t.y||[],name:t.name,type:"bar",customdata:t.customdata||[],hovertemplate:"<b>Count</b>: %{y}<br>"+"<b>".concat(x,"</b>: %{fullData.name}<br>")+"<b>".concat(k,"</b>: %{x}<br>")+"<extra></extra>",marker:{line:{color:o.palette.text.primary,width:1}}}})}catch(t){return console.error("Error preparing histogram plot data:",t),m(t.message),[]}},[e,o,x,k]),j=(0,n.useMemo)(function(){return h(h({},v),{},{barmode:"stack"})},[v]),O=(0,n.useMemo)(function(){return{responsive:!0,displayModeBar:!1,scrollZoom:!0,displaylogo:!1}},[]),C=(0,n.useCallback)(function(t){try{if(t.points&&t.points.length>0){var e,o=t.points[0],n=null===(e=o.customdata)||void 0===e?void 0:e.condExpr;n&&(r((0,p.dZ)(n)),r((0,s.h)({source:"Samples from histogram"})))}}catch(t){console.error("Error handling histogram click:",t)}},[r]);return i?b?(0,d.jsxs)("div",{style:{width:"100%",height:"300px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:o.palette.background.paper,color:o.palette.error.main,flexDirection:"column",gap:"10px"},children:[(0,d.jsx)("div",{children:"Error loading chart"}),(0,d.jsx)("div",{style:{fontSize:"12px",opacity:.7},children:b})]}):(0,d.jsx)("div",{style:{width:"100%",height:"100%",minHeight:"300px"},children:(0,d.jsx)(y,{data:w,layout:j,config:O,style:{width:"100%",height:"100%"},useResizeHandler:!0,onClick:C,onError:function(t){console.error("Plotly histogram error:",t),m(t.message||"Unknown plotting error")}})}):(0,d.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:o.palette.background.paper,color:o.palette.text.secondary},children:"Loading chart..."})});e.default=g}}]);