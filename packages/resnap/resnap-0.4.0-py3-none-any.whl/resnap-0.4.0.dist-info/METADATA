Metadata-Version: 2.4
Name: resnap
Version: 0.4.0
Summary: A Python library that captures and replays function results to save time, boost performance.
Project-URL: Repository, https://github.com/gloaguen-evan/resnap
Project-URL: Changelog, https://github.com/gloaguen-evan/resnap/releases
Project-URL: Issues, https://github.com/gloaguen-evan/resnap/issues
Author-email: Evan Gloaguen <evan.gloaguen@gmail.com>
License-Expression: MIT
License-File: LICENSE
Keywords: cache,checkpoint,function,method,python,results,save,snapshot
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Libraries
Requires-Python: <3.13,>=3.10
Requires-Dist: pandas[pyarrow]>=2.2.3
Requires-Dist: pydantic>=2.11.3
Requires-Dist: pyyaml>=6.0.2
Requires-Dist: toml>=0.10.2
Description-Content-Type: text/markdown

<p align="center">
  <img src="https://github.com/gloaguen-evan/resnap/blob/main/art/logo.png?raw=true" alt="resnap logo" style="width:100%; max-width:600px;"/>
</p>

<h1 align="center">resnap</h1>

<p align="center">
  <em>Smart function output snapshots and caching for Python</em><br>
  <strong>resnap</strong> snapshots and reuses function outputs based on their inputs, saving time with smart caching and metadata tracking.
</p>

---
![Lint](https://github.com/gloaguen-evan/resnap/actions/workflows/ci.yml/badge.svg?branch=main&event=push&label=Lint)
![Tests](https://github.com/gloaguen-evan/resnap/actions/workflows/ci.yml/badge.svg?branch=main&event=push&label=Tests)


## üöÄ Features

- Snapshot and cache function/method outputs on disk
- Avoid re-executing code when inputs haven‚Äôt changed
- Supports multiple formats: 
  - For pd.DataFrame objects: `parquet` (default) and `csv`
  - For other objects: `pkl` (default), `json`, and `txt`.  
  (Note that for the "json" format, the object type must be compatible with the json.dump method.)
- Stores metadata automatically
- Add custom metadata
- Minimal setup, flexible usage

---

## üì¶ Installation

To test in local mode
```bash
pip install resnap
```

If you want to use a S3 solution
```bash
pip install resnap[boto]
```

## üõ†Ô∏è Configuration
To use this library, you need to configure it using a pyproject.toml file.
Add the following section under [tool.resnap]:
```toml
[tool.resnap]
enabled = true                          # Enable or disable the library functionality
save_to = "local"                       # Choose the storage backend (e.g., 'local')
output_base_path = "results"            # Directory where output files will be saved
secrets_file_name = ""                  # Optional: path to a secrets file (leave empty if unused (e.g, 'local'))
enable_remove_old_files = true          # Automatically delete old files based on retention policy
max_history_files_length = 3            # Duration value for file retention, used with max_history_files_time_unit
max_history_files_time_unit = "day"     # Time unit used for history retention (e.g., 'second', 'minute', 'hour', 'day')
```

## üß™ Quick Example

```python
from resnap import resnap

@resnap
def expensive_computation(x, y):
    print("Running the actual computation...")
    return x * y + 42

result = expensive_computation(10, 2)
```

Second call with same arguments:
```python
# Output is retrieved from cache ‚Äî no print, no computation
result = expensive_computation(10, 2)
```

## üìÅ Output Structure
Each snapshot includes:
- A result file (in the format of your choice)
- A metadata file (e.g., timestamp, arguments, execution time, etc.)

## üìö Documentation
The documentation is available on [ReadTheDocs](https://resnap.readthedocs.io/en/latest/).

## üõ°Ô∏è License
This project is licensed under the MIT License. See the LICENSE file for details.

## ü§ù Contributing
Contributions, issues and feature requests are welcome!
Feel free to open a PR or start a discussion.

‚≠êÔ∏è Show your support
If you find this project useful, give it a ‚≠êÔ∏è on GitHub!
